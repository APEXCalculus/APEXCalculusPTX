<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="sec_limit_intro" label="sec_limit_intro">
  <title>An Introduction To Limits</title>
  <introduction>
    <p>
      We begin our study of <em>limits</em>
      by considering examples that demonstrate key concepts that will be explained as we progress.
    </p>
    <figure xml:id="vid_limit_intro_limit_concept" component="video" vshift="-3">
      <caption>The concept of a limit</caption>
      <video youtube="rG3XVvFIZPY" label="vid_limit_intro_limit_concept"/>
    </figure>


    <p>
      Consider the function <m>y = \frac{\sin(x) }{x}</m>.
      When <m>x</m> is near the value 1, what value (if any)
      is <m>y</m> near?
    </p>

    <p>
      While our question is not precisely formed
      (what constitutes <q>near the value 1</q>?),
      the answer does not seem difficult to find.
      One might think first to look at a graph of this function to approximate the appropriate
      <m>y</m> values.
      Consider <xref ref="fig_zoom_sinx_over_x"/>,
      where <m>y = \frac{\sin(x) }{x}</m> is graphed.
      For values of <m>x</m> near 1, it seems that <m>y</m> takes on values near <m>0.85</m>.
      In fact, when <m>x=1</m>, then <m>y=\frac{\sin(1) }{1} \approx 0.84</m>,
      so it makes sense that when <m>x</m> is <q>near</q>
      1, <m>y</m> will be <q>near</q> <m>0.84</m>.
    </p>

    <sidebyside widths="47% 47%" margins="0%" valign="bottom">
      <figure xml:id="fig_sinx_over_x_full">
        <caption><m>\sin(x)/x</m></caption>
        <image>
          <description>
            <p>
              Graph of <m>\sin(x)/x</m> showing the domain and range of  
              <m>-7</m> to <m>7</m> and <m>0</m> to 
              <m>1</m> respectively. The <m>x</m> intercepts are at 
              <m>x=-2\pi, -\pi, \pi</m>, and <m>2\pi</m>, and a <m>y</m> intercept is at <m>y = 1</m>. 
              The function has a downward curve for <m>-\pi \lt x \lt \pi</m> and an 
              upward curve for <m>-2\pi \gt x \lt -\pi</m>, and 
              <m>\pi \gt x \lt 2\pi</m>. The graph is undefined for <m>x = 0</m>.
            </p>
          </description>
          <shortdescription>
            Graph of sin(x)/x, shows values for the domain -7 &lt;=x &lt;=7,
            undefined at x = 0. 
          </shortdescription>
          <latex-image label="img_sinx_over_x_full">
            \begin{tikzpicture}[
              declare function = {func(\x) = (\x != 0) * (sin(x*180/pi)/x) + (\x == 0) * (1);}
            ]
              \begin{axis}[
                ymin=-0.25,
                ymax=1.2,
                xmin=-7,
                xmax=7,
              ]
                \addplot+[infinite,domain=-7:7,samples=50] {func(x)};
                \addplot[hollowdot] coordinates {(0,1)};
              \end{axis}
            \end{tikzpicture}
          </latex-image>
        </image>
      </figure>

      <figure xml:id="fig_zoom_sinx_over_x">
        <caption><m>\sin(x)/x</m> near <m>x=1</m></caption>
        <!-- START figures/sinx_over_x_1.tex -->
        <image>
          <description>
            <p>
              Graph of <m>\sin(x)/x</m> zoomed in on values where <m>x</m> is near <m>1</m>. The 
              domain of the graph is <m>0.5</m> to <m>1.5</m>. 
              The graph has only a slight downward curve. It shows that for <m>x = 1</m>, 
              <m>\sin(x)/x</m> is approx. <m>0.84</m>
            </p>
          </description>
          <shortdescription> 
            Graph of sin(x)/x zoomed in on values where x is near 1. Shows that for x = 1, 
            sin(x)/x is approx. 0.84.
          </shortdescription>
          <latex-image label="img_zoom_sinx_over_x">
            \begin{tikzpicture}
              \begin{axis}[
                xmin=.3,
                xmax=1.6,
                ymin=.4,
                ymax=1.1,
                xtick={0.5,1,1.5},
                ytick={0.6,0.8,1},
                xdiscontinuity,
                ydiscontinuity,
                grid=both,
              ]
                \addplot+[infinite,domain=0.5:1.5] {sin(x*180/pi)/x};
              \end{axis}
            \end{tikzpicture}
          </latex-image>
        </image>
        <!-- figures/sinx_over_x_1.tex END -->
      </figure>
    </sidebyside>

    <p>
      Consider this same function again at a different value for <m>x</m>.
      When <m>x</m> is near <m>0</m>, what value
      (if any)
      is <m>y</m> near?
      By considering <xref ref="fig_sinx_over_x"/>,
      one can see that it seems that <m>y</m> takes on values near <m>1</m>.
      But what happens when <m>x=0</m>?
      We have
      <me>
        y \rightarrow \frac{\sin(0) }{0} \rightarrow {\genfrac{}{}{0pt}{0}{\text{“}}{}}\frac{0}{0}{\genfrac{}{}{0pt}{0}{\text{”}}{}}
      </me>.
      The expression <m>0/0</m> has no value; it is

          <idx><h>limit</h><h>indeterminate form</h></idx>
          <idx><h>indeterminate form</h></idx>

      <term>indeterminate</term>.
      Such an expression gives no information about what is going on with the function nearby.
      We cannot find out how <m>y</m> behaves near <m>x=0</m>
      for this function simply by letting <m>x=0</m>.
    </p>

    <figure xml:id="fig_sinx_over_x" vshift="0">
      <caption><m>\sin(x)/x</m> near <m>x=0</m></caption>
      <!-- START figures/sinx_over_x_2.tex -->
      <image width="47%">
        <description>
          <p>
            Graph of <m>\sin(x)/x</m> zoomed in on values where <m>x</m> is near <m>0</m>. The
            domain of the graph is <m>-1</m> to <m>1</m>. The graph
            has a downward curve and symmetric, peaking at <m>y = 1</m>. There is a dot at
            <m>x = 0</m> showing the equation is undefined for values of <m>x = 0</m>,
            that is, <m>f(0) =</m> undefined.
          </p>
        </description>
        <shortdescription> 
          Graph of sin(x)/x zoomed in on values where x is near 0. Shows that when x = 0 
          sin(x)/x is undefined.
        </shortdescription>
        <latex-image label="img_sinx_over_x_2">
          \begin{tikzpicture}[
            declare function = {func(\x) = (\x != 0) * (sin(x*180/pi)/x) + (\x == 0) * (1);}
          ]
            \begin{axis}[
              xmin=-1.1,
              xmax=1.2,
              ymin=.75,
              ymax=1.05,
              ytick={.8,.9,1},
              extra y ticks={.1,.3,...,.9},
              extra y tick labels={},
            ]
              \addplot+[infinite,domain=-1:1] {func(x)};
              \addplot[hollowdot] coordinates {(0,1)};
            \end{axis}
          \end{tikzpicture}
        </latex-image>
      </image>
      <!-- figures/sinx_over_x_2.tex END -->
    </figure>

    <p>
      <em>Finding a limit</em> entails understanding how a function behaves near a particular value of
      <m>x</m>.
      Before continuing, it will be useful to establish some notation.
      Let <m>y=f(x)</m>; that is,
      let <m>y</m> be a function of <m>x</m> for some function <m>f</m>.
      The expression <q>the limit of <m>y</m> as <m>x</m> approaches
      <m>1</m></q> describes a number, often referred to as <m>L</m>,
      that <m>y</m> nears as <m>x</m> nears <m>1</m>.
      We write all this as
      <me>
        \lim_{x\to 1} y = \lim_{x\to 1} f(x) = L
      </me>.
      This is not a complete definition (that will come in the next section);
      this is a pseudo-definition that will allow us to explore the idea of a limit.
          <idx><h>limit</h><h>pseudo-definition</h></idx>
    </p>

    <p>
      Above, where <m>f(x) = \sin(x)/x</m>, we approximated
      <me>
        \lim_{x\to 1} \frac{\sin(x) }{x} \approx 0.84 \quad \text{ and } \quad \lim_{x\to 0}\frac{\sin(x) }{x} \approx 1
      </me>.
      (We <em>approximated</em> these limits,
      hence used the <q><m>\approx</m></q> symbol,
      since we are working with the pseudo-definition of a limit,
      not the actual definition.)
    </p>
    <figure xml:id="vid_limit_intro_sinxoverx" component="video" vshift="0">
      <caption>Investigating <m>\sin(x)/x</m></caption>
      <video youtube="__qzaSg4y1I" label="vid_limit_intro_sinxoverx"/>
    </figure>


    <p>
      Once we have the true definition of a limit,
      we will find limits <em>analytically</em>;
      that is, exactly using a variety of mathematical tools.
      For now, we will <em>approximate</em>
      limits both graphically and numerically.
      Graphing a function can provide a good approximation,
      though often not very precise.
      Numerical methods can provide a more accurate approximation.
      We have already approximated limits graphically,
      so we now turn our attention to numerical approximations.
    </p>

    <p>
      Consider again <m>\lim_{x\to 1}\frac{\sin(x)}{x}</m>.
      To approximate this limit numerically,
      we can create a table of <m>x</m> and <m>f(x)</m> values where <m>x</m> is <q>near</q> <m>1</m>.
      This is done in <xref ref="table_sinx_1"/>.
    </p>

    <p>
      Notice that for values of <m>x</m> near <m>1</m>,
      we have <m>\sin(x)/x</m> near <m>0.841</m>.
      The <m>x=1</m> row is included,
      but we stress the fact that when considering limits,
      we are <em>not</em> concerned with the value of the function at that particular <m>x</m> value;
      we are only concerned with the values of the function when <m>x</m> is <em>near</em> 1.
    </p>

    <figure xml:id="table_sinx_1" vshift="0">
      <caption>Values of <m>\sin(x)/x</m> with <m>x</m> near <m>1</m></caption>
      <tabular>
        <row bottom="medium">
          <cell><m>x</m></cell>
          <cell><m>\sin(x)/x</m></cell>
        </row>
        <row>
          <cell>0.9</cell>
          <cell>0.870363</cell>
        </row>
        <row>
          <cell>0.99</cell>
          <cell>0.844471</cell>
        </row>
        <row>
          <cell>0.999</cell>
          <cell>0.841772</cell>
        </row>
        <row>
          <cell><alert>1</alert></cell>
          <cell><alert>0.841471</alert></cell>
        </row>
        <row>
          <cell>1.001</cell>
          <cell>0.841170</cell>
        </row>
        <row>
          <cell>1.01</cell>
          <cell>0.838447</cell>
        </row>
        <row>
          <cell>1.1</cell>
          <cell>0.810189</cell>
        </row>
      </tabular>
    </figure>

    <p>
      Now approximate <m>\lim_{x\to 0} \frac{\sin(x)}{x}</m> numerically.
      We already approximated the value of this limit as <m>1</m> graphically in
      <xref ref="fig_sinx_over_x"/>.
      <xref ref="table_sinx_2"/>
      shows the value of <m>\sin(x)/x</m> for values of <m>x</m> near <m>0</m>.
      Ten places after the decimal point are shown to highlight how close to <m>1</m> the value of
      <m>\sin(x)/x</m> gets as <m>x</m> takes on values very near <m>0</m>.
      We include the <m>x=0</m> row but again stress that we are not concerned with the value of our function at <m>x=0</m>,
      only on the behavior of the function <em>near</em> <m>0</m>.
    </p>

    <figure xml:id="table_sinx_2" vshift="-3">
      <caption>Values of <m>\sin(x)/x</m> with <m>x</m> near <m>0</m></caption>
      <tabular>
        <row bottom="medium">
          <cell><m>x</m></cell>
          <cell><m>\sin(x)/x</m></cell>
        </row>
        <row>
          <cell>-0.1</cell>
          <cell>0.9983341665</cell>
        </row>
        <row>
          <cell>-0.01</cell>
          <cell>0.9999833334</cell>
        </row>
        <row>
          <cell>-0.001</cell>
          <cell>0.9999998333</cell>
        </row>
        <row>
          <cell><alert>0</alert></cell>
          <cell><alert>not defined</alert></cell>
        </row>
        <row>
          <cell>0.001</cell>
          <cell>0.9999998333</cell>
        </row>
        <row>
          <cell>0.01</cell>
          <cell>0.9999833334</cell>
        </row>
        <row>
          <cell>0.1</cell>
          <cell>0.9983341665</cell>
        </row>
      </tabular>
    </figure>

    <p>
      This numerical method gives confidence to say that <m>1</m> is a good approximation of
      <m>\lim_{x\to 0} \frac{\sin(x)}{x}</m>; that is,
      <me>
        \lim_{x\to 0} \frac{\sin(x)}{x} \approx 1
      </me>.
    </p>

    <p>
      Later we will be able to prove that the limit is
      <em>exactly</em> <m>1</m>.
    </p>

    <p>
      We now consider several examples that allow us explore different aspects of the limit concept.
    </p>

    <example xml:id="ex_limit1">
      <title>Approximating the value of a limit</title>
      <statement>
        <p>
          Use graphical and numerical methods to approximate
          <me>
            \lim_{x\to 3} \frac{x^2-x-6}{6x^2-19x+3}
          </me>.
        </p>
      </statement>

      <solution>
        <p>
          To graphically approximate the limit, graph
          <me>
            y = \frac{x^2-x-6}{6x^2-19x+3}
          </me>
          on a small interval that contains <m>3</m>.
          To numerically approximate the limit,
          create a table of values where the <m>x</m> values are near <m>3</m>.
          This is done in <xref ref="fig_limit1"/>
          and <xref ref="table_limit1"/>, respectively.
        </p>

        <sidebyside widths="47% 47%" margins="0%" valign="bottom">
          <figure xml:id="fig_limit1">
            <caption>Graphically approximating a limit in <xref ref="ex_limit1"/></caption>
            <!-- START figures/fig_limit1.tex -->
            <image>
              <description>
                <p>
                  Graph of <m>(x^2 - x - 6)/(6x^2 - 19x + 3)</m>,
                  zoomed on values near <m>x = 3</m>. The domain is approximately
                  <m>2.5</m> to <m>2.5</m>.
                  There is a slight upward curve to the graph. Shows that the limit of the
                  equation as <m>x</m> approaches <m>3</m> is <m>0.294</m>. The graph also
                  shows that the equation is undefined for <m>x = 3</m>.
                </p>
              </description>
              <shortdescription>
                Graph of the equation, shows that when x = 3 the y = undefined,
                but near 0.294.
              </shortdescription>
              <latex-image label="img_limit1">
                \begin{tikzpicture}
                  \begin{axis}[
                    xmin=2.3,
                    xmax=3.7,
                    ymin=0.2,
                    ymax=.35,
                    xdiscontinuity,
                    ydiscontinuity,
                    extra y tick labels={},
                    grid=both,
                  ]
                    \addplot+[infinite,domain=2.5:3.45] {(x^2 - x - 6)/(6*x^2 - 19*x + 3)};
                    \addplot [hollowdot] coordinates{(3,0.294)};
                  \end{axis}
                \end{tikzpicture}
              </latex-image>
            </image>
            <!-- figures/fig_limit1.tex END -->
          </figure>

          <figure xml:id="table_limit1">
            <caption>Numerically approximating a limit in <xref ref="ex_limit1"/></caption>
            <tabular>
              <row bottom="medium">
                <cell><m>x</m></cell>
                <cell><m>\frac{x^2-x-6}{6x^2-19x+3}</m></cell>
              </row>
              <row>
                <cell><m>2.9</m></cell>
                <cell><m>0.29878</m></cell>
              </row>
              <row>
                <cell><m>2.99</m></cell>
                <cell><m>0.294569</m></cell>
              </row>
              <row>
                <cell><m>2.999</m></cell>
                <cell><m>0.294163</m></cell>
              </row>
              <row>
                <cell><em>3</em></cell>
                <cell><em>not defined</em></cell>
              </row>
              <row>
                <cell><m>3.001</m></cell>
                <cell><m>0.294073</m></cell>
              </row>
              <row>
                <cell><m>3.01</m></cell>
                <cell><m>0.293669</m></cell>
              </row>
              <row>
                <cell><m>3.1</m></cell>
                <cell><m>0.289773</m></cell>
              </row>
            </tabular>
          </figure>
        </sidebyside>

        <p>
          The graph shows that when <m>x</m> is near <m>3</m>,
          the value of <m>y</m> is very near <m>0.3</m>.
          By considering values of <m>x</m> near <m>3</m>,
          we see that <m>y=0.294</m> is a better approximation.
          The graph and the table imply that
          <me>
            \lim_{x\to 3} \frac{x^2-x-6}{6x^2-19x+3} \approx 0.294
          </me>.
        </p>
      </solution>
      <solution component="video" vshift="1">
        <title>Video solution</title>
        <video width="98%" youtube="eHx3LmrQZXM" xml:id="vid_limit_intro_rational_func" label="vid_limit_intro_rational_func" component="video"/>
      </solution>
    </example>

    <p>
      This example may bring up a few questions about approximating limits
      (and the nature of limits themselves).
      <ol>
        <li>
          <p>
            If a graph does not produce as good an approximation as a table,
            why bother with it?
          </p>
        </li>
        <li>
          <p>
            How many values of <m>x</m> in a table are
            <q>enough?</q> In the previous example,
            could we have just used <m>x=3.001</m> and found a fine approximation?
          </p>
        </li>
      </ol>
    </p>

    <p>
      Graphs are useful since they give a visual understanding concerning the behavior of a function.
      Sometimes a function may act <q>erratically</q>
      near certain <m>x</m> values which is hard to discern numerically but very plain graphically
      (see <xref ref="ex_no_limit3"/>).
      Since graphing utilities are very accessible,
      it makes sense to make proper use of them.
    </p>

    <p>
      Since tables and graphs are used only to
      <em>approximate</em> the value of a limit,
      there is not a firm answer to how many data points are <q>enough.</q>
      Include enough so that a trend is clear, and use values
      (when possible)
      both less than and greater than the value in question.
      In <xref ref="ex_limit1"/>,
      we used both values less than and greater than <m>3</m>.
      Had we used just <m>x=3.001</m>,
      we might have been tempted to conclude that the limit had a value of <m>0.3</m>.
      While this is not far off, we could do better.
      Using values <q>on both sides of 3</q>
      helps us identify trends.
    </p>

    <example xml:id="ex_limit2">
      <title>Approximating the value of a limit</title>
      <statement>
        <p>
          Graphically and numerically approximate the limit of
          <m>f(x)</m> as <m>x</m> approaches <m>0</m>, where
          <me>
            f(x) = \begin{cases}x+1 \amp  x\lt  0 \\ -x^2+1 \amp  x \gt 0\end{cases}
          </me>.
        </p>
      </statement>

      <solution>
        <p>
          Again we graph <m>f(x)</m> and create a table of its values near
          <m>x=0</m> to approximate the limit.
          Note that this is a piecewise defined function,
          so it behaves differently on either side of <m>0</m>.
          <xref ref="fig_limit2"/> shows a graph of <m>f(x)</m>,
          and on either side of <m>0</m> it seems the <m>y</m> values approach <m>1</m>.
          Note that <m>f(0)</m> is not actually defined,
          as indicated in the graph with the open circle.
        </p>

        <sidebyside widths="47% 47%" margins="0%" valign="bottom">
          <figure xml:id="fig_limit2">
            <caption>Graphically approximating a limit in <xref ref="ex_limit2"/></caption>
            <!-- START figures/fig_limit2.tex -->
            <image>
              <description>
                <p>
                  Graph of the piecewise-defined function in <xref ref="ex_limit2"/>.
                  For values of <m>x \lt 0</m> the graph is straight
                  with a slope of <m>1</m> and for values <m>x \gt 0</m> the graph is
                  curved downward with a negative slope. Shows that at <m>x = 0</m>,
                  <m>y</m> is undefined, but near <m>1</m>.
                </p>
              </description>
              <shortdescription>
                Graph of the piecewise function, shows that at x = 0, y is undefined,
                but is near 1.
              </shortdescription>
              <latex-image label="img_limit2">
                \begin{tikzpicture}[
                  declare function = {func(\x) = (\x &lt; 0) * (x+1) + (\x &gt; 0) * (-x^2+1);}
                ]
                  \begin{axis}[
                    xmin=-1.1,
                    xmax=1.2,
                    ymin=-.1,
                    ymax=1.1,
                  ]
                    \addplot+[infinite,domain=-1:1] {func(x)};
                    \addplot[hollowdot] coordinates {(0,1)};
                  \end{axis}
                \end{tikzpicture}
              </latex-image>
            </image>
            <!-- figures/fig_limit2.tex END -->
          </figure>

          <figure xml:id="table_limit2">
            <caption>Numerically approximating a limit in <xref ref="ex_limit2"/></caption>
            <tabular>
              <row bottom="medium">
                <cell><m>x</m></cell>
                <cell><m>f(x)</m></cell>
              </row>
              <row>
                <cell><m>-0.1</m></cell>
                <cell><m>0.9</m></cell>
              </row>
              <row>
                <cell><m>-0.01</m></cell>
                <cell><m>0.99</m></cell>
              </row>
              <row>
                <cell><m>-0.001</m></cell>
                <cell><m>0.999</m></cell>
              </row>
              <row>
                <cell><m>0.001</m></cell>
                <cell><m>0.999999</m></cell>
              </row>
              <row>
                <cell><m>0.01</m></cell>
                <cell><m>0.9999</m></cell>
              </row>
              <row>
                <cell><m>0.1</m></cell>
                <cell><m>0.99</m></cell>
              </row>
            </tabular>
          </figure>
        </sidebyside>

        <p>
          <xref ref="table_limit2"/>
          shows values of <m>f(x)</m> for values of <m>x</m> near <m>0</m>.
          It is clear that as <m>x</m> takes on values very near <m>0</m>,
          <m>f(x)</m> takes on values very near <m>1</m>.
          It turns out that if we let <m>x=0</m> for either <q>piece</q>
          of <m>f(x)</m>, <m>1</m> is returned;
          this is significant and we'll return to this idea later.
        </p>

        <p>
          The graph and table allow us to say that <m>\lim_{x\to 0}f(x) \approx 1</m>;
          in fact, we are probably very sure it <em>equals</em> 1.
        </p>
      </solution>
      <solution component="video" vshift="1">
        <title>Video solution</title>
        <video width="98%" youtube="7RAiKoLCpgU" xml:id="vid_limit_intro_piecewise_func" label="vid_limit_intro_piecewise_func" component="video"/>
      </solution>
    </example>
  </introduction>

  <subsection xml:id="subsec_nolimit3">
    <title>Identifying When Limits Do Not Exist</title>
    <figure xml:id="vid_limit_intro_limit_dne" component="video" vshift="-2">
      <caption>Video introduction for <xref ref="subsec_nolimit3"/></caption>
      <video youtube="DSIaDa_ABxo" label="vid_limit_intro_limit_dne"/>
    </figure>

    <p>
      A function may not have a limit for all values of <m>x</m>.
      That is, we cannot write that <m>\lim_{x\to c}f(x)=L</m>
      (where <m>L</m> is some real number)
      for all values of <m>c</m>,
      for there may not be a number that <m>f(x)</m> is approaching.
      There are three common ways in which a limit may fail to exist.

          <idx><h>limit</h><h>does not exist</h></idx>
      <ol>
        <li>
          <p>
            The function <m>f(x)</m> may approach different values on either side of <m>c</m>.
          </p>
        </li>

        <li>
          <p>
            The function may grow without upper or lower bound as <m>x</m> approaches <m>c</m>.
          </p>
        </li>

        <li>
          <p>
            The function may oscillate as <m>x</m> approaches <m>c</m>
            without approaching a specific value.
          </p>
        </li>
      </ol>
      We'll explore each of these in turn.
    </p>

    <example xml:id="ex_no_limit1">
      <title>Different Values Approached From Left and Right</title>
      <statement>
        <p>
          Explore why <m>\lim_{x\to 1} f(x)</m> does not exist, where
          <me>
            f(x) = \begin{cases}x^2-2x+3 \amp  x\leq 1 \\ x \amp  x \gt 1\end{cases}
          </me>.
        </p>
      </statement>
      <solution>
        <p>
          A graph of <m>f(x)</m> around <m>x=1</m> and a table are given in
          Figures <xref ref="fig_nolimit1"/> and
          <xref ref="table_nolimit1"/>, respectively.
          It is clear that as <m>x</m> approaches <m>1</m>,
          <m>f(x)</m> does not seem to approach a single number.
          Instead, it seems as though <m>f(x)</m> approaches two different numbers.
          When considering values of <m>x</m> less than <m>1</m>
          (approaching <m>1</m> from the left),
          it seems that <m>f(x)</m> is approaching <m>2</m>;
          when considering values of <m>x</m> greater than <m>1</m>
          (approaching <m>1</m> from the right),
          it seems that <m>f(x)</m> is approaching <m>1</m>.
          Recognizing this behavior is important;
          we'll study this in greater depth later.
          Right now, it suffices to say that the limit does not exist since
          <m>f(x)</m> is approaching two <em>different</em>
          values as <m>x</m> approaches <m>1</m>.
        </p>

        <sidebyside widths="47% 47%" margins="0%" valign="bottom">
          <figure xml:id="fig_nolimit1">
            <caption>Observing no limit as <m>x\to 1</m> in <xref ref="ex_no_limit1"/></caption>
            <!-- START figures/fig_nolimit1.tex -->
            <image>
              <description>
                <p>
                  Graph of piecewise function in <xref ref="ex_no_limit1"/>.
                  For values of <m>x \leq 1</m> the graph
                  has a upward curve, and where <m>x = 1</m> <m>y = 2</m>.
                  For values of <m>x \gt 1</m> the graph is straight with a
                  positive slope, where <m>x = 1</m>, <m>y</m> is undefined.
                </p>
              </description>
              <shortdescription>
                Graph of the piecewise function, which shows that as x approaches 1 there
                is no limit.
              </shortdescription>
              <latex-image label="img_nolimit1">
                \begin{tikzpicture}
                  \begin{axis}[
                    xmin=-.1,
                    xmax=2.1,
                    ymin=-.1,
                    ymax=3.3,
                  ]
                    \addplot[firstcurvestyle,leftarrow, domain=0:1] {x^2 - 2*x + 3};
                    \addplot[firstcurvestyle,rightarrow, domain=1:2] {x};
                    \addplot[soliddot] coordinates {(1,2)};
                    \addplot[hollowdot] coordinates {(1,1)};
                  \end{axis}
                \end{tikzpicture}
              </latex-image>
            </image>
            <!-- figures/fig_nolimit1.tex END -->
          </figure>

          <figure xml:id="table_nolimit1">
            <caption>Values of <m>f(x)</m> near <m>x=1</m> in <xref ref="ex_no_limit1"/></caption>
            <tabular>
              <row bottom="medium">
                <cell><m>x</m></cell>
                <cell><m>f(x)</m></cell>
              </row>
              <row>
                <cell><m>0.9</m></cell>
                <cell><m>2.01</m></cell>
              </row>
              <row>
                <cell><m>0.99</m></cell>
                <cell><m>2.0001</m></cell>
              </row>
              <row>
                <cell><m>0.999</m></cell>
                <cell><m>2.000001</m></cell>
              </row>
              <row>
                <cell><m>1.001</m></cell>
                <cell><m>1.001</m></cell>
              </row>
              <row>
                <cell><m>1.01</m></cell>
                <cell><m>1.01</m></cell>
              </row>
              <row>
                <cell><m>1.1</m></cell>
                <cell><m>1.1</m></cell>
              </row>
            </tabular>
          </figure>
        </sidebyside>
      </solution>
    </example>

    <example xml:id="ex_no_limit2">
      <title>The Function Grows Without Bound</title>
      <statement>
        <p>
          Explore why <m>\lim_{x\to 1} \frac{1}{(x-1)^2}</m> does not exist.
        </p>
      </statement>
      <solution>
        <p>
          A graph and table of <m>f(x) = \frac{1}{(x-1)^2}</m> are given in
          <xref ref="fig_nolimit2"/>
          and <xref ref="table_nolimit2"/>, respectively.
          Both show that as <m>x</m> approaches <m>1</m>,
          <m>f(x)</m> grows larger and larger.
        </p>

        <sidebyside widths="47% 47%" margins="0%" valign="bottom">
          <figure xml:id="fig_nolimit2">
            <caption>Observing no limit as <m>x\to 1</m> in <xref ref="ex_no_limit2"/></caption>
            <!-- START figures/fig_nolimit2.tex -->
            <image>
              <description>
                <p>
                  Graph of the function for <xref ref="ex_no_limit2"/>.
                  The graph hows a horizontal
                  asymptote at <m>y = 0</m> and a vertical asymptote at <m>x = 1</m>.
                  Because of the vertical asymptote at <m>x = 1</m> the equation
                  has no limit as <m>x</m> approaches <m>1</m>.
                </p>
              </description>
              <shortdescription>
                Graph of the equation showing that as x approaches 1 f(x) asymptotes.
              </shortdescription>
              <latex-image label="img_nolimit2">
                \begin{tikzpicture}
                  \begin{axis}[
                    xmin=-.1,
                    xmax=2.1,
                    ymin=-1,
                    ymax=110
                  ]
                    \addplot[firstcurvestyle,infinite,domain=0:0.9] {1/(x - 1)^2};
                    \addplot[firstcurvestyle,infinite,domain=1.1:2] {1/(x - 1)^2};
                    \addplot[asymptote,rightarrow] coordinates {(1,1) (1,100)};
                  \end{axis}
                \end{tikzpicture}
              </latex-image>
            </image>
            <!-- figures/fig_nolimit2.tex END -->
          </figure>

          <figure xml:id="table_nolimit2">
            <caption>Values of <m>f(x)</m> near <m>x=1</m> in <xref ref="ex_no_limit2"/></caption>
            <tabular>
              <row bottom="medium">
                <cell><m>x</m></cell>
                <cell><m>f(x)</m></cell>
              </row>
              <row>
                <cell><m>0.9</m></cell>
                <cell><m>100</m>.</cell>
              </row>
              <row>
                <cell><m>0.99</m></cell>
                <cell><m>10000</m>.</cell>
              </row>
              <row>
                <cell><m>0.999</m></cell>
                <cell><m>1.\times 10^6</m></cell>
              </row>
              <row>
                <cell><m>1.001</m></cell>
                <cell><m>1.\times 10^6</m></cell>
              </row>
              <row>
                <cell><m>1.01</m></cell>
                <cell><m>10000</m>.</cell>
              </row>
              <row>
                <cell><m>1.1</m></cell>
                <cell><m>100</m>.</cell>
              </row>
            </tabular>
          </figure>
        </sidebyside>

        <p>
          We can deduce this on our own,
          without the aid of the graph and table.
          If <m>x</m> is near 1, then <m>(x-1)^2</m> is very small, and:
          <me>
            \frac{1}{\text{ very small number } } = \text{ very large number }
          </me>.
        </p>

        <p>
          Since <m>f(x)</m> is not approaching a single number, we conclude that
          <me>
            \lim_{x\to 1}\frac{1}{(x-1)^2}
          </me>
          does not exist.
        </p>
      </solution>
    </example>

    <figure xml:id="vid_limit_intro_jumps_asymptotes" component="video" vshift="1">
      <caption>Video presentation for <xref first="ex_no_limit1" last="ex_no_limit2">Examples</xref></caption>
      <video youtube="NnV1A1KTbg0" label="vid_limit_intro_jumps_asymptotes"/>
    </figure>

    <example xml:id="ex_no_limit3">
      <title>The Function Oscillates</title>
      <statement>
        <p>
          Explore why <m>\lim_{x\to 0}\sin(1/x)</m> does not exist.
        </p>
      </statement>

      <solution>
        <p>
          Two graphs of <m>f(x) = \sin(1/x)</m> are given in <xref ref="fig_nolimit3"/>.
          <xref ref="fig_nolimit3a"/>
          shows <m>f(x)</m> on the interval <m>[-1,1]</m>;
          notice how <m>f(x)</m> seems to oscillate near <m>x=0</m>.
          One might think that despite the oscillation,
          as <m>x</m> approaches <m>0</m>,
          <m>f(x)</m> approaches <m>0</m>.
          However, <xref ref="fig_nolimit3b"/> zooms in on <m>\sin(1/x)</m>,
          on the interval <m>[-0.1,0.1]</m>.
          Here the oscillation is even more pronounced.
          Finally, in <xref ref="table_nolimit3c"/>,
          we see <m>\sin(1/x)</m> evaluated for values of <m>x</m> near <m>0</m>.
          As <m>x</m> approaches <m>0</m>,
          <m>f(x)</m> does not appear to approach any value.
        </p>

        <figure xml:id="fig_nolimit3">
          <caption>Observing that <m>f(x)=\sin(1/x)</m> has no limit as <m>x\to0</m> in <xref ref="ex_no_limit3"/></caption>
          <sidebyside widths="47% 47%" margins="0%">
            <figure xml:id="fig_nolimit3a">
              <caption/>
              <!-- START figures/fig_nolimit3a.tex -->
              <image>
                <description>
                  <p>
                    Graph of <m>sin(1/x)</m> displaying the <m>x</m> and <m>y</m>
                    intervals <m>-1</m> to <m>1</m>. As <m>x</m> gets close to
                    <m>0</m> the cycles shorten, rendering a wide, vertical line.
                    This line is however not solid as it is just a bunch of lines
                    really close to each other.
                  </p>
                </description>
                <shortdescription>
                  Graph of the equation showing a thick line at x = 0, where the thick
                  line is just the oscillation of a single thin line on short cycles.
                </shortdescription>
                <latex-image label="img_nolimit3a">
                  \begin{tikzpicture}
                    \begin{axis}[
                      xmin=-1.1,
                      xmax=1.1,
                      ymin=-1.1,
                      ymax=1.2,
                    ]
                      \addplot[firstcurvestyle,leftarrow,
                        domain=-1.018591636:-0.318309886, % 1/(15/48 pi) to 1/(48/48 pi)
                        samples=34, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.318309886:-0.106103295, % 1/pi to 1/(3 pi)
                        samples=25, % sample every pi/12 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.106103295:-0.063661977, % 1/(3 pi) to 1/(5 pi)
                        samples=49, % sample every pi/24 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.063661977:-0.045472841, % 1/(5 pi) to 1/(7 pi)
                        samples=97, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                      \draw [color=firstcolor,fill=firstcolor] (axis cs:-0.045472841,-1) rectangle (axis cs:0.045472841,1);
                      %\addplot[firstcurvestyle,-,smooth,
                      %  domain=-0.045472841:-0.0106103295, % 1/(7 pi) to 1/(30 pi)
                      %  samples=93, % sample every pi/2 through phase
                      %] {sin(1/x * 180 / pi)};
                      %\addplot[firstcurvestyle,-,smooth,
                      %  domain=0.0106103295:0.045472841, % 1/(30 pi) to 1/(7 pi)
                      %  samples=93, % sample every pi/2 through phase
                      %] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.045472841:0.063661977, % 1/(7 pi) to 1/(5 pi)
                        samples=97, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.063661977:0.106103295, % 1/(5 pi) to 1/(3 pi)
                        samples=49, % sample every pi/24 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.106103295:0.318309886, % 1/(3 pi) to 1/pi
                        samples=25, % sample every pi/12 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,rightarrow,
                        domain=0.318309886:1.018591636, % 1/(48/48 pi) to 1/(15/48 pi)
                        samples=34, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <!-- figures/fig_nolimit3a.tex END -->
            </figure>

            <figure xml:id="fig_nolimit3b">
              <caption/>
              <!-- START figures/fig_nolimit3b.tex -->
              <image>
                <description>
                  <p>
                    Graph of <m>sin(1/x)</m> displaying the <m>y</m> interval <m>-1</m> to
                    <m>1</m> and <m>x</m> interval <m>-0.1</m> to <m>0.1</m>. As <m>x</m> gets close
                    to <m>0</m> the cycles shorten, rendering a wide, vertical line.
                    This line is however not solid as it is just a bunch of lines
                    really close to each other.
                  </p>
                </description>
                <shortdescription>
                  Graph of the same equation, shown with a smaller x interval, -0.1 to 0.1.
                </shortdescription>
                <latex-image label="img_nolimit3b">
                  \begin{tikzpicture}
                    \begin{axis}[
                      xmin=-.11,
                      xmax=.11,
                      ymin=-1.1,
                      ymax=1.1
                    ]
                      \addplot[firstcurvestyle,leftarrow,
                        domain=-0.100518911:-0.063661977, % 1/(152/48 pi) to 1/(240/48 pi)
                        samples=89, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.063661977:-0.045472841, % 1/(5 pi) to 1/(7 pi)
                        samples=25, % sample every pi/12 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.045472841:-0.035367765, % 1/(7 pi) to 1/(9 pi)
                        samples=49, % sample every pi/24 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.035367765:-0.024485376, % 1/(9 pi) to 1/(13 pi)
                        samples=145, % sample every pi/36 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=-0.024485376:-0.012732395, % 1/(13 pi) to 1/(25 pi)
                        samples=73, % sample every pi/6 through phase
                      ] {sin(1/x * 180 / pi)};
                      \draw [color=firstcolor,fill=firstcolor] (axis cs:-0.012732395,-1) rectangle (axis cs:0.012732395,1);
                      %\addplot[firstcurvestyle,-,smooth,
                      %  domain=-0.0031830988618379:-0.0010610329539459, % 1/(100 pi) to 1/(300 pi)
                      %  samples=401, % sample every pi/2 through phase
                      %] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,leftarrow,
                        domain=0.100518911:0.063661977, % 1/(152/48 pi) to 1/(240/48 pi)
                        samples=89, % sample every pi/48 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.063661977:0.045472841, % 1/(5 pi) to 1/(7 pi)
                        samples=25, % sample every pi/12 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.045472841:0.035367765, % 1/(7 pi) to 1/(9 pi)
                        samples=49, % sample every pi/24 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.035367765:0.024485376, % 1/(9 pi) to 1/(13 pi)
                        samples=145, % sample every pi/36 through phase
                      ] {sin(1/x * 180 / pi)};
                      \addplot[firstcurvestyle,-,smooth,
                        domain=0.024485376:0.012732395, % 1/(13 pi) to 1/(25 pi)
                        samples=73, % sample every pi/6 through phase
                      ] {sin(1/x * 180 / pi)};
                      %\addplot[firstcurvestyle,-,smooth,
                      %  domain=0.0031830988618379:0.0010610329539459, % 1/(100 pi) to 1/(300 pi)
                      %  samples=401, % sample every pi/2 through phase
                      %] {sin(1/x * 180 / pi)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <!-- figures/fig_nolimit3b.tex END -->
            </figure>
          </sidebyside>
        </figure>

        <figure xml:id="table_nolimit3c" vshift="2.5">
          <caption>Observing that <m>f(x)=\sin(1/x)</m> has no limit as <m>x\to0</m> in <xref ref="ex_no_limit3"/></caption>
          <tabular>
            <row bottom="medium">
              <cell><m>x</m></cell>
              <cell><m>\sin(1/x)</m></cell>
            </row>
            <row>
              <cell><m>0.1</m></cell>
              <cell><m>-0.544021</m></cell>
            </row>
            <row>
              <cell><m>0.01</m></cell>
              <cell><m>-0.506366</m></cell>
            </row>
            <row>
              <cell><m>0.001</m></cell>
              <cell><m>0.82688</m></cell>
            </row>
            <row>
              <cell><m>0.0001</m></cell>
              <cell><m>-0.305614</m></cell>
            </row>
            <row>
              <cell><m>1.\times 10^{-5}</m></cell>
              <cell><m>0.0357488</m></cell>
            </row>
            <row>
              <cell><m>1.\times 10^{-6}</m></cell>
              <cell><m>-0.349994</m></cell>
            </row>
            <row>
              <cell><m>1.\times 10^{-7}</m></cell>
              <cell><m>0.420548</m></cell>
            </row>
          </tabular>
        </figure>

        <p>
          It can be shown that in reality,
          as <m>x</m> approaches 0, <m>\sin(1/x)</m> takes on all values between
          <m>-1</m> and <m>1</m> infinitely many times!
          Because of this oscillation,
          <m>\lim_{x\to 0}\sin(1/x)</m> does not exist.
        </p>
      </solution>
      <solution component="video" vshift="-1">
        <title>Video solution</title>
        <video width="98%" youtube="gGvvFX5QyjE" xml:id="vid_limit_intro_limit_oscillation" label="vid_limit_intro_limit_oscillation" component="video"/>
      </solution>
    </example>
  </subsection>

  <subsection xml:id="sec_diff_quot_intro">
    <title>Limits of Difference Quotients</title>
    <p>
      We have approximated limits of functions as <m>x</m> approached a particular number.
      We will consider another important kind of limit after explaining a few key ideas.

          <idx><h>limit</h><h>difference quotient</h></idx>

    </p>
    <figure xml:id="vid_limit_intro_limit_diff_quot" component="video" vshift="1">
      <caption>Video introduction to <xref ref="sec_diff_quot_intro"/></caption>
      <video youtube="2NJmd0Jrt4U" label="vid_limit_intro_limit_diff_quot"/>
    </figure>


    <p>
      Let <m>f(x)</m> represent the position function, in feet,
      of some particle that is moving in a straight line,
      where <m>x</m> is measured in seconds.
      Let's say that when <m>x=1</m>,
      the particle is at position <m>10</m> ft., and when <m>x=5</m>,
      the particle is at <m>20</m> ft.
      Another way of expressing this is to say
    </p>

    <blockquote>
      <p>
        <m>f(1)=10</m> and <m>f(5) = 20</m>.
      </p>
    </blockquote>

    <p>
      Since the particle traveled <m>10</m> feet in <m>4</m> seconds,
      we can say the particle's

      <idx><h>average velocity</h></idx>

      <idx><h>velocity</h><h>average velocity</h></idx>

      <term>average velocity</term> was <m>2.5</m> ft/s.
      We write this calculation using a
      <q>quotient of differences,</q> or, a

      <idx><h>difference quotient</h></idx>

      <term>difference quotient</term>:
      <me>
        \frac{f(5) - f(1)}{5-1} \frac{\text{ ft}}{\text{s}} = \frac{10 \text{ ft}}{4\text{ s}} = 2.5 \text{ ft/s }
      </me>.
    </p>

    <p>
      This difference quotient can be thought of as the familiar
      <q>rise over run</q> used to compute the slopes of lines.
      In fact, that is essentially what we are doing:
      given two points on the graph of <m>f</m>,
      we are finding the slope of the <em>secant line</em>
      through those two points.
      See <xref ref="fig_diffquot1"/>.
    </p>

    <figure xml:id="fig_diffquot1" vshift="2">
      <caption>Interpreting a difference quotient as the slope of a secant line</caption>
      <!-- START figures/fig_diff_quot1.tex -->
      <image width="47%">
        <description>
          <p>
            Graph showing a downward curved equation with the domain and range
            <m><var name="$xmin"/></m> to <m><var name="$xmax"/></m> and
            <m><var name="$ymin"/></m> to <m><var name="$ymax"/></m> respectively.
            There are two dots plotted on the line of the equation at
            <m>(1, 10)</m> and <m>(5, 20)</m> with a dotted line intercepting the
            points. The dotted line has a positive slope. The line of the
            equation intercepts the <m>x</m> axis at <m>(0, 0)</m>
          </p>
        </description>
        <shortdescription>
          Graph showing a downward curved equation, with points at (1,10) and (5,20), with a
          dotted line intercepting both points and a positive slope.
        </shortdescription>
        <latex-image label="img_diffquot1">
          \begin{tikzpicture}
            \begin{axis}[
              xmin=-1,
              xmax=6.5,
              ymin=-1,
              ymax=25,
            ]
              \addplot+[infinite,domain=0:6] {-1.5*x^2+11.5*x};
              \addplot+[infinite,domain=0:6] {2.5*(x-1)+10};
              \addplot[soliddot] coordinates {(1,10) (5,20)};
            \end{axis}
          \end{tikzpicture}
        </latex-image>
      </image>
      <!-- figures/fig_diff_quot1.tex END -->
    </figure>

    <p>
      Now consider finding the average speed on another time interval.
      We again start at <m>x=1</m>,
      but consider the position of the particle <m>h</m> seconds later.
      That is, consider the positions of the particle when <m>x=1</m>
      and when <m>x=1+h</m>. The difference quotient (excluding units)
      is now
      <me>
        \frac{f(1+h)-f(1)}{(1+h)-1} = \frac{f(1+h)-f(1)}{h}
      </me>.
    </p>

    <p>
      Let <m>f(x) = -1.5x^2+11.5x</m>;
      note that <m>f(1)=10</m> and
      <m>f(5) = 20</m>, as in our discussion.
      We can compute this difference quotient for all values of <m>h</m>
      (even negative values!)
      except <m>h=0</m>, for then we get <q>0/0,</q>
      the indeterminate form introduced earlier.
      For all values <m>h\neq 0</m>,
      the difference quotient computes the average velocity of the particle over an interval of time of length <m>h</m> starting at <m>x=1</m>.
    </p>

    <p>
      For small values of <m>h</m>,
      <ie/>, values of <m>h</m> close to <m>0</m>,
      we get average velocities over very short time periods and compute secant lines over small intervals.
      See <xref ref="fig_diff_quot_smallh"/>.
      This leads us to wonder what the limit of the difference quotient is as
      <m>h</m> approaches <m>0</m>.
      That is,
      <me>
        \lim_{h\to 0} \frac{f(1+h)-f(1)}{h} = \text{ ? }
      </me>
    </p>

    <!--TODO: Add a geogebra applet (for online version only). I've made one here: https://ggbm.at/mGffD9sE -->

    <figure xml:id="fig_diff_quot_smallh">
      <caption>Secant lines of <m>f(x)</m> at <m>x=1</m> and <m>x=1+h</m>, for shrinking values of <m>h</m> (<ie/>, <m>h\rightarrow 0</m>)</caption>
      <sidebyside widths="31% 31% 31%" margins="0%">
        <figure xml:id="fig_diff_quot_smallha">
          <caption><m>h=2</m></caption>
          <!-- START figures/fig_diff_quot_smallha.tex -->
          <image>
            <description>
              <p>
                Graph of the same equation from 1.1.26, with the points <m>(1,10)</m>
                and <m>(3,21)</m>. The secant line has a steeper slope than in
                figure 1.1.26. Here the value of h is <m>2</m>.
              </p>
            </description>
            <shortdescription>
              Graph of the previous equation, with the points (1,10)
              and (3,21). The secant line has a steeper slope, equal to 5.5.
            </shortdescription>
            <latex-image label="img_diff_quot_smallha">
              \begin{tikzpicture}
                \begin{axis}[
                  xmin=-1,
                  xmax=6.5,
                  ymin=-1,
                  ymax=25,
                ]
                  \addplot+[infinite,domain=0:6] {-1.5*x^2+11.5*x};
                  \addplot+[infinite,domain=0:3.5454] {5.5*(x-1)+10};
                  \addplot[soliddot] coordinates {(1,10) (3,21)};
                \end{axis}
              \end{tikzpicture}
            </latex-image>
          </image>
          <!-- figures/fig_diff_quot_smallha.tex END -->
        </figure>

        <figure xml:id="fig_diff_quot_smallhb">
          <caption><m>h=1</m></caption>
          <!-- START figures/fig_diff_quot_smallhb.tex -->
          <image>
            <description>
              <p>
                Graph of the same equation from <xref ref="fig_diff_quot_smallha"/>, but
                with the points <m>(1,10)</m> and <m>(2,17)</m>. Shows the dotted line with a steeper
                slope than in figure 1.1.26. Here the value of h is <m>1</m>.
              </p>
            </description>
            <shortdescription>
              Graph of the same equation, with the points (1,10)
              and (2,17). The secant line has a steeper slope equal to 7.
            </shortdescription>
            <latex-image label="img_diff_quot_smallhb">
              \begin{tikzpicture}
                \begin{axis}[
                  xmin=-1,
                  xmax=6.5,
                  ymin=-1,
                  ymax=25,
                ]
                  \addplot+[infinite,domain=0:6] {-1.5*x^2+11.5*x};
                  \addplot+[infinite,domain=0:3] {7*(x-1)+10};
                  \addplot[soliddot] coordinates {(1,10) (2,17)};
                \end{axis}
              \end{tikzpicture}
            </latex-image>
          </image>
          <!-- figures/fig_diff_quot_smallhb.tex END -->
        </figure>

        <figure xml:id="fig_diff_quot_smallhc">
          <caption><m>h=0.5</m></caption>
          <!-- START figures/fig_diff_quot_smallhc.tex -->
          <image>
            <description>
              <p>
                Graph of the same equation from <xref ref="fig_diff_quot_smallhb"/>, but
                with the points <m>(1,10)</m> and <m>(1.5,13.875)</m>. Shows the dotted line with a
                steeper slope than in figure 1.1.26. Here the value of h is <m>0.5</m>.
              </p>
            </description>
            <shortdescription>
              Graph of the same equation, with the points (1,10) and
              (1.5,13.875). The secant line has a steeper slope equal to 7.75.
            </shortdescription>
            <latex-image label="img_diff_quot_smallhc">
              \begin{tikzpicture}
                \begin{axis}[
                  xmin=-1,
                  xmax=6.5,
                  ymin=-1,
                  ymax=25,
                ]
                  \addplot+[infinite,domain=0:6] {-1.5*x^2+11.5*x};
                  \addplot+[infinite,domain=0:2.80645] {7.75*(x-1)+10};
                  \addplot[soliddot] coordinates {(1,10) (1.5,13.875)};
                \end{axis}
              \end{tikzpicture}
            </latex-image>
          </image>
          <!-- figures/fig_diff_quot_smallhc.tex END -->
        </figure>
      </sidebyside>
    </figure>

    <p>
      As we do not yet have a true definition of a limit nor an exact method for computing it,
      we settle for approximating the value.
      While we could graph the difference quotient
      (where the <m>x</m>-axis would represent <m>h</m> values and the
      <m>y</m>-axis would represent values of the difference quotient)
      we settle for making a table.
      See <xref ref="table_diff_quot_smallh"/>.
      The table gives us reason to assume the value of the limit is about <m>8.5</m>.
    </p>

    <figure xml:id="table_diff_quot_smallh" vshift="4">
      <caption>The difference quotient evaluated at values of <m>h</m> near <m>0</m></caption>
      <tabular>
        <row bottom="medium">
          <cell><m>h</m></cell>
          <cell><m>\frac{f(1+h)-f(1)}{h}</m></cell>
        </row>
        <row>
          <cell><m>-0.5</m></cell>
          <cell><m>9.25</m></cell>
        </row>
        <row>
          <cell><m>-0.1</m></cell>
          <cell><m>8.65</m></cell>
        </row>
        <row>
          <cell><m>-0.01</m></cell>
          <cell><m>8.515</m></cell>
        </row>
        <row>
          <cell><m>0.01</m></cell>
          <cell><m>8.485</m></cell>
        </row>
        <row>
          <cell><m>0.1</m></cell>
          <cell><m>8.35</m></cell>
        </row>
        <row>
          <cell><m>0.5</m></cell>
          <cell><m>7.75</m></cell>
        </row>
      </tabular>
    </figure>
    <figure xml:id="vid_limit_intro_limit_diff_quot_ex" component="video" vshift="-2">
      <caption>Video examples for difference quotients: once with direct computation, and then by simplifying first</caption>
      <video youtube="YplEX5ohJk0" label="vid_limit_intro_limit_diff_quot_ex"/>
    </figure>

    <p>
      Proper understanding of limits is key to understanding calculus.
      With limits,
      we can accomplish seemingly impossible mathematical things,
      like adding up an infinite number of numbers
      (and not get infinity)
      and finding the slope of a line between two points,
      where the <q>two points</q> are actually the same point.
      These are not just mathematical curiosities;
      they allow us to link position,
      velocity and acceleration together,
      connect cross-sectional areas to volume,
      find the work done by a variable force, and much more.
    </p>

    <p>
      In the next section we give the formal definition of the limit and begin our study of finding limits analytically.
      In the following exercises,
      we continue our introduction and approximate the value of limits.
    </p>
  </subsection>

  <exercises>
    <subexercises xml:id="TaC-limit-intro">
      <title>Terms and Concepts</title>

      <exercise label="TaC-limit-intro-1">
        <webwork xml:id="webwork-TaC-limit-intro-1">
          <statement>
            <p>
              In your own words, what does it mean to
              <q>find the limit of <m>f(x)</m> as <m>x</m> approaches 3</q>?
            </p>

            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-limit-intro-2">
        <webwork xml:id="webwork-TaC-limit-intro-2">
          <pg-code>
            $answer = "an indeterminate form";
            $undefined = "an undefined expression";
            Context()-&gt;strings-&gt;add(
              $answer =&gt; {},
              indeterminate =&gt; {alias =&gt; $answer},
              $undefined =&gt; {},
              undefined =&gt; {alias =&gt; $undefined}
            );
            $evaluator = Compute($answer)-&gt;cmp()-&gt;withPostFilter(
              AnswerHints(
                [Compute("undefined")] =&gt; "Yes, but there is a more specific answer."
              )
            );
          </pg-code>
          <statement>
            <p>
              An expression of the form <m>\frac{0}{0}</m> is called <var evaluator="$evaluator" name="$answer" width="13"/>.
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-limit-intro-3">
        <webwork xml:id="webwork-TaC-limit-intro-3">
          <pg-code>
            $limitequalsvalue = PopUp(['?','True','False'],2);
          </pg-code>
          <statement>
            <p>
              <var name="$limitequalsvalue" form="popup"/>
              The limit of <m>f(x)</m> as <m>x</m> approaches <m>5</m> is <m>f(5)</m>.
            </p>
          </statement>
          <solution>
            <p>
              False: the limit considers values of <m>x</m> <em>near</em> to <m>5</m>,
              but not <em>equal</em> to <m>5</m>.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise label="TaC-limit-intro-4">
        <webwork xml:id="webwork-TaC-limit-intro-4">
          <statement>
            <p>
              Describe three situations where <m>\lim\limits_{x\to c}f(x)</m> does not exist.
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
          <solution>
            <p>
              The function may approach different values from the left and right,
              the function may grow without bound,
              or the function might oscillate.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise label="TaC-limit-intro-5">
        <webwork xml:id="webwork-TaC-limit-intro-5">
          <statement>
            <p>
              In your own words, what is a difference quotient?
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-limit-intro-6">
        <webwork xml:id="webwork-TaC-limit-intro-6">
          <statement>
            <p>
              When <m>x</m> is near <m>0</m>,
              <m>\dfrac{\sin x}{x}</m> is near what value?
            </p>
            <p>
              <var name="1" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Try values of <m>x</m> close to <m>0</m>, such as <m>0.0001</m>.
              A calculator reveals that <m>\dfrac{\sin 0.0001}{0.0001}\approx0.999999998\ldots</m>.
              This is near <m>1</m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Problems</title>
      <exercisegroup cols="2" xml:id="exset-limit-intro-numerical-graphical">
        <introduction>
          <p>
            Approximate the limit numerically and graphically.
          </p>
        </introduction>

        <exercise label="ex-limit-intro-numerical-graphical-1">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-1">
            <pg-code>
              do {
                $a = list_random(-1,1);
                $b = non_zero_random(-5,5,1);
                $c = non_zero_random(-5,5,1);
                if ($envir{problemSeed} == 1){
                  ($a,$b,$c) = (1,3,-5);
                };
                $f = Formula("x^2 + $b x + $c")-&gt;reduce;
                $vx = $b/2;
                $vy = $f-&gt;eval(x =&gt; $vx);
                $l = $f-&gt;eval(x =&gt; $a);
              } until($l != 0);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph shows a parabola opening upward,
                    with vertex at <m>(<var name="$vx"/>,<var name="$vy"/>)</m>, and domain <m>[-2,2]</m>.
                    When <m>x</m> is close to <m><var name="$a"/></m>, the value of <m>f(x)</m> appears to be close to <m><var name="$l"/></m>.
                  </p>
                </description>
                <shortdescription>A parabola opening upward, with vertex at (<var name="$vx"/>,<var name="$vy"/>),
                  also passing through (<var name="$a"/>,<var name="$l"/>)</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[grid=both]
                      \addplot+[infinite,domain=-2:2] {$f};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> is close to <m><var name="$l"/></m>.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-2">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-2">
            <pg-code>
              do {
                $a = random(-1,1,1);
                $b = non_zero_random(-5,5,1);
                $c = non_zero_random(-5,5,1);
                $d = non_zero_random(-5,5,1);
                if ($envir{problemSeed} == 1){
                  ($a,$b,$c,$d) = (0,-3,1,-5);
                };
                $f = Formula("x^3 + $b x^2 + $c x + $d")-&gt;reduce;
                $l = $f-&gt;eval(x =&gt; $a);
              } until ($l != 0);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph of <m><var name="$f"/></m>.
                    When <m>x</m> is close to <m><var name="$a"/></m>,
                    the value of <m>f(x)</m> appears to be close to <m><var name="$l"/></m>;
                    however, this is difficult to tell at the scale used for the graph.
                  </p>
                </description>
                <shortdescription>The graph of the function for this exercise. When x is close to <var name="$a"/>, y appears to be close to <var name="$l"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[grid=both]
                      \addplot+[infinite,domain=-2:2] {$f};
                      % Be sure to include some area above and below x-axis
                      \addplot[mark=none] coordinates {(0,5) (0,-5)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> is close to <m><var name="$l"/></m>.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-3">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-3">
            <pg-code>
              $a = 0;
              ($b,$c) = (-5..-1,1..5)[NchooseK(10,2)];
              if ($envir{problemSeed} == 1){
                ($b,$c) = (-1,-3);
              };
              ($left,$right) = num_sort(0,$c);
              # for graphing
              $xmin = $left - 2;
              $xmax = $right + 2;
              @d = ($left - 0.02, $left + 0.02, $right - 0.02, $right + 0.02);
              $f = Formula("(x - $b)/(x^2 - $c x)")-&gt;reduce;
              $l = Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                  <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The image shows the graph of a function with vertical asymptotes at <m>x=0</m>
                    and at <m>x=<var name="$c"/></m>. The <m>x</m> axis is also a horizontal asymptote.
                  </p>
                  <p>
                    On one side of <m>x=<var name="$a"/></m>, values of <m>f(x)</m> appear large and positive.
                    On the other side, the values of <m>f(x)</m> are large and negative.
                  </p>
                </description>
                <shortdescription>Graph of the function for this problem, showing a vertical asymptote at the limit point</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=-25,
                        ymax=25,
                      ]
                      \addplot[firstcurvestyle,infinite, domain=$xmin:$d[0]] {$f};
                      \addplot[firstcurvestyle,infinite, domain=$d[1]:$d[2]] {$f};
                      \addplot[firstcurvestyle,infinite, domain=$d[3]:$xmax] {$f};
                      \addplot[asymptote] coordinates {($left,-25) ($left,25)};
                      \addplot[asymptote] coordinates {($right,-25) ($right,25)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> grows without bound.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m> does not exist (DNE).
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-4">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-4">
            <pg-code>
              ($a,$b,$c) = (-5..-1,1..5)[NchooseK(10,3)];
              if ($envir{problemSeed} == 1){
                ($a,$b,$c) = (3,-1,1);
              };
              $f = Formula("(x^2 - ($a + $b)x + $a*$b)/(x^2 - ($a + $c)x + $a*$c)")-&gt;reduce;
              ($left,$right) = num_sort($a,$c);
              # for graphing
              @d = ($c - 0.5, $c + 0.5);
              Context("Fraction");
              $l = Fraction(($a - $b)/($a - $c));
              $lreal= ($a - $b)/($a - $c);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = -abs($a) - 2;
              $xmax = abs($a) + 2;
              $xmid1 = $c - 0.01;
              $xmid2 = $c + 0.01;
              $ymin = -ceil(abs(Real($l))) - 2;
              $ymax = ceil(abs(Real($l))) + 2;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph for this problem has a vertical asymptote at <m>x=<var name="$c"/></m>,
                    and a hole in the graph at <m>x=<var name="$a"/></m>.
                  </p>

                  <p>
                    When <m>x</m> is close to <m><var name="$a"/></m>, the value of <m>f(x)</m> is close to <m><var name="$l"/></m>.
                  </p>
                </description>
                <shortdescription>A graph with a hole at <var name="$a"/> and a vertical asymptote at <var name="$c"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=$ymin,
                        ymax=$ymax,
                      ]
                      \addplot[firstcurvestyle,infinite, domain=$xmin:$d[0]] {$f};
                      \addplot[firstcurvestyle,infinite, domain=$d[1]:$xmax] {$f};
                      \addplot[asymptote] coordinates {($c,$ymin) ($c,$ymax)};
                      \addplot[hollowdot] coordinates {($a,$lreal)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> is close to <m><var name="$l"/></m>.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-5">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-5">
            <pg-code>
              ($a,$c) = (-5..-1,1..5)[NchooseK(10,2)];
              $b = list_random(-9..-6,6..9);
              if ($envir{problemSeed} == 1){
                ($a,$b,$c) = (-1,-7,-5);
              };
              $f = Formula("(x^2 - ($a + $b)x + $a*$b)/(x^2 - ($a + $c)x + $a*$c)")-&gt;reduce;
              ($left,$right) = num_sort($a,$c);
              # for graphing
              @d = ($c - 0.1, $c + 0.1);
              Context("Fraction");
              $l = Fraction(($a - $b)/($a - $c));
              $lreal = ($a - $b)/($a - $c);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = $left - 2;
              $xmax = $right + 2;
              $xmid1 = $c - 0.01;
              $xmid2 = $c + 0.01;
              $ymin = -ceil(abs(Real($l))) - 2;
              $ymax = ceil(abs(Real($l))) + 2;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph for this problem has a vertical asymptote at <m>x=<var name="$c"/></m>,
                    and a hole in the graph at <m>x=<var name="$a"/></m>.
                  </p>

                  <p>
                    When <m>x</m> is close to <m><var name="$a"/></m>, the value of <m>f(x)</m> is close to <m><var name="$l"/></m>.
                  </p>
                </description>
                <shortdescription>A graph with a hole at <var name="$a"/> and a vertical asymptote at <var name="$c"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=$ymin,
                        ymax=$ymax,
                      ]
                      \addplot[firstcurvestyle,infinite, domain=$xmin:$d[0]] {$f};
                      \addplot[firstcurvestyle,infinite, domain=$d[1]:$xmax] {$f};
                      \addplot[asymptote] coordinates {($c,$ymin) ($c,$ymax)};
                      \addplot[hollowdot] coordinates {($a,$lreal)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> is close to <m><var name="$l"/></m>.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-6">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-6">
            <pg-code>
              ($a,$b,$c) = (-9..-1,1..9)[NchooseK(18,3)];
              if ($envir{problemSeed} == 1){
                ($a,$b,$c) = (2,-5,-2);
              };
              $f = Formula("(x^2-($c+$b)x+$a*$b)/(x^2-(2*$a)x+($a)^2)")-&gt;reduce;
              $l = (($a-$c)*($a-$b) &gt; 0) ? OneOf("DNE","inf") : OneOf("DNE","-inf");
              # for graphing
              @d = ($a - 0.1, $a + 0.1);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = -abs($a) - 2;
              $xmax = abs($a) + 2;
              $xmid1 = $a - 0.01;
              $xmid2 = $a + 0.01;
              $ymin = -100;
              $ymax = 100;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph for this problem has a vertical asymptote at <m>x=<var name="$a"/></m>.
                  </p>

                  <p>
                    When <m>x</m> is close to <m><var name="$a"/></m>, the value of <m>f(x)</m> increases without bound.
                  </p>
                </description>
                <shortdescription>A graph with a vertical asymptote at <var name="$a"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=$ymin,
                        ymax=$ymax,
                      ]
                      \addplot[firstcurvestyle,infinite, domain=$xmin:$d[0], samples=40] {$f};
                      \addplot[firstcurvestyle,infinite, domain=$d[1]:$xmax, samples=40] {$f};
                      \addplot[asymptote] coordinates {($a,$ymin) ($a,$ymax)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m><var name="$f"/></m> grows without bound.
                So <m>\lim_{x\to <var name="$a"/>}\left(<var name="$f"/>\right)</m> does not exist (DNE).
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-7">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-7">
            <pg-code>
              $a = non_zero_random(-5,5,1);
              $b = non_zero_random(-5,5,1);
              $c = list_random(-4..-1,2..4);
              $diff = non_zero_random(-3,3,1);
              $d = $a + $b - ($c*$a) - $diff;
              if ($envir{problemSeed} == 1){
                ($a,$b,$c,$d) = (2,2,3,-5);
              };
              $f1 = Formula("x + $b")-&gt;reduce;
              $f2 = Formula("$c*x + $d")-&gt;reduce;
              Context("PiecewiseFunction");
              Context()-&gt;flags-&gt;set(tolType=&gt;"absolute",tolerance =&gt; 0.00001);
              $f = PiecewiseFunction("x &lt;= $a" =&gt; "$f1", "x &gt; $a" =&gt; "$f2");
              $l = Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = -abs($a) - 2;
              $xmax = abs($a) + 2;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}f(x)</m>, where <m>f(x)=<var name="$f"/></m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph shows a piecewise-defined function.
                    At <m>x=<var name="$a"/></m>, the <m>y</m> value jumps,
                    with values of <m>y</m> on one side of <m><var name="$a"/></m>
                    different from those on the other side.
                  </p>
                </description>
                <shortdescription>A piecewise-linear graph with a jump at x=<var name="$a"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                      ]
                      \addplot[firstcurvestyle, domain=$xmin:$a, infiniteopen] {$f1};
                      \addplot[firstcurvestyle, domain=$a:$xmax, closedinfinite] {$f2};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m>f(x)</m> approaches different values from the left and right.
                So <m>\lim_{x\to <var name="$a"/>}f(x)</m> does not exist.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-8">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-8">
            <pg-code>
              do {
                $a = non_zero_random(-3,3,1);
                $b = random(-4,-1,1);
                $c = non_zero_random(-5,5,1);
                $d = non_zero_random(-3,3,1);
                if ($envir{problemSeed} == 1){
                  ($a,$b,$c,$d) = (3,-1,1,2);
                };
                $e = $a**2 + $b*$a + $c - $d*$a;
                $f1 = Formula("x^2+$b*x+$c")-&gt;reduce;
                $f2 = Formula("$d*x+$e")-&gt;reduce;
                Context("PiecewiseFunction");
                Context()-&gt;flags-&gt;set(tolType=&gt;"absolute",tolerance =&gt; 0.00001);
                $f = PiecewiseFunction("x &lt;= $a" =&gt; "$f1", "x &gt; $a" =&gt; "$f2");
                $l = $f1-&gt;eval(x =&gt; $a);
              } until ($l!=0);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = -4;
              $xmax = 4;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}f(x)</m>, where <m>f(x)=<var name="$f"/></m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph of a piecewise-defined function.
                    To the left of <m>x=<var name="$a"/></m>,
                    the graph is a parabola. To the right, the graph is a line.
                  </p>

                  <p>
                    The two parts of the graph appear to have the same <m>y</m> value when <m>x=<var name="$a"/></m>.
                  </p>
                </description>
                <shortdescription>A piecewise-defined graph. One part is a parabola, and the other, a line. The two parts meet when x=<var name="$a"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                      ]
                      \addplot[firstcurvestyle, domain=$xmin:$a, infiniteleft] {$f1};
                      \addplot[firstcurvestyle, domain=$a:$xmax, infiniteright] {$f2};
                      % Be sure to include some area above and below x-axis
                      \addplot[mark=none] coordinates {(0,5) (0,-5)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m>f(x)</m> approaches <var name="$l"/>.
                So <m>\lim_{x\to <var name="$a"/>}f(x)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-9">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-9">
            <pg-code>
              $a=0;
              $b = non_zero_random(-5,5,1);
              if ($envir{problemSeed} == 1){
                $b = 3;
              };
              $f1 = Formula("cos(x)")-&gt;reduce;
              $f2 = Formula("x^2+$b*x+1")-&gt;reduce;
              Context("PiecewiseFunction");
              Context()-&gt;flags-&gt;set(tolType=&gt;"absolute",tolerance =&gt; 0.00001);
              $f = PiecewiseFunction("x &lt;= $a" =&gt; "$f1", "x &gt; $a" =&gt; "$f2");
              $l = $f1-&gt;eval(x =&gt; $a);
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
              $xmin = -3;
              $xmax = 3;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}f(x)</m>, where <m>f(x)=<var name="$f"/></m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph of a piecewise-defined function.
                    To the left of <m>x=<var name="$a"/></m>,
                    the graph is a cosine function. To the right, the graph is a parabola.
                  </p>

                  <p>
                    The two parts of the graph appear to have the same <m>y</m> value when <m>x=<var name="$a"/></m>.
                  </p>
                </description>
                <shortdescription>A piecewise-defined graph. One part is a parabola, and the other, a cosine wave. The two parts meet when x=<var name="$a"/></shortdescription>

                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                      ]
                      \addplot[firstcurvestyle, domain=$xmin:$a, infiniteleft] {cos(x*180/pi)};
                      \addplot[firstcurvestyle, domain=$a:$xmax, infiniteright] {$f2};
                      % Be sure to include some area above and below x-axis
                      \addplot[mark=none] coordinates {(0,2) (0,-2)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m>f(x)</m> approaches <var name="$l"/>.
                So <m>\lim_{x\to <var name="$a"/>}f(x)=<var name="$l"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-10">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-10">
            <pg-code>
              Context()-&gt;flags-&gt;set(reduceConstants =&gt; 0);
              $a = list_random(Formula("pi/2"),Formula("pi/3"),Formula("pi/6"));
              if ($envir{problemSeed} == 1){
                $a = Formula("pi/2")
              };
              $f1=Formula("sin(x)")-&gt;reduce;
              $f2=Formula("cos(x)")-&gt;reduce;
              Context("PiecewiseFunction");
              Context()-&gt;flags-&gt;set(tolType=&gt;"absolute",tolerance =&gt; 0.00001);
              $areal = $a-&gt;eval(x =&gt; 0);
              $f = PiecewiseFunction("x &lt;= $areal" =&gt; "$f1", "x &gt; $areal" =&gt; "$f2");
              $l = Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_-&gt;eval(x =&gt; 0))} (@tabin);
              $xmin = -1;
              $xmax = 3;
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to <var name="$a"/>}f(x)</m>,
                where <m>f(x)=\begin{cases}\sin(x)\amp x\leq <var name="$a"/>\\\cos(x)\amp x\gt <var name="$a"/>\end{cases}</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph of a piecewise-defined function.
                    The two parts are portions of sine and cosine graphs,
                    and they do not approach the same <m>y</m> values near <m>x=<var name="$a"/></m>.
                  </p>
                </description>
                <shortdescription>A piecewise-defined graph consisting of two sine waves that approach different values near x=<var name="$a"/></shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                      ]
                      \addplot[firstcurvestyle, domain=$xmin:$a, infiniteopen] {sin(x*180/pi)};
                      \addplot[firstcurvestyle, domain=$a:$xmax, closedinfinite] {cos(x*180/pi)};
                      % Be sure to include some area above and below x-axis
                      \addplot[mark=none] coordinates {(0,2) (0,-2)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>,
                that <m>f(x)</m> approaches different values from the left and right.
                So <m>\lim_{x\to <var name="$a"/>}f(x)</m> does not exist.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-11">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-11">
            <pg-code>
              $f = Formula("abs(x)^x");
              $a = 0;
              $l = 1;
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to 0}\lvert x\rvert^x</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph shows a wave-like curve that approaches the point <m>(0,1)</m>
                    when <m>x</m> is close to zero, for both positive and negative values of <m>x</m>.
                    However, a hollow dot at the point <m>(0,1)</m> indicates that the function is undefined at this point.
                  </p>
                </description>
                <shortdescription>A wave-like graph with a hole at the point (0,1).</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        ymin=-1,
                        ymax=2,
                      ]
                      \addplot[firstcurvestyle,domain=-1.5:-0.005,infiniteleft] {(-x)^x};
                      \addplot[only marks,mark=o,color=firstcolor] coordinates { (0,1) };
                      \addplot[firstcurvestyle,domain=0.005:1.5,infiniteright] {x^x};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m>0</m>, that <m>\lvert x \rvert^x</m> is close to <m>1</m>.
                So <m>\lim_{x\to 0}\lvert x\rvert^x=1</m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-12">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-12">
            <pg-code>
              $f = Formula("e^(-e^(1/x))");
              $a = 0;
              $l = Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{$f-&gt;eval(x =&gt; $_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to0}e^{-e^{1/x}}</m>
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m><var name="$f"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph of a piecewise-defined function.
                    For negative values of <m>x</m>,
                    the graph climbs slowly, from values near <m>0.5</m> to values near <m>1</m> as <m>x</m> approaches <m>0</m>.
                    For positive values of <m>x</m>, the graph is close to <m>0</m> when <m>x</m> is close to <m>0</m>,
                    and then climbs slowly as <m>x</m> increases.
                  </p>
                </description>
                <shortdescription>The graph of a piecewise-defined function that jumps from 1 to 0 at x=0.</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        ymin=-2,
                        ymax=2,
                      ]
                      \addplot[firstcurvestyle, domain=-2:-0.001,infiniteleft] {e^(-e^(1/x))};
                      \addplot[only marks,mark=o,color=firstcolor] coordinates { (0,1) };
                      \addplot[firstcurvestyle, domain=0.2:2, infiniteright] {e^(-e^(1/x))};
                      \addplot[only marks,mark=o,color=firstcolor] coordinates { (0,0) };
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m>0</m>, that <m>e^{-e^{1/x}}</m> approaches different values from the left and right.
                So <m>\lim_{x\to 0}e^{-e^{1/x}}</m> does not exist.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-13">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-13">
            <pg-code>
              %fact = (0 =&gt; 1, 1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 6, 4 =&gt; 24, 5 =&gt; 120, 6 =&gt; 720);
              sub f {
                my $x = shift;
                return $fact{int(abs($x))};
              }
              $a = list_random(-5..-2,2..5);
              $l = (abs($a) &lt;= 1) ? Real(1) : Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{f($_)} (@tabin);
              $ymax = f(abs($a)+0.5)+10;
              $ymin = max(-10, -1*f(abs($a)+0.5));
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to<var name="$a"/>}\big\lfloor\lvert x\rvert\big\rfloor !</m>,
                where <m>\lvert x\rvert</m> is the absolute value of <m>x</m>,
                <m>\lfloor x\rfloor</m> is the floor of <m>x</m> (the greatest integer less than or equal to <m>x</m>),
                and <m>x!</m> is <m>x</m> factorial.
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m>\big\lfloor\lvert x\rvert\big\rfloor !</m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph is piecewise-defined, and consists of a collection of horizontal line segments.
                    For negative values of <m>x</m>, the segments include the right endpoint, but not the left endpoint.
                    For positive value of <m>x</m>, the segments include the left endpoint, but not the left endpoint.
                  </p>

                  <p>
                    The <m>y</m> values for the segments are small when <m>\abs{x}</m> is small,
                    and then get larger for larger values of <m>\abs{x}</m>.
                  </p>

                  <p>
                    Near <m>x=<var name="$a"/></m>, the <m>y</m> value is different just to the left and right of <m><var name="$a"/></m>.
                  </p>
                </description>
                <shortdescription>A piecewise-defined graph consisting of many short horizontal line segments</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=$ymin,
                        ymax=$ymax,
                      ]
                      \addplot[firstcurvestyle, open] coordinates {(-2,1) (2,1)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(2,2) (3,2)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(3,6) (4,6)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(4,24) (5,24)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(5,120) (6,120)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-2,2) (-3,2)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-3,6) (-4,6)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-4,24) (-5,24)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-5,120) (-6,120)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>, that <m>\big\lfloor\lvert x\rvert\big\rfloor !</m> approaches different values from the left and right. So
                <me>
                  \lim_{x\to<var name="$a"/>}\big\lfloor\lvert x\rvert\big\rfloor !\text{ does not exist (DNE).}
                </me>
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-numerical-graphical-14">
          <webwork xml:id="webwork-ex-limit-intro-numerical-graphical-14">
            <pg-code>
              %fact = (0 =&gt; 1, 1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 6, 4 =&gt; 24, 5 =&gt; 120, 6 =&gt; 720);
              sub f {
                my $x = shift;
                return $fact{int(abs($x))};
              }
              $a = random(-1,1,1);
              $l = (abs($a) &lt;= 1) ? Real(1) : Compute("DNE");
              @tabin = ($a - 0.1, $a - 0.01, $a - 0.001, $a + 0.001, $a + 0.01, $a + 0.1);
              @tabout = map{f($_)} (@tabin);
            </pg-code>
            <statement>
              <p>
                <m>\lim\limits_{x\to<var name="$a"/>}\big\lfloor\lvert x\rvert\big\rfloor !</m>,
                where <m>\lvert x\rvert</m> is the absolute value of <m>x</m>,
                <m>\lfloor x\rfloor</m> is the floor of <m>x</m> (the greatest integer less than or equal to <m>x</m>),
                and <m>x!</m> is <m>x</m> factorial.
              </p>
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$l" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                For a numerical approximation, make a table:
              </p>
              <tabular>
                <row bottom="medium">
                  <cell><m>x</m></cell>
                  <cell><m>\big\lfloor\lvert x\rvert\big\rfloor !</m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[0]"/></m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[1]"/></m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[2]"/></m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[3]"/></m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[4]"/></m></cell>
                  <cell><m><var name="$tabout[4]"/></m></cell>
                </row>
                <row>
                  <cell><m><var name="$tabin[5]"/></m></cell>
                  <cell><m><var name="$tabout[5]"/></m></cell>
                </row>
              </tabular>
              <p>
                For a graphical approximation:
              </p>
              <image>
                <description>
                  <p>
                    The graph is piecewise-defined, and consists of several horizontal line segments.
                    For negative values of <m>x</m>, the segments include the right endpoint, but not the left endpoint.
                    For positive value of <m>x</m>, the segments include the left endpoint, but not the left endpoint.
                  </p>

                  <p>
                    The <m>y</m> values for the segments are small when <m>\abs{x}</m> is small,
                    and then get larger for larger values of <m>\abs{x}</m>.
                  </p>

                  <p>
                    Near <m>x=<var name="$a"/></m>, the <m>y</m> appears to be equal to <m>1</m>.
                  </p>
                </description>
                <shortdescription>A piecewise-defined graph consisting of several short horizontal line segments</shortdescription>
                <latex-image>
                  \begin{tikzpicture}
                    \begin{axis}[
                        grid=both,
                        xmin=$xmin,
                        xmax=$xmax,
                        ymin=-1,
                        ymax=3,
                      ]
                      \addplot[firstcurvestyle, open] coordinates {(-2,1) (2,1)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(2,2) (3,2)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(3,6) (4,6)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(4,24) (5,24)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(5,120) (6,120)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-2,2) (-3,2)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-3,6) (-4,6)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-4,24) (-5,24)};
                      \addplot[firstcurvestyle, closedopen] coordinates {(-5,120) (-6,120)};
                    \end{axis}
                  \end{tikzpicture}
                </latex-image>
              </image>
              <p>
                It appears that when <m>x</m> is close to <m><var name="$a"/></m>, that <m>\big\lfloor\lvert x\rvert\big\rfloor !</m> is always equal to <m>1</m>. So
                <me>
                  \lim_{x\to<var name="$a"/>}\big\lfloor\lvert x\rvert\big\rfloor !=1
                </me>
              </p>
            </solution>
          </webwork>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="2" xml:id="exset-limit-intro-diffquot">
        <introduction>
          <p>
            Approximate the limit of the difference quotient,
            <m>\lim\limits_{h\to 0}\frac{f(a+h)-f(a)}{h}</m>,
            using <m>h = \pm 0.1, \pm 0.01</m>.
          </p>
        </introduction>
        <exercise label="ex-limit-intro-diffquot-1">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-1">
            <pg-code>
              #$m = non_zero_random(-9,9,1);
              #do {
              #  $b = non_zero_random(-9,9,1);
              #} until (abs($m) != abs($b));
              #$a = random(1,5,1);
              #if ($envir{problemSeed} == 1){
                $a=3;
                $m=-7;
                $b=2;
              #};
              $f = Formula("$m*x + $b")-&gt;reduce;
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a + h")) - ($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1), Real(-0.01), Real(0.01), Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=</m><var name="$m" width="5"/>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-2">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-2">
            <pg-code>
              #$m = non_zero_random(-9,9,1);
              #$b = random(0.01,0.09,0.01) + random(0.1,0.9,0.1) + random(-9,9,1);
              #$a = random(-5,5,1);
              #if ($envir{problemSeed} == 1){
                $a = -1;
                $m = 9;
                $b = 0.06;
              #};
              $f = Formula("$m*x + $b")-&gt;reduce;
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a + h")) - ($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-3">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-3">
            <pg-code>
              #do {
              #  $b = non_zero_random(-5,5,1);
              #  $c = non_zero_random(-9,9,1);
              #  $a = random(-5,5,1);
              #  if ($envir{problemSeed} == 1){
                  $a = 1;
                  $b = 3;
                  $c = -7;
              #  };
                $f = Formula("x^2+$b*x+$c")-&gt;reduce;
                $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a);
              #} until ($m!=0);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-4">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-4">
            <pg-code>
              #do {
              #  $b = non_zero_random(-5,5,1);
              #  $a = random(-5,5,1);
              #} until ($a + $b!= 0);
              #if ($envir{problemSeed} == 1){
                $a = 2;
                $b = 1;
              #};
              $f = Formula("1/(x+$b)")-&gt;reduce;
              $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a)-&gt;with(tolerance =&gt; .01);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-5">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-5">
            <pg-code>
              #do {
              #  do {
              #    $d = non_zero_random(-5,5,1);
              #    $b = non_zero_random(-5,5,1);
              #    $c = non_zero_random(-5,5,1);
              #  } until (gcd($d,gcd($b,$c))==1);
              #  $a = random(-5,5,1);
              #  if ($envir{problemSeed} == 1){
                  $a = -3;
                  $d = -4;
                  $b = 5;
                  $c = -1;
              #  };
                $f = Formula("$d*x^2+$b*x+$c")-&gt;reduce;
                $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a);
              #} until ($m!=0);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-6">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-6">
            <pg-code>
              #$a = random(2,9,1);
              #if ($envir{problemSeed} == 1){
                $a = 5;
              #};
              $f = Formula("ln(x)");
              $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a)-&gt;with(tolerance =&gt; .01);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a)))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-7">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-7">
            <pg-code>
              Context()-&gt;flags-&gt;set(reduceConstants =&gt; 0);
              #$a = list_random(Formula("pi/3"),Formula("2pi/3"),Formula("pi"),Formula("4pi/3"),Formula("5pi/3"),);
              #if ($envir{problemSeed} == 1){
                $a = Formula("pi");
              #};
              $f = Formula("sin(x)");
              $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a-&gt;eval(x =&gt; 0))-&gt;with(tolerance =&gt; .01);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a-&gt;eval(x =&gt; 0))))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>

        <exercise label="ex-limit-intro-diffquot-8">
          <webwork xml:id="webwork-ex-limit-intro-diffquot-8">
            <pg-code>
              Context()-&gt;flags-&gt;set(reduceConstants =&gt; 0);
              #$a = list_random(Formula("pi/3"),Formula("2pi/3"),Formula("pi"),Formula("4pi/3"),Formula("5pi/3"),);
              #if ($envir{problemSeed} == 1){
                $a = Formula("pi");
              #};
              $f = Formula("cos(x)");
              $m = $f-&gt;D('x')-&gt;eval(x =&gt; $a-&gt;eval(x =&gt; 0))-&gt;with(tolerance =&gt; .01);
              Context()-&gt;variables-&gt;add(h =&gt; 'Real');
              $dq = ($f-&gt;substitute(x =&gt; Formula("$a+h"))-($f-&gt;eval(x =&gt; $a-&gt;eval(x =&gt; 0))))/Formula("h");
              @tabin = (Real(-0.1),Real(-0.01),Real(0.01),Real(0.1));
              @tabout = map{$dq-&gt;eval(h =&gt; $_, x =&gt; 1)} (@tabin);
              @table = map{($tabin[$_], $tabout[$_])} (0 .. $#tabin);
              $tableanswers = MultiAnswer(@table)-&gt;with(allowBlankAnswers =&gt; 1,checker =&gt; sub{
                my ($correct,$student,$self)=@_;
                my @cor = @{$correct};
                my @stu = @{$student};
                my @return = (1,1,1,1,1,1,1,1);
                for my $i (0,2,4,6) {
                    do {
                      $return[$i+1] = 0;
                      $self-&gt;setMessage($i+2, 'This is not the difference quotient when h='."$stu[$i]".'.');
                    } unless ($stu[$i] ne "" and $dq-&gt;eval(h =&gt; $stu[$i]) == $stu[$i+1]);
                    do {
                      $return[$i] = 0;
                      $self-&gt;setMessage($i+1, 'You should use h-values '."$cor[0]".', '."$cor[2]".', '."$cor[4]".', and '."$cor[6]".'.');
                    } unless ($stu[$i] == $cor[0] or $stu[$i] == $cor[2] or $stu[$i] == $cor[4] or $stu[$i] == $cor[6]);
                };
                do {
                  $return[2] = 0;
                  $self-&gt;setMessage(3,'You already used this h-value.');
                } unless ($stu[2] != $stu[0] or $stu[2] eq "");
                do {
                  $return[4] = 0;
                  $self-&gt;setMessage(5,'You already used this h-value.');
                } unless ($stu[4] != $stu[0] and $stu[4] != $stu[2] or $stu[2] eq "");
                do {
                  $return[6] = 0;
                  $self-&gt;setMessage(7,'You already used this h-value.');
                } unless ($stu[6] != $stu[0] and $stu[6] != $stu[2] and $stu[6] != $stu[4] or $stu[2] eq "");
                return [@return];
              });
              $showwork = '[@ explanation_box(message =&gt; "Show your work.") @]*';
            </pg-code>
            <statement>
              <p>
                <m>f(x)=<var name="$f"/></m>,
                <m>a=<var name="$a"/></m>
              </p>
              <!-- <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row>
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
                <row bottom="major">
                  <cell><var name="$tableanswers" width="5"/></cell>
                  <cell><var name="$tableanswers" width="10"/></cell>
                </row>
              </tabular> -->
              <instruction>
                If the limit does not exist, you may type <c>DNE</c>.
                If you need to enter <m>\infty</m>, you may type <c>inf</c>.
              </instruction>
              <p>
                <var name="$m" width="10"/>
              </p>
              <p>
                <var name="$showwork" data="pgml"/>
              </p>
            </statement>
            <solution>
              <tabular top="major">
                <col halign="center"/>
                <col halign="center"/>
                <row bottom="medium">
                  <cell><m>h</m></cell>
                  <cell><m>\frac{f(a+h)-f(a)}{h}</m></cell>
                </row>
                <row>
                  <cell><m>-0.1</m></cell>
                  <cell><m><var name="$tabout[0]"/></m></cell>
                </row>
                <row>
                  <cell><m>-0.01</m></cell>
                  <cell><m><var name="$tabout[1]"/></m></cell>
                </row>
                <row>
                  <cell><m>0.01</m></cell>
                  <cell><m><var name="$tabout[2]"/></m></cell>
                </row>
                <row bottom="major">
                  <cell><m>0.1</m></cell>
                  <cell><m><var name="$tabout[3]"/></m></cell>
                </row>
              </tabular>
              <p>
                It appears that <m>\lim\limits_{h\to0}\frac{f(a+h)-f(a)}{h}=<var name="$m"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
      </exercisegroup>
    </subexercises>
  </exercises>
</section>
