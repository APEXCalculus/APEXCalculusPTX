<?xml version="1.0" encoding="UTF-8" ?>

<section xml:id="sec_antider">
  <title>Antiderivatives and Indefinite Integration</title>

    <figure xml:id="vid_int_antider_intro" component="video">
      <caption>Video introduction to <xref ref="sec_antider"/></caption>
      <video youtube="z1XH1JTUKTU" label="vid_int_antider_intro"/>
    </figure>

    <p>
      Given a function <m>y=f(x)</m>,
      a <term>differential equation</term>
      is an equation that incorporates <m>y</m>, <m>x</m>,
      and the derivatives of <m>y</m>.
      For instance, a simple differential equation is:
      <me>
        y' = 2x
      </me>.
    </p>
    <p>
      Solving a differential equation amounts to finding a function <m>y</m>
      that satisfies the given equation.
      Take a moment and consider that equation;
      can you find a function <m>y</m> such that <m>y' = 2x</m>?
    </p>
    <p>
      Can you find another?
    </p>
    <p>
      And yet another?
    </p>
    <p>
      Hopefully you were able to come up with at least one solution:
      <m>y = x^2</m>.
      <q>Finding another</q> may have seemed impossible until one realizes that
      a function like <m>y=x^2+1</m> also has a derivative of <m>2x</m>.
      Once that discovery is made, finding
      <q>yet another</q> is not difficult;
      the function <m>y = x^2 + 123{,}456{,}789</m> also has a derivative of
      <m>2x</m>.
      The differential equation <m>y' = 2x</m> has many solutions.
      This leads us to some definitions.
    </p>

    <definition xml:id="def_antider">
      <title>Antiderivatives and Indefinite Integrals</title>
      <statement>
        <p>
          Let a function <m>f(x)</m> be given.
          An <term>antiderivative</term> of <m>f(x)</m> is a function <m>F(x)</m>
          such that <m>\Fp(x) = f(x)</m>.
              <idx><h>antiderivative</h></idx>
              <idx><h>indefinite integral</h></idx>
              <idx><h>integration</h><h>indefinite</h></idx>
        </p>
        <p>
          The set of all antiderivatives of <m>f(x)</m> is the
          <term>indefinite integral of</term> <m>f</m>, denoted by
          <me>
            \int f(x) \,dx
          </me>.
        </p>
      </statement>
    </definition>

    <figure xml:id="vid_int_antider_defn_indef_int" component="video">
      <caption>Video presentation of <xref ref="def_antider"/></caption>
      <video youtube="BRAjDVVn4H4" label="vid_int_antider_defn_indef_int"/>
    </figure>


    <p>
      Make a note about our definition:
      we refer to <em>an</em> antiderivative of <m>f</m>,
      as opposed to <em>the</em> antiderivative of <m>f</m>,
      since there is <em>always</em> an infinite number of them.
      We often use upper-case letters to denote antiderivatives.
    </p>
    <p>
      When <m>f</m> is continuous,
      knowing one antiderivative of <m>f</m> allows us to find infinitely more,
      simply by adding a constant.
      Not only does this give us <em>more</em> antiderivatives,
      it gives us <em>all</em> of them.
    </p>

    <theorem xml:id="thm_antideriv_const">
      <title>Antiderivative Forms</title>
      <statement>
        <p>
          Let <m>F(x)</m> and <m>G(x)</m> be antiderivatives of a continuous
          function <m>f(x)</m> on an interval <m>I</m>.
          Then there exists a constant <m>C</m> such that, on <m>I</m>,
          <me>
            G(x) = F(x) + C
          </me>.
        </p>
      </statement>
    </theorem>

    <p>
      Given a continuous function <m>f</m> defined on an interval <m>I</m> and
      one of its antiderivatives <m>F</m>,
      we know <em>all</em> antiderivatives of <m>f</m> on <m>I</m> have the form
      <m>F(x) + C</m> for some constant <m>C</m>.
      Using <xref ref="def_antider">Definition</xref>, we can say that
      <me>
        \int f(x) \,dx = F(x) + C
      </me>.
    </p>
    <p>
      Note that we are abusing notation somewhat:
      when we write <m>F(x)+C</m> on the right-hand side,
      we really mean the set of all such functions,
      for each real number value of <m>C</m>.
      Let's analyze this indefinite integral notation.
          <idx><h>integration</h><h>notation</h></idx>
    </p>
    <!-- START figures/fig_anti1.tex -->
    <figure xml:id="fig_anti1">
      <caption>Antiderivative notation</caption>

      <!-- Todo: Fix this weird image -->

      <image xml:id="img_anti1" width="100%">
        <shortdescription>A labeled formula for the indefinite integral/</shortdescription>
        <description>
          <p>
            The equation <m>\int f(x) \cdot dx = F(x) + C</m>, with labels for each part.
            <m>\int</m> is labeled as the integral symbol.
            <m>f(x)</m> is labeled as the integrand function.
            <m>dx</m> is labeled as the differential of <m>x</m>.
            <m>F(x)</m> is labeled as any "antiderivative of <m>f</m>."
            <m>C</m> is labeled as the constant of integration.
          </p>
        </description>
        <latex-image>

        \begin{tikzpicture}[&gt;=latex, node distance=6pt]

        \node[] (integral)
        {$\displaystyle\int$};
        \node[above left=of integral, anchor=south east] (l1) {Integral symbol};
        \draw[-&gt;] (l1) edge [out=-90, in=180] (integral);
        \node[right=of integral] (integrand)
        {$\displaystyle f(x)$};
        \node[below=of integrand, anchor=north east] (l2) {Integrand function};
        \draw[-&gt;] (l2) edge [out=0, in=-90] (integrand);
        \node[right=of integrand] (dot) {$\cdot$};
        \node[right=of dot] (differential)
        {$\displaystyle dx$};
        \node[above=of differential, anchor=south west] (l3) {Differential of $x$};
        \draw[-&gt;] (l3) edge [out=-90, in=90] (differential);
        \node[right=of differential] (equals)
        {$\displaystyle =$};
        \node[right=of equals] (antiderivative)
        {$\displaystyle F(x)$};
        \node[below=of antiderivative, anchor=north west] (l4) {Any antiderivative of $f$};
        \draw[-&gt;] (l4) edge [out=180, in=-90] (antiderivative);
        \node[right=of antiderivative] (plus)
        {$\displaystyle {+}$};
        \node[right=of plus] (constant)
        {$\displaystyle C$};
        \node[above right=of constant, anchor=south west] (l5) {Constant of integration};
        \draw[-&gt;] (l5) edge [out=-90, in=0] (constant);

        \end{tikzpicture}

        </latex-image>
      </image>

    </figure>

    <p>
      <xref ref="fig_anti1">Figure</xref>
      shows the typical notation of the indefinite integral.
      The integration symbol, <m>\int</m>,
      is in reality an <q>elongated S,</q>
      representing <q>take the sum.</q>
      We will later see how <em>sums</em>
      and <em>antiderivatives</em> are related.
    </p>
    <p>
      The function we want to find an antiderivative of is called the
      <em>integrand</em>.
      It contains the differential of the variable we are integrating with respect to.
      The <m>\int</m> symbol and the differential <m>dx</m> are not <q>bookends</q>
      with a function sandwiched in between;
      rather, the symbol <m>\int</m> means
      <q>find all antiderivatives of what follows,</q>
      and the function <m>f(x)</m> and <m>dx</m> are multiplied together;
      the <m>dx</m> does not <q>just sit there.</q>
    </p>
    <p>
      Another way of looking at the notation is that it tells us that
      <m>f(x)\,dx</m> is the differential of <m>F(x)</m>: <m>dF(x) = f(x)\,dx</m>,
      confirming that <m>F'(x)=f(x)</m>, as required of an antiderivative.
      The integral symbol can then be viewed as an instruction to <q>undo</q>
      the differential and recover the antiderivative <m>F(x)</m>.
    </p>
    <p>
      Another important aspect of the <m>dx</m> is that it tells us which
      variable we're taking the antiderivative with respect to,
      much like how <m>\lzo{x}</m> would mean to take the derivative with
      respect to <m>x</m>,
      while <m>\lzo{t}</m> would be the derivative with respect to <m>t</m>.
    </p>
    <p>
      Let's practice using this notation.
    </p>

    <example xml:id="ex_anti2">
      <title>Evaluating indefinite integrals</title>
      <statement>
        <p>
          Evaluate <m> \int \sin(x) \,dx</m>.
        </p>
      </statement>
      <solution component="video">
        <title>Video solution</title>
        <video width="98%" youtube="W-FUL0ApGL8" xml:id="vid_int_antider_ex_1" label="vid_int_antider_ex_1" component="video"/>
      </solution>
      <solution>

        <p>
          We are asked to find all functions <m>F(x)</m> such that
          <m>\Fp(x) = \sin(x)</m>.
          Some thought will lead us to one solution:
          <m>F(x) = -\cos(x)</m>, because <m>\lzoo{x}{-\cos(x)} = \sin(x)</m>.
        </p>
        <p>
          The indefinite integral of <m>\sin(x)</m> is thus <m>-\cos(x)</m>,
          plus a constant of integration.
          So:
          <me>
            \int \sin(x) \,dx = -\cos(x) + C
          </me>.
        </p>
      </solution>
    </example>

    <p>
      A commonly asked question is <q>What happened to the <m>dx</m>?</q>
      The unenlightened response is <q>Don't worry about it.
      It just goes away.</q> A full understanding includes the following.
    </p>
    <p>
      This process of <em>antidifferentiation</em>
      is really solving a <em>differential</em> question.
      The integral
      <me>
        \int \sin(x) \,dx
      </me>
      presents us with a differential, <m>dy = \sin(x) \, dx</m>.
      It is asking: <q>What is <m>y</m>?</q>
      We found lots of solutions,
      all of the form <m>y = -\cos(x) +C</m>.
    </p>
    <p>
      Letting <m>dy = \sin(x)\,dx</m>, rewrite
      <me>
        \int \sin(x) \,dx  \text{ as }  \int\,dy
      </me>.
    </p>
    <p>
      This is asking:
      <q>What functions have a differential of the form <m>dy</m>?</q>
      The answer is <q>Functions of the form <m>y+C</m>,
      where <m>C</m> is a constant.</q> What is <m>y</m>?
      We have lots of choices, all differing by a constant;
      the simplest choice is <m>y = -\cos(x)</m>.
    </p>
    <p>
      Understanding all of this is more important later as we try to find
      antiderivatives of more complicated functions.
      In this section,
      we will simply explore the rules of indefinite integration,
      and one can succeed for now with answering
      <q>What happened to the <m>dx</m>?</q>
      with <q>It went away.</q>
    </p>
    <p>
      Let's practice once more before stating integration rules.
    </p>

    <example xml:id="ex_anti3">
      <title>Evaluating indefinite integrals</title>
      <statement>
        <p>
          Evaluate <m>\int\left(3x^2 + 4x+5\right)\,dx</m>.
        </p>
      </statement>
      <solution component="video">
        <title>Video solution</title>
        <video width="98%" youtube="3DFPqGHX7Yw" xml:id="vid_int_antider_ex_2" label="vid_int_antider_ex_2" component="video"/>
      </solution>
      <solution>

        <p>
          We seek a function <m>F(x)</m> whose derivative is <m>3x^2+4x+5</m>.
          When taking derivatives,
          we can consider functions term-by-term,
          so we can likely do that here.
        </p>
        <p>
          What functions have a derivative of <m>3x^2</m>?
          Some thought will lead us to a cubic,
          specifically <m>x^3+C_1</m>, where <m>C_1</m> is a constant.
        </p>
        <p>
          What functions have a derivative of <m>4x</m>?
          Here the <m>x</m> term is raised to the first power,
          so we likely seek a quadratic.
          Some thought should lead us to <m>2x^2+C_2</m>,
          where <m>C_2</m> is a constant.
        </p>
        <p>
          Finally, what functions have a derivative of <m>5</m>?
          Functions of the form <m>5x+C_3</m>,
          where <m>C_3</m> is a constant.
        </p>
        <p>
          Our answer appears to be
          <me>
            \int\left(3x^2+4x+5\right)\,dx = x^3+C_1+2x^2+C_2+5x+C_3
          </me>.
        </p>
        <p>
          We do not need three separate constants of integration;
          combine them as one constant,
          giving the final answer of
          <me>
            \int\left(3x^2+4x+5\right)\,dx = x^3+2x^2+5x+C
          </me>.
        </p>
        <p>
          It is easy to verify our answer;
          take the derivative of <m>x^3+2x^3+5x+C</m> and see we indeed get
          <m>3x^2+4x+5</m>.
        </p>
      </solution>
    </example>

    <p>
      This final step of <q>verifying our answer</q>
      is important both practically and theoretically.
      In general, taking derivatives is easier than finding antiderivatives so
      checking our work is easy and vital as we learn.
    </p>
    <p>
      We also see that taking the derivative of our answer returns the function
      in the integrand.
      Thus we can say that:
      <me>
        \lzoo{x}{\int f(x)\,dx} = f(x)
      </me>.
    </p>
    <p>
      Differentiation <q>undoes</q> the work done by antidifferentiation.
    </p>
    <p>
      <xref ref="thm_deriv_glossary">Theorem</xref>
      gave a list of the derivatives of common functions we had learned at that point.
      We restate part of that list here to stress the relationship between
      derivatives and antiderivatives.
      This list will also be useful as a glossary of common antiderivatives
      as we learn.
    </p>

    <theorem xml:id="thm_indef_alg">
      <title>Derivatives and Antiderivatives</title>
      <statement>
        <p>
          Here are the Common Differentiation Rules and their Common Indefinite
          Integral Rule counterparts.
        </p>
        <p>
          <md>
            <mrow>\amp\lzoo{x}{cf(x)}=c\cdot\fp(x)\amp\amp\int c\cdot f(x)\,dx= c\cdot \int f(x)\,dx</mrow>
            <mrow>\amp\lzoo{x}{f(x)\pm g(x)} =\fp(x)\pm g'(x)\amp\amp \int \big(f(x)\pm g(x)\big)\,dx =\int f(x)\,dx\pm \int g(x)\,dx</mrow>
            <mrow>\amp\lzoo{x}{C} = 0\amp\amp \int 0\,dx = C</mrow>
            <mrow>\amp\lzoo{x}{x} = 1\amp\amp \int 1\,dx = \int dx = x+C</mrow>
            <mrow>\amp\lzoo{x}{x^n} = n\cdot x^{n-1}\amp\amp \int x^n\,dx =\frac{1}{n+1}x^{n+1}+ C\quad(n\neq -1)</mrow>
            <mrow>\amp\lzoo{x}{\sin(x)} = \cos(x)\amp\amp \int \cos(x) \,dx = \sin(x) +C</mrow>
            <mrow>\amp\lzoo{x}{\cos(x)} = -\sin(x)\amp\amp \int \sin(x) \,dx = -\cos(x) +C</mrow>
            <mrow>\amp\lzoo{x}{\tan(x)} = \sec^2(x)\amp\amp \int \sec^2(x) \,dx = \tan(x) +C</mrow>
            <mrow>\amp\lzoo{x}{\csc(x)} = -\csc(x) \cot(x)\amp\amp \int \csc(x) \cot(x) \,dx = -\csc(x) +C</mrow>
            <mrow>\amp\lzoo{x}{\sec(x)} = \sec(x) \tan(x)\amp\amp \int \sec(x) \tan(x) \,dx = \sec(x) +C</mrow>
            <mrow>\amp\lzoo{x}{\cot(x)} = -\csc^2(x)\amp\amp \int \csc^2(x) \,dx = -\cot(x) +C</mrow>
            <mrow>\amp\lzoo{x}{e^ x} = e^x\amp\amp \int e^x\,dx = e^x+C</mrow>
            <mrow>\amp\lzoo{x}{a^x} = \ln(a) \cdot a^x\amp\amp \int a^x\,dx = \frac{1}{\ln(a) }\cdot a^x+C</mrow>
            <mrow>\amp\lzoo{x}{\ln(x)} = \frac1 x,\ x \gt 0\amp\amp \int \frac{1}x\,dx = \ln\abs{x}+C</mrow>
          </md>
        </p>
      </statement>
    </theorem>

    <p>
      We highlight a few important points from <xref ref="thm_indef_alg">Theorem</xref>.
    </p>
    <p>
      <ul>
        <li>
          <p>
            <me>
              \int c\cdot f(x)\,dx = c\cdot \int f(x)\,dx
            </me>
          </p>
          <p>
            This is the Constant Multiple Rule:

            <idx><h>Constant Multiple Rule</h><h>of integration</h></idx>

            we can temporarily ignore constants when finding antiderivatives,
            just as we did when computing derivatives (<ie/>,
            <m>\lzoo{x}{3x^2}</m> is just as easy to compute as
            <m>\lzoo{x}{x^2}</m>). An example:
            <me>
              \int 5\cos(x) \,dx = 5\cdot\int \cos(x) \,dx = 5\cdot (\sin(x) +C) = 5\sin(x) + C
            </me>.
            In the last step we can consider the constant as also being
            multiplied by 5, but
            <q>5 times a constant</q> is still a constant,
            so we just write <q><m>C</m> </q>.
          </p>
        </li>

        <li>
          <p>
            <me>
              \int \big(f(x)\pm g(x)\big)\,dx =\int f(x)\,dx\pm \int g(x)\,dx
            </me>
          </p>
          <p>
            This is the Sum/Difference Rule:

            <idx><h>integration</h><h>Sum/Difference Rule</h></idx>

            <idx><h>Sum/Difference Rule</h><h>of integration</h></idx>

            we can split integrals apart when the integrand contains terms
            that are added/subtracted,
            as we did in <xref ref="ex_anti3">Example</xref>.
            So:
            <md>
              <mrow>\int(3x^2+4x+5)\, dx \amp = \int 3x^2\, dx + \int 4x\,dx + \int 5\,dx</mrow>
              <mrow>\amp = 3\int x^2\, dx + 4\int x\,dx + \int 5 \,dx</mrow>
              <mrow>\amp = 3\cdot \frac13x^3 + 4\cdot \frac12x^2+5x+C</mrow>
              <mrow>\amp = x^3+2x^2+5x+C</mrow>
            </md>
            In practice we generally do not write out all these steps,
            but we demonstrate them here for completeness.
          </p>
        </li>

        <li>
          <p>
            <me>
              \int x^n\,dx =\frac{1}{n+1}x^{n+1}+ C\quad(n\neq -1)
            </me>
          </p>
          <p>
            This is the Power Rule of indefinite integration.

            <idx><h>integration</h><h>Power Rule</h></idx>

            <idx><h>Power Rule</h><h>integration</h></idx>

            There are two important things to keep in mind:

            <ol>
              <li>
                <p>
                  Notice the restriction that <m>n\neq -1</m>.
                  This is important: <m>\int \frac{1}{x}\,dx \neq</m>
                  <q><m>\frac{1}{0}x^0+C</m></q>;
                  rather, see the last rule from the list.
                </p>
              </li>

              <li>
                <p>
                  We are presenting antidifferentiation as the
                  <q>inverse operation</q> of differentiation.
                  Here is a useful quote to remember:
                </p>

                <blockquote>
                  <p>
                    <q>Inverse operations do the opposite things in the opposite
                      order.</q>
                  </p>
                </blockquote>

                <p>
                  When taking a derivative using the Power Rule,
                  we <em>first</em> <em>multiply</em> by the power,
                  then <em>second</em> <em>subtract</em> <m>1</m> from the power.
                  To find the antiderivative, do the opposite things in the
                  opposite order:
                  <em>first</em> <em>add</em> <m>1</m> to the power,
                  then <em>second</em> <em>divide</em> by the power.
                </p>
              </li>
            </ol>
          </p>
        </li>

        <li>
          <p>
            <me>
              \int \frac{1}x\,dx = \ln\abs{x}+C
            </me>
          </p>
          <p>
            Note that this rule uses the absolute value of <m>x</m>.
            The exercises will work the reader through why this is the case;
            for now, know the absolute value is important and cannot be ignored.
          </p>
        </li>
      </ul>
    </p>


  <paragraphs>
    <title>Initial Value Problems</title>
    <figure xml:id="vid_int_antider_init_val_prob" component="video">
      <caption>Introducing initial value problems</caption>
      <video youtube="Oo6OHiiGbOc" label="vid_int_antider_init_val_prob"/>
    </figure>

    <p>
      In <xref ref="sec_basic_diff_rules">Section</xref>
      we saw that the derivative of a position function gave a velocity function,
      and the derivative of a velocity function describes acceleration.
          <idx><h>initial value problem</h></idx>
      We can now go <q>the other way:</q>
      the antiderivative of an acceleration function gives a velocity function,
      <etc/>. While there is just one derivative of a given function,
      there are infinitely many antiderivatives.
      Therefore we cannot ask <q>What is <em>the</em>
      velocity of an object whose acceleration is
      <quantity>
        <mag>-32</mag><unit base="foot"/><per base="second" exp="2"/>
      </quantity>?</q>, since there is more than one answer.
    </p>
    <p>
      We can find <em>the</em> answer if we provide more information with the
      question, as done in the following example.
      Often the additional information comes in the form of an <em>initial value</em>,
      a value of the function that one knows beforehand.
    </p>

    <example xml:id="ex_anti4">
      <title>Solving initial value problems</title>
      <statement>
        <p>
          The acceleration due to gravity of a falling object is
          <quantity>
            <mag>-32</mag><unit base="foot"/><per base="second" exp="2"/>
          </quantity>.
          At time <m>t=3</m>, a falling object had a velocity of
          <quantity>
            <mag>-10</mag><unit base="foot"/><per base="second"/>
          </quantity>.
          Find the equation of the object's velocity.
        </p>
      </statement>
      <solution component="video">
        <title>Video solution</title>
        <video width="98%" youtube="3K_gWY4lmOs" xml:id="vid_int_antider_ex_3" label="vid_int_antider_ex_3" component="video"/>
      </solution>
      <solution>

        <p>
          We want to know a velocity function, <m>v(t)</m>.
          We know two things:

          <ul>
            <li>
              <p>
                The acceleration, <ie/>, <m>v'(t)= -32</m>, and
              </p>
            </li>

            <li>
              <p>
                the velocity at a specific time, <ie/>, <m>v(3) = -10</m>.
              </p>
            </li>
          </ul>
        </p>
        <p>
          Using the first piece of information,
          we know that <m>v(t)</m> is an antiderivative of <m>v'(t)=-32</m>.
          So we begin by finding the indefinite integral of <m>-32</m>:
          <me>
            \int (-32)\,dt = -32t+C=v(t)
          </me>.
        </p>
        <p>
          Now we use the fact that <m>v(3)=-10</m> to find <m>C</m>:
          <md>
            <mrow>v(t) \amp = -32t+C</mrow>
            <mrow>v(3) \amp = -10</mrow>
            <mrow>-32(3)+C \amp = -10</mrow>
            <mrow>C \amp = 86</mrow>
          </md>
        </p>
        <p>
          Thus <m>v(t)= -32t+86</m>.
          We can use this equation to understand the motion of the object:
          when <m>t=0</m>, the object had a velocity of <m>v(0) = 86</m><quantity>
            <unit base="foot"/><per base="second"/>
          </quantity>.
          Since the velocity is positive,
          the object was moving upward.
        </p>
        <p>
          When did the object begin moving down?
          Immediately after <m>v(t) = 0</m>:
          <me>
            -32t+86 = 0  \implies  t = \frac{43}{16}  \approx 2.69\text{s}
          </me>.
        </p>
        <p>
          Recognize that we are able to determine quite a bit about the path of
          the object knowing just its acceleration and its velocity at a single
          point in time.
        </p>
      </solution>
    </example>

    <example xml:id="ex_anti5">
      <title>Solving initial value problems</title>
      <statement>
        <p>
          Find <m>f(t)</m>, given that <m>\fpp(t) = \cos(t)</m>,
          <m>\fp(0) = 3</m> and <m>f(0) = 5</m>.
        </p>
      </statement>
      <solution component="video">
        <title>Video solution</title>
        <video width="98%" youtube="MB1dLY4lOew" xml:id="vid_int_antider_ex_4" label="vid_int_antider_ex_4" component="video"/>
      </solution>
      <solution>

        <p>
          We start by finding <m>\fp(t)</m>,
          which is an antiderivative of <m>\fpp(t)</m>:
          <md>
            <mrow>\int \fpp(t)\,dt \amp = \int \cos(t) \,dt</mrow>
            <mrow>\amp = \sin(t) + C</mrow>
            <mrow>\amp = \fp(t)</mrow>
          </md>.
        </p>
        <p>
          So <m>\fp(t) = \sin(t) +C</m> for the correct value of <m>C</m>.
          We are given that <m>\fp(0) = 3</m>, so:
          <md>
            <mrow>\sin(0) +C \amp = 3</mrow>
            <mrow>C \amp = 3</mrow>
          </md>.
        </p>
        <p>
          Using the initial value, we have found <m>\fp(t) = \sin(t) + 3</m>.
          We now find <m>f(t)</m> by integrating again.
          We will use a different integration constant since we have already
          defined <m>C</m> to equal <m>3</m> above.
          <me>
            f(t)=\int \fp(t) \,dt = \int (\sin(t) +3)\,dt = -\cos(t) + 3t + D
          </me>.
        </p>
        <p>
          We are given that <m>f(0) = 5</m>, so
          <md>
            <mrow>-\cos(0) + 3(0) + D \amp = 5</mrow>
            <mrow>-1 + C \amp = 5</mrow>
            <mrow>C \amp = 6</mrow>
          </md>
        </p>
        <p>
          Thus <m>f(t) = -\cos(t) + 3t + 6</m>.
        </p>
      </solution>
    </example>

    <p>
      This section introduced antiderivatives and the indefinite integral.
      We found they are needed when finding a function given information about
      its derivative(s). For instance,
      we found a velocity function given an acceleration function.
    </p>
    <p>
      In the next section,
      we will see how position and velocity are unexpectedly related by the
      areas of certain regions on a graph of the velocity function.
      Then, in <xref ref="sec_FTC">Section</xref>,
      we will see how areas and antiderivatives are closely tied together.
      This connection is incredibly important,
      as indicated by the name of the theorem that describes it:
      The Fundamental Theorem of Calculus.
    </p>
  </paragraphs>

  <exercises>
    <subexercises xml:id="TaC-antiderivatives">
      <title>Terms and Concepts</title>
      <exercise label="TaC-antiderivatives-1">
        <webwork xml:id="webwork-TaC-antiderivatives-1">
          <statement>
            <p>
              Define the term <q>antiderivative</q> in your own words.
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-2">
        <webwork xml:id="webwork-TaC-antiderivatives-2">
          <pg-code>
            Context()->strings->add('the antiderivative'=>{});
            Context()->strings->add('the'=>{alias=>'the antiderivative'});
            Context()->strings->add('an antiderivative'=>{});
            Context()->strings->add('an'=>{alias=>'an antiderivative'});
          </pg-code>
          <statement>
            <p>
              Is it more accurate to refer to <q>the</q>
              antiderivative of <m>f(x)</m> or <q>an</q>
              antiderivative of <m>f(x)</m>?
            </p>
            <p>
              <var name="'an antiderivative'" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-3">
        <webwork xml:id="webwork-TaC-antiderivatives-3">
          <statement>
            <p>
              Use your own words to define the indefinite integral of <m>f(x)</m>.
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-4">
        <webwork xml:id="webwork-TaC-antiderivatives-4">
          <pg-code>
            Context()->strings->add('opposite'=>{});
            Context()->strings->add('reverse'=>{alias=>'opposite'});
          </pg-code>
          <statement>
            <p>
              Fill in the blanks:
              <q>Inverse operations do the <var name="'opposite'" width="10"/>
              things in the <var name="'opposite'" width="10"/> order.</q>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-5">
        <webwork xml:id="webwork-TaC-antiderivatives-5">
          <statement>
            <p>
              What is an <q>initial value problem</q>?
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-6">
        <webwork xml:id="webwork-TaC-antiderivatives-6">
          <pg-code>
            Context()->strings->add('velocity'=>{});
            Context()->strings->add('acceleration'=>{});
            Context()->strings->add('displacement'=>{});
          </pg-code>
          <statement>
            <p>
              The derivative of a position function is a/an <var name="'velocity'" width="10"/> function.
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-7">
        <webwork xml:id="webwork-TaC-antiderivatives-7">
          <pg-code>
            Context()->strings->add('velocity'=>{});
            Context()->strings->add('position'=>{});
            Context()->strings->add('displacement'=>{});
          </pg-code>
          <statement>
            <p>
              An antiderivative of an acceleration function is a/an <var name="'velocity'" width="10"/>
              function.
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise label="TaC-antiderivatives-8">
        <webwork xml:id="webwork-TaC-antiderivatives-8">
          <pg-code>
            parserFunction("F" => "exp(x)*sin(x)/sqrt(abs(x))");
            parserFunction("G" => "ln(abs(x))*cos(x)*sqrt(abs(x))");
            $answer = Formula('F(x)+G(x)');
            $evaluator = $answer->cmp(upToConstant=>1);
          </pg-code>
          <statement>
            <p>
              If <m>F(x)</m> is an antiderivative of <m>f(x)</m>,
              and <m>G(x)</m> is an antiderivative of <m>g(x)</m>,
              give an antiderivative of <m>f(x)+g(x)</m>.
            </p>
            <p>
              <var name="$evaluator" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Problems</title>
      <exercisegroup cols="2" xml:id="exset-antiderivatives-evaluate">
        <introduction>
          <p>
            Evaluate the indefinite integral.
            Don't forget your constant of integration!
          </p>
        </introduction>
        <!-- Exercise 9 -->
        <exercise label="ex-antiderivatives-evaluate-1">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-1">
            <pg-code>
              $a = random(2,9,1);
              $n = random(2,9,1);
              if($envir{problemSeed}==1){$a=3;$n=3};
              $f = Formula("$a x^$n");
              Context("Fraction");
              $b = Fraction($a,$n+1);
              $F = FormulaUpToConstant("$b x^($n+1)");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-2">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-2">
            <pg-code>
              $n = random(2,9,1);
              if($envir{problemSeed}==1){$n=9};
              $f = Formula("x^$n");
              Context("Fraction");
              $F = FormulaUpToConstant("1/($n+1) x^($n+1)");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-3">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-3">
            <pg-code>
              $a = random(5,15,1);
              $n = random(2,9,1);
              $c = non_zero_random(-9,9,1);
              if($envir{problemSeed}==1){$a=10;$n=2;$c=-2};
              $f = Formula("$a x^$n + $c")->reduce;
              Context("Fraction");
              $b = Fraction($a,$n+1);
              $F = FormulaUpToConstant("$b x^($n+1) + $c x")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int \left(<var name="$f"/>\right)\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 12 -->
        <exercise label="ex-antiderivatives-evaluate-4">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-4">
            <pg-code>
              Context()->variables->are(t=>"Real");
              $F = FormulaUpToConstant("t");
            </pg-code>
            <statement>
              <p>
                <m>\int dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-5">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-5">
            <pg-code>
              Context()->variables->are(s=>"Real");
              $F = FormulaUpToConstant("s");
            </pg-code>
            <statement>
              <p>
                <m>\int 1\, ds</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-6">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-6">
            <pg-code>
              ($a,$n) = (2..9)[NchooseK(8,2)];
              if($envir{problemSeed}==1){$a=3;$n=2};
              Context("Fraction");
              Context()->variables->are(t=>"Real");
              $f = Formula("1/($a t^$n)")->reduce;
              $F = FormulaUpToConstant("-1/($a*($n-1) t^($n-1))")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 15 -->
        <exercise label="ex-antiderivatives-evaluate-7">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-7">
            <pg-code>
              ($a,$n) = (2..9)[NchooseK(8,2)];
              if($envir{problemSeed}==1){$a=3;$n=2};
              Context("Fraction");
              Context()->variables->are(t=>"Real");
              $f = Formula("$a/(t^$n)")->reduce;
              ($num,$den) = Fraction($a,$n-1)->value;
              $F = FormulaUpToConstant("-$num/($den t^($n-1))")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-8">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-8">
            <pg-code>
              $F = FormulaUpToConstant("2*sqrt(x)");
            </pg-code>
            <statement>
              <p>
                <m>\int \frac{1}{\sqrt{x}}\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-9">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-9">
            <pg-code>
              $F = list_random('tan','cot','sec','csc');
              if($envir{problemSeed}==1){$F='tan';};
              Context()->variables->are(theta=>['Real',TeX=>'\theta']);
              $F = Formula("$F(theta)");
              $f = $F->D('theta')->reduce;
              $F = FormulaUpToConstant("$F");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, d\theta</m>
              </p>
              <instruction>
                To enter <m>\theta</m>, type <c>theta</c>.
              </instruction>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 18 -->
        <exercise label="ex-antiderivatives-evaluate-10">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-10">
            <pg-code>
              $F = list_random('-sin','-cos');
              if($envir{problemSeed}==1){$F='-cos';};
              Context()->variables->are(theta=>['Real',TeX=>'\theta']);
              $F = Formula("$F(theta)");
              $f = $F->D('theta')->reduce;
              $F = FormulaUpToConstant("$F");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, d\theta</m>
              </p>
              <instruction>
                To enter <m>\theta</m>, type <c>theta</c>.
              </instruction>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-11">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-11">
            <pg-code>
              ($G,$H) = ('sec','csc','tan','cot');
              $c = list_random(-1,1);
              if($envir{problemSeed}==1){$G='sec';$H=csc;$c=-1};
              $F = Formula("$G(x) + $c*$H(x)")->reduce;
              $f = $F->D('x')->reduce;
              $F = FormulaUpToConstant("$F");
            </pg-code>
            <statement>
              <p>
                <m>\int \left(<var name="$f"/>\right)\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-12">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-12">
            <pg-code>
              $a = random(2,9,1);
              if($envir{problemSeed}==1){$a=5;};
              Context()->variables->are(theta=>['Real',TeX=>'\theta']);
              $F = Formula("$a e^(theta)");
              $f = $F->D('theta')->reduce;
              $F = FormulaUpToConstant("$F");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, d\theta</m>
              </p>
              <instruction>
                To enter <m>\theta</m>, type <c>theta</c>.
              </instruction>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 21 -->
        <exercise label="ex-antiderivatives-evaluate-13">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-13">
            <pg-code>
              $b = random(2,9,1);
              if($envir{problemSeed}==1){$b=3;};
              Context()->variables->are(t=>'Real');
              $f = Formula("$b^t");
              Context()->flags->set(reduceConstantFunctions=>0);
              $F = FormulaUpToConstant("$b^t/ln($b)");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-14">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-14">
            <pg-code>
              ($b,$c) = (2..9)[NchooseK(8,2)];
              if($envir{problemSeed}==1){$b=5;$c=2};
              Context()->variables->are(t=>'Real');
              $f = Formula("$b^t/$c");
              Context()->flags->set(reduceConstantFunctions=>0);
              $F = FormulaUpToConstant("$b^t/($c ln($b))");
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-15">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-15">
            <pg-code>
              $a = random(2,9,1);
              $b = non_zero_random(-9,9,1);
              if($envir{problemSeed}==1){$a=2;$b=3};
              Context("Fraction");
              Context()->variables->are(t=>'Real');
              $f = Formula("($a t + $b)^2")->reduce;
              $A = Fraction($a**3,3*$a);
              $B = Fraction(3*$a**2*$b,3*$a);
              $C = Fraction(3*$a*$b**2,3*$a);
              $D = Fraction($b**3,3*$a);
              $F = FormulaUpToConstant("$A t^3 + $B t^2 + $C t + $D")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 24 -->
        <exercise label="ex-antiderivatives-evaluate-16">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-16">
            <pg-code>
              $m = random(2,5,1);
              ($a,$b) = (-9..-1,1..9)[NchooseK(18,2)];
              if($envir{problemSeed}==1){$m=2;$a=3;$b=-2};
              Context("Fraction");
              Context()->variables->are(t=>'Real');
              $n = $m+1;
              $f = Formula("(t^$m+$a)(t^$n+$b t)")->reduce;
              ($num2,$den2) = Fraction($b/($m+2) + $a/($n+1))->value;
              ($num3,$den3) = Fraction($a*$b,2)->value;
              $F = FormulaUpToConstant("t^($m+$n+1)/($m+$n+1) + $num2 t^($n+1)/$den2 + $num3 t^2/$den3")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dt</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-17">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-17">
            <pg-code>
              ($m,$n) = (2..9)[NchooseK(8,2)];
              if($envir{problemSeed}==1){$m=2;$n=3};
              $f = Formula("x^$m x^$n")->reduce;
              $F = FormulaUpToConstant("x^($m+$n+1)/($m+$n+1)")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-evaluate-18">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-18">
            <pg-code>
              ($b,$p) = ('pi','e','sqrt(2)')[NchooseK(3,2)];
              if($envir{problemSeed}==1){$b='e';$p='pi'};
              Context()->flags->set(reduceConstants=>0);
              $f = Formula("$b^$p")->reduce;
              $F = FormulaUpToConstant("$b^$p x")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 27 -->
        <exercise label="ex-antiderivatives-evaluate-19">
          <webwork xml:id="webwork-ex-antiderivatives-evaluate-19">
            <pg-code>
              $c = list_random('a'..'d','k','m','n','p'..'s');
              if($envir{problemSeed}==1){$c='a'};
              Context()->flags->set(reduceConstants=>0);
              Context()->constants->add($c=>Real(exp(pi/sqrt(2)+sin(1))));
              $f = Formula("$c")->reduce;
              $F = FormulaUpToConstant("$c x")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\int <var name="$f"/>\, dx</m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
      </exercisegroup>

      <exercise label="ex-antiderivatives-find-difference">
        <introduction>
          <p>
            Consider the two integrals, <m>\ds \int s^n\,ds</m> and
            <m>\ds \int s^n\,dn</m>.
          </p>
        </introduction>
        <task label="ex-antiderivatives-find-difference-a">
          <statement>
            <p>
              What is the difference between these two indefinite integrals?
            </p>
          </statement>
          <solution>
            <p>
              The indefinite integrals have different differentials,
              <ie/>, different variables of integration.
            </p>
          </solution>
        </task>
        <task label="ex-antiderivatives-find-difference-b">
          <statement>
            <p>
              Evaluate <m>\ds \int s^n\,ds</m>.
            </p>
          </statement>
          <solution>
            <p>
              <m>\frac{s^{n+1}}{n+1}+C</m>, <m>n\neq -1</m>
            </p>
          </solution>
        </task>
        <task label="ex-antiderivatives-find-difference-c">
          <statement>
            <p>
              Evaluate <m>\ds \int s^n\,dn</m>.
            </p>
          </statement>
          <solution>
            <p>
              <m>\frac{s^{n}}{\ln s}+C</m>, <m>s>0</m>
            </p>
          </solution>
        </task>
      </exercise>

      <exercise label="ex-antiderivatives-log-abs">
        <!-- <webwork xml:id="webwork-ex-antiderivatives-log-abs"> -->
          <introduction>
            <p>
              This problem investigates why <xref ref="thm_indef_alg">Theorem</xref>
              states that <m>\ds \int \frac1x\,dx = \ln\abs{x} + C</m>.
            </p>
          </introduction>
          <task label="ex-antiderivatives-log-abs-a">
            <statement>
              <p>
                What is the domain of <m>y = \ln(x)</m>?
              </p>
            </statement>
          </task>
          <task label="ex-antiderivatives-log-abs-b">
            <statement>
              <p>
                Find <m>\lzoo{x}{\ln(x) }</m>.
              </p>
            </statement>
          </task>
          <task label="ex-antiderivatives-log-abs-c">
            <statement>
              <p>
                What is the domain of <m>y = \ln(-x)</m>?
              </p>
            </statement>
          </task>
          <task label="ex-antiderivatives-log-abs-d">
            <statement>
              <p>
                Find <m>\lzoo{x}{\ln(-x)}</m>.
              </p>
            </statement>
          </task>
          <task label="ex-antiderivatives-log-abs-e">
            <statement>
              <p>
                You should find that <m>1/x</m> has two types of antiderivatives,
                depending on whether <m>x \gt 0</m> or <m>x\lt 0</m>.
                In one expression, give a formula for
                <m>\ds \int \frac{1}{x}\, dx</m> that takes these different domains into account,
                and explain your answer.
              </p>

              <!-- <p>
                <var form="essay"/>
              </p> -->
            </statement>
          </task>
        <!-- </webwork> -->
      </exercise>

      <exercisegroup xml:id="exset-antiderivatives-ivp">
        <introduction>
          <p>
            Find the function determined by the given initial value problem.
          </p>
        </introduction>
        <!-- Exercise 29 -->
        <exercise label="ex-antiderivatives-ivp-1">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-1">
            <pg-code>
              $trig = list_random('-sin','-cos');
              $f0 = list_random(-9..-1,2..9);
              if($envir{problemSeed}==1){$trig='-cos';$f0=2;};
              $F = Formula("$trig(x)");
              $f = $F->D('x');
              $F0 = $F->eval(x=>0);
              $c = $f0 - $F0;
              $F = Formula($F + $c)->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fp(x) = <var name="$f"/></m> and <m>f(0)= <var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-ivp-2">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-2">
            <pg-code>
              $a = random(2,9,1);
              $b = random(2,9,1);
              if($envir{problemSeed}==1){$a=5;$b=5;};
              $f0 = $a+$b;
              $f = Formula("$a e^x");
              $F = Formula("$a e^x + $b");
            </pg-code>
            <statement>
              <p>
                <m>\fp(x) = <var name="$f"/></m> and <m>f(0)= <var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 31 -->
        <exercise label="ex-antiderivatives-ivp-3">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-3">
            <pg-code>
              $a = random(2,9,1);
              $b = non_zero_random(-9,9,1);
              $m = random(1,2,1);
              $x0 = non_zero_random(-2,2,1);
              $f0 = non_zero_random(-9,9,1);
              if($envir{problemSeed}==1){$a=4;$b=-3;$m=2;$x0=-1;$f0=9};
              $f = Formula("$a x^3 + $b x^$m")->reduce;
              Context("Fraction");
              ($num1,$den1) = Fraction($a,4)->value;
              ($num2,$den2) = Fraction($b,$m+1)->value;
              $F = Formula("$num1 x^4/$den1 + $num2 x^($m+1)/$den2");
              $c = Fraction($f0 - $F->eval(x=>$x0));
              $F = Formula("$num1 x^4/$den1 + $num2 x^($m+1)/$den2 + $c")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fp(x) = <var name="$f"/></m> and <m>f(<var name="$x0"/>)= <var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-ivp-4">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-4">
            <pg-code>
              $trig = list_random(['tan','pi/4'],['sec','pi/3'],['cot','pi/4'],['csc','pi/6']);
              $f0 = non_zero_random(-9,9,1);
              if($envir{problemSeed}==1){$trig=['tan','pi/4'];$f0=5;};
              $trf = $trig->[0];
              $x0 = $trig->[1];
              Context()->flags->set(reduceConstants=>0);
              $x0 = Formula("$x0");
              $F = Formula("$trf(x)");
              $f = $F->D('x');
              $c = $f0 - $F->eval(x=>Real("$x0"));
              $F = Formula("$F + $c");
            </pg-code>
            <statement>
              <p>
                <m>\fp(x) = <var name="$f"/></m> and <m>f\mathopen{}\left(<var name="$x0"/>\right)\mathclose{}= <var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 33 -->
        <exercise label="ex-antiderivatives-ivp-5">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-5">
            <pg-code>
              $b = random(2,9,1);
              $f0 = random(1,9,1);
              if($envir{problemSeed}==1){$b=7;$f0=1;};
              $f = Formula("$b^x");
              Context()->flags->set(reduceConstantFunctions=>0);
              $F = Formula("$b^x/ln($b) - $b^2/ln($b) + $f0");
            </pg-code>
            <statement>
              <p>
                <m>\fp(x) = <var name="$f"/></m> and <m>f(2) = <var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-ivp-6">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-6">
            <pg-code>
              ($fpp,$fp0,$f0) = (2..9)[NchooseK(8,3)];
              if($envir{problemSeed}==1){$fpp=5;$fp0=7;$f0=3;};
              Context("Fraction");
              $a = Fraction($fpp,2);
              $F = Formula("$a x^2 + $fp0 x + $f0");
            </pg-code>
            <statement>
              <p>
                <m>\fpp(x)=<var name="$fpp"/></m> and <m>\fp(0)=<var name="$fp0"/></m>, <m>f(0)=<var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 35 -->
        <exercise label="ex-antiderivatives-ivp-7">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-7">
            <pg-code>
              ($fpp,$fp0,$f0) = (-10..-2,2..10)[NchooseK(18,3)];
              if($envir{problemSeed}==1){$fpp=7;$fp0=-1;$f0=10;};
              Context("Fraction");
              $a = Fraction($fpp,6);
              $c = Fraction($f0 - $a - $fp0);
              $F = Formula("$a x^3 + $fp0 x + $c");
            </pg-code>
            <statement>
              <p>
                <m>\fpp(x)=<var name="$fpp"/>x</m> and <m>\fp(1)=<var name="$fp0"/></m>, <m>f(1)=<var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-ivp-8">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-8">
            <pg-code>
              $fpp = random(2,9,1);
              ($fp0,$f0) = (-10..-2,2..10)[NchooseK(18,2)];
              if($envir{problemSeed}==1){$fpp=5;$fp0=3;$f0=5;};
              $f = Formula("$fpp e^x");
              $F = Formula("$f + ($fp0-$fpp)x + ($f0-$fpp)")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fpp(x)=<var name="$f"/></m> and <m>\fp(0)=<var name="$fp0"/></m>, <m>f(0)=<var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 37 -->
        <exercise label="ex-antiderivatives-ivp-9">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-9">
            <pg-code>
              $trig = list_random('sin','cos');
              $x0 = list_random(0,'pi/2','pi');
              ($fp0,$f0) = (2..9)[NchooseK(8,2)];
              if($envir{problemSeed}==1){$trig='sin';$x0='pi';$fp0=2;$f0=4;};
              Context()->variables->are(theta=>['Real',TeX=>'\theta']);
              $x0 = Formula("$x0");
              $f = Formula("$trig(theta)");
              $F = Formula("-$trig(theta)");
              $m = $fp0 - $F->D('theta')->eval(theta=>Real("$x0"));
              $F = Formula("-$trig(theta) + $m theta + ($f0 + $trig($x0) - $m $x0 ) ")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fpp(\theta)=<var name="$f"/></m> and <m>\fp\left(<var name="$x0"/>\right)=<var name="$fp0"/></m>, <m>f\left(<var name="$x0"/>\right)=<var name="$f0"/></m>
              </p>
              <instruction>
                To enter <m>\theta</m>, type <c>theta</c>.
              </instruction>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise label="ex-antiderivatives-ivp-10">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-10">
            <pg-code>
              $a = random(10,30,1);
              $m = random(2,4,1);
              $b = random(2,9,1);
              $trig = list_random('sin','cos');
              $c = list_random(1,-1);
              ($fp0,$f0) = (-9..9)[NchooseK(19,2)];
              if($envir{problemSeed}==1){$a=24;$m=2;$b=2;$c=-1;$trig='cos';$fp0=5;$f0=0;};
              Context("Fraction");
              Context()->flags->set(reduceConstants=>0);
              ($num,$den) = Fraction($a,($m+1)*($m+2))->value;
              $f = Formula("$a x^$m + $b^x + $c $trig(x)")->reduce;
              $F = Formula("$num x^($m+2)/$den + $b^x/(ln($b))^2 - $c $trig(x)")->reduce;
              $m = $fp0 - $F->D('x')->eval(x=>0);
              $F = Formula("$F + $m x + ($f0 + $c*$trig(0)- 1/(ln($b))^2)")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fpp(x)=<var name="$f"/></m> and <m>\fp(0)=<var name="$fp0"/></m>, <m>f(0)=<var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <!-- Exercise 39 -->
        <exercise label="ex-antiderivatives-ivp-11">
          <webwork xml:id="webwork-ex-antiderivatives-ivp-11">
            <pg-code>
              $x0 = non_zero_random(-5,5,1);
              ($fp0,$f0) = (-9..-1,1..9)[NchooseK(18,2)];
              if($envir{problemSeed}==1){$x0=1;$fp0=5;$f0=0;};
              $F = Formula("$fp0 x + ($f0 - $fp0*$x0)")->reduce;
            </pg-code>
            <statement>
              <p>
                <m>\fpp(x)=0</m> and <m>\fp(<var name="$x0"/>)=<var name="$fp0"/></m>, <m>f(<var name="$x0"/>)=<var name="$f0"/></m>
              </p>
              <p>
                <var name="$F" width="40"/>
              </p>
            </statement>
          </webwork>
        </exercise>
      </exercisegroup>
    </subexercises>

    <!-- <subexercises xml:id="review-antiderivatives">
      <title>Review</title>
      <exercise label="review-antiderivatives-1">
        <statement>
          <p>
            Use information gained from the first and second derivatives to sketch <m>f(x) = \dfrac{1}{e^x+1}</m>.
          </p>
        </statement>
      </exercise>

      <exercise label="review-antiderivatives-2">
        <webwork xml:id="webwork-review-antiderivatives-2">
          <pg-code>
            $m = random(2,5,1);
            $trig = list_random('sin','cos');
            if($envir{problemSeed}==1){$m=2;$trig='sin';};
            Context()->variables->add(dx=>"Real");
            $f = Compute("x^$m e^x $trig(x)")->reduce;
            $df = $f->D('x')->reduce;
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Given <m>y=<var name="$f"/></m>, find <m>dy</m>.
            </p>
            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
    </subexercises> -->
  </exercises>
</section>
