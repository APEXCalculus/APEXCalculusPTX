<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="sec_extreme_values">
  <title>Extreme Values</title>
  <p>
    Given any quantity described by a function,
    we are often interested in the largest and/or smallest values that quantity attains.
    For instance, if a function describes the speed of an object,
    it seems reasonable to want to know the fastest/slowest the object traveled.
    If a function describes the value of a stock,
    we might want to know the highest/lowest values the stock attained over the past year.
    We call such values <em>extreme values.</em>
  </p>

  <definition xml:id="def_extreme_values">
    <title>Extreme Values</title>
    <statement>
      <p>
        Let <m>f</m> be defined on an interval <m>I</m> containing <m>c</m>.

              <idx><h>extreme values</h></idx>
              <idx><h>absolute minimum</h></idx>
              <idx><h>minimum</h><h>absolute</h></idx>
              <idx><h>absolute maximum</h></idx>
              <idx><h>maximum</h><h>absolute</h></idx>

        <ol>
          <li>
            <p>
              <m>f(c)</m> is the <em>minimum</em> (also,
              <em>absolute minimum</em>) of <m>f</m> on <m>I</m> if
              <m>f(c) \leq f(x)</m> for all <m>x</m> in <m>I</m>.
            </p>
          </li>

          <li>
            <p>
              <m>f(c)</m> is the <em>maximum</em> (also,
              <em>absolute maximum</em>) of <m>f</m> on <m>I</m> if
              <m>f(c) \geq f(x)</m> for all <m>x</m> in <m>I</m>.
            </p>
          </li>
        </ol>
      </p>

      <p>
        The maximum and minimum values are the
        <term>extreme values</term>,
        or <term>extrema</term>, of <m>f</m> on <m>I</m>.
            <idx><h>extrema</h><h>absolute</h></idx>
      </p>
    </statement>
  </definition>

  <aside>
    <p>
      <em>Note:</em> The extreme values of a function are
      <q><m>y</m></q> values,
      values the function attains, not the input values.
      However we often say there is an extreme value
      <em>at</em> certain input values.
      For example, <q><m>\sin(x)</m> has a maximum
      <em>at</em> <m>\pi/2</m>,
      and the maximum of <m>\sin(x)</m>
      <em>is</em> <m>1</m>.</q>
    </p>
  </aside>

  <!-- <figure xml:id="vid_graphs_extreme_val_abs_extrema">
    <caption>Video presentation of <xref ref="def_extreme_values"/></caption>
    <video youtube="srE7xUmQtCQ"/>
  </figure> -->

 <p>
    Consider <xref ref="fig_extreme">Figure</xref>.
    The function displayed in <xref ref="fig_extreme1"/> has a maximum,
    but no minimum,
    as the interval over which the function is defined is open.
    In <xref ref="fig_extreme2"/>, the function has a minimum,
    but no maximum;
    there is a discontinuity in the <q>natural</q>
    place for the maximum to occur.
    Finally, the function shown in <xref ref="fig_extreme3"/>has both a maximum and a minimum;
    note that the function is continuous and the interval on which it is defined is closed.
  </p>

  <!-- ToDo: I'm not sure if the intervals need to be shown on the x axis. I left them there for now.  -->

  <figure xml:id="fig_extreme">
  <caption>Graphs of functions with and without extreme values</caption>
  <sidebyside widths="31% 31% 31%" margins="0%">
    <figure xml:id="fig_extreme1">
      <caption/>
        <!-- START figures/fig_extreme1.tex -->
      <image xml:id="img_extreme1">
        <description></description>
        <latex-image>

        \begin{tikzpicture}
        \begin{axis}[ ymin=-.9,ymax=5.5,xmin=-2.2,xmax=2.2,]
        \addplot+[domain=-2:2,-] {-x^2+5};
        \addplot[hollowdot] coordinates {(-2,1) (2,1)};
        \addplot[openinterval] coordinates {(-2,0) (2,0)};
        \end{axis}
        \end{tikzpicture}

        </latex-image>
      </image>
        <!-- figures/fig_extreme1.tex END -->
    </figure>

    <figure xml:id="fig_extreme2">
      <caption/>

      <image xml:id="img_extreme2">
        <description></description>
        <latex-image>

        \begin{tikzpicture}
        \begin{axis}[ ymin=-.9,ymax=5.5,xmin=-2.2,xmax=2.2,]
        \addplot+[domain=-2:2,-] {-x^2+5};
        \addplot[soliddot] coordinates {(-2,1) (2,1) (0,3)};
        \addplot[closedinterval] coordinates {(-2,0) (2,0)};
        \addplot[hollowdot] coordinates {(0,5)};
        \end{axis}
        \end{tikzpicture}

        </latex-image>
      </image>

    </figure>

    <figure xml:id="fig_extreme3">
      <caption/>
        <!-- START figures/fig_extreme3.tex -->
      <image xml:id="img_extreme3">
        <description></description>
        <latex-image>

        \begin{tikzpicture}
        \begin{axis}[ ymin=-.9,ymax=5.5,xmin=-2.2,xmax=2.2,]
        \addplot+[domain=-2:2,-] {-x^2+5};
        \addplot[soliddot] coordinates {(-2,1) (2,1)};
        \addplot[closedinterval] coordinates {(-2,0) (2,0)};
        \end{axis}
        \end{tikzpicture}

        </latex-image>
      </image>
        <!-- figures/fig_extreme3.tex END -->
    </figure>
  </sidebyside>
  </figure>

  <p>
    It is possible for discontinuous functions defined on an open interval to have both a maximum and minimum value,
    but we have just seen examples where they did not.
    On the other hand,
    continuous functions on a closed interval <em>always</em>
    have a maximum and minimum value.
  </p>

  <theorem xml:id="thm_extreme_val">
    <title>The Extreme Value Theorem</title>
    <statement>
      <p>
        Let <m>f</m> be a continuous function defined on a closed interval <m>I</m>.
        Then <m>f</m> has both a maximum and minimum value on <m>I</m>.

              <idx><h>Extreme Value Theorem</h></idx>

      </p>
    </statement>
  </theorem>

  <!-- <figure xml:id="vid_graphs_extreme_val_EVT">
    <caption>Video presentation of <xref ref="thm_extreme_val"/></caption>
    <video youtube="GIcjxu8dTnY"/>
  </figure> -->

  <p>
    This theorem states that <m>f</m> has extreme values,
    but it does not offer any advice about how/where to find these values.
    The process can seem to be fairly easy,
    as the next example illustrates.
    After the example,
    we will draw on lessons learned to form a more general and powerful method for finding extreme values.
  </p>

  <example xml:id="ex_extval1">
    <title>Approximating extreme values</title>
    <statement>
      <p>
        Consider <m>f(x) = 2x^3-9x^2</m> on <m>I=[-1,5]</m>,
        as graphed in <xref ref="fig_extval1">Figure</xref>.
        Approximate the extreme values of <m>f</m>.
      </p>

      <figure xml:id="fig_extval1">
        <caption>A graph of <m>f(x) = 2x^3-9x^2</m> as in <xref ref="ex_extval1">Example</xref></caption>

          <!-- START figures/fig_extval1.tex -->
        <image xml:id="img_extval1" width="47%">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[xmin=-2,xmax=5.7,
          ymin=-33,ymax=31,]
          \addplot+[-,domain=-1:5, samples=40] {2*x^3-9*x^2};
          \addplot[soliddot] coordinates{(-1,-11)} node[below] {$(-1,-11)$};
          \addplot[soliddot] coordinates{(0,0)} node[above right] {$(0,0)$};
          \addplot[soliddot] coordinates{(3,-27)} node[below] {$(3,-27)$};
          \addplot[soliddot] coordinates{(5,25)} node[above] {$(5,25)$};
          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
          <!-- figures/fig_extval1.tex END -->
      </figure>

    </statement>
    <solution>
      <p>
        The graph is drawn in such a way to draw attention to certain points.
        It certainly seems that the smallest <m>y</m>-value is <m>-27</m>,
        found when <m>x=3</m>.
        It also seems that the largest <m>y</m>-value is <m>25</m>,
        found at the endpoint of <m>I</m>, <m>x=5</m>.
        We use the word <em>seems</em>,
        for by the graph alone we cannot be sure the smallest value is not less than <m>-27</m>.
        Since the problem asks for an approximation,
        we approximate the extreme values to be <m>25</m> and <m>-27</m>.
      </p>
    </solution>
  </example>

  <p>
    Notice how the minimum value came at
    <q>the bottom of a hill,</q>
    and the maximum value came at an endpoint.
    Also note that while <m>0</m> is not an extreme value,
    it would be if we narrowed our interval to <m>[-1,4]</m>.
    The idea that the point <m>(0,0)</m> is the location of an extreme value for some interval is important,
    leading us to a definition of a
    <em>relative maximum</em>.
    In short, a <q>relative max</q>
    is a <m>y</m>-value that's the largest <m>y</m>-value <q>nearby.</q>
  </p>

  <definition xml:id="def_rel_ext">
    <title>Relative Minimum and Relative Maximum</title>
    <statement>
      <p>
        Let <m>f</m> be defined on an interval <m>I</m> containing <m>c</m>.

        <ol>
          <li>
            <p>
              If there is a <m>\delta \gt 0</m> such that
              <m>f(c) \leq f(x)</m> for all <m>x</m> in <m>I</m> where <m>\abs{x-c}\lt \delta</m>,
              then <m>f(c)</m> is a <term>relative minimum</term> of <m>f</m>.
              We also say that <m>f</m> has a relative minimum at <m>(c,f(c))</m>.
                <idx><h>minimum</h><h>relative/local</h></idx>
                <idx><h>extrema</h><h>relative</h></idx>
            </p>
          </li>

          <li>
            <p>
              If there is a <m>\delta \gt 0</m> such that
              <m>f(c) \geq f(x)</m> for all <m>x</m> in <m>I</m> where <m>\abs{x-c}\lt \delta</m>,
              then <m>f(c)</m> is a <term>relative maximum</term> of <m>f</m>.
              We also say that <m>f</m> has a relative maximum at <m>(c,f(c))</m>.
                <idx><h>maximum</h><h>relative/local</h></idx>
                <idx><h>extrema</h><h>relative</h></idx>
            </p>
          </li>
        </ol>
      </p>

      <p>
        The relative maximum and minimum values comprise the
        <term>relative extrema</term> of <m>f</m>.
      </p>
    </statement>
  </definition>

  <aside>
    <title>Alternative Vocabulary</title>
    <p>
      The terms <em>local minimum</em>
      and <em>local maximum</em>
      are often used as synonyms for <em>relative minimum</em>
      and <em>relative maximum</em>.
    </p>

    <p>
      As it makes intuitive sense that an absolute maximum is also a relative maximum,
      <xref ref="def_rel_ext">Definition</xref>
      allows a relative maximum to occur at an interval's endpoint.
    </p>
  </aside>

  <!-- <figure xml:id="vid_graphs_extreme_val_rel_extrema">
    <caption>Video presentation of <xref ref="def_rel_ext"/></caption>
    <video youtube="nBZTnxn0vqQ"/>
  </figure> -->
  <p>
    We briefly practice using these definitions.
  </p>

  <example xml:id="ex_extval2">
    <title>Approximating relative extrema</title>
    <statement>
      <p>
        Consider <m>f(x) = (3x^4-4x^3-12x^2+5)/5</m>,
        as shown in <xref ref="fig_extval2">Figure</xref>.
        Approximate the relative extrema of <m>f</m>.
        At each of these points, evaluate <m>\fp</m>.
      </p>

      <figure xml:id="fig_extval2">
        <caption>A graph of <m>f(x) = (3x^4-4x^3-12x^2+5)/5</m> as in <xref ref="ex_extval2">Example</xref></caption>
          <!-- START figures/fig_extval2.tex -->
        <image xml:id="img_extval2" width="47%">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[xmin=-2.2,xmax=3.2,
          ymin=-6.5,ymax=6.9,]
          \addplot+[domain=-1.8:3, samples=50] {(3*x^4-4*x^3-12*x^2+5)/5};
          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
          <!-- figures/fig_extval2.tex END -->
      </figure>
    </statement>
    <solution>
      <p>
        We still do not have the tools to exactly find the relative extrema,
        but the graph does allow us to make reasonable approximations.
        It seems <m>f</m> has relative minima at <m>x=-1</m> and <m>x=2</m>,
        with values of <m>f(-1)=0</m> and <m>f(2) = -5.4</m>.
        It also seems that <m>f</m> has a relative maximum at the point <m>(0,1)</m>.
      </p>

      <p>
        We approximate the relative minima to be <m>0</m> and <m>-5.4</m>;
        we approximate the relative maximum to be <m>1</m>.
      </p>

      <p>
        It is straightforward to evaluate
        <m>\fp(x) =\frac{1}{5}\left(12x^3-12x^2-24x\right)</m> at <m>x=0, 1</m> and <m>2</m>.
        In each case, <m>\fp(x) = 0</m>.
      </p>
    </solution>
  </example>

  <example xml:id="ex_extval3">
    <title>Approximating relative extrema</title>
    <statement>
      <p>
        Approximate the relative extrema of <m>f(x) = (x-1)^{2/3}+2</m>,
        shown in <xref ref="fig_extval3">Figure</xref>.
        At each of these points, evaluate <m>\fp</m>.
      </p>

      <figure xml:id="fig_extval3">
        <caption>A graph of <m>f(x) = (x-1)^{2/3}+2</m> as in <xref ref="ex_extval3">Example</xref></caption>
          <!-- START figures/fig_extval3.tex -->
        <image xml:id="img_extval3" width="47%">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[xmin=-.6,xmax=2.6,
          ymin=-.5,ymax=3.5]
          \addplot+[rightarrow,domain=2:3.2] ({(x-2)^1.5+1},{x});
          \addplot[firstcurvestyle,rightarrow,domain=2:3.2] ({-(x-2)^1.5+1},{x});
          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
          <!-- figures/fig_extval3.tex END -->
      </figure>
    </statement>
    <solution>
      <p>
        The figure implies that <m>f</m> does not have any relative maxima,
        but has a relative minimum at <m>(1,2)</m>.
        In fact, the graph suggests that not only is this point a relative minimum,
        <m>y=f(1)=2</m> is <em>the</em> minimum value of the function.
      </p>

      <p>
        We compute <m>\fp(x) = \frac23(x-1)^{-1/3}</m>.
        When <m>x=1</m>, <m>\fp</m> is undefined.
      </p>
    </solution>
  </example>

  <p>
    What can we learn from the previous two examples?
    We were able to visually approximate relative extrema,
    and at each such point,
    the derivative was either <m>0</m> or it was not defined.
    This observation holds for all functions,
    leading to a definition and a theorem.
  </p>

  <definition xml:id="def_criticalnum">
    <title>Critical Numbers and Critical Points</title>
    <statement>
      <p>
        Let <m>f</m> be defined at <m>c</m>.
        The value <m>c</m> is a <term>critical number</term>
        (or <term>critical value</term>)
        of <m>f</m> if <m>\fp(c)=0</m> or <m>\fp(c)</m> is not defined.

              <idx><h>critical number</h></idx>
              <idx><h>critical point</h></idx>

      </p>

      <p>
        If <m>c</m> is a critical number of <m>f</m>,
        then the point <m>(c,f(c))</m> is a
        <term>critical point</term> of <m>f</m>.
      </p>
    </statement>
  </definition>

  <aside>
    <p>
      In this text we use <q>critical number</q> and <q>critical value</q>
      interchangeably. Other textbooks reserve the term <em>critical value</em>
      for the function value <m>f(c)</m>, when <m>c</m> is a critical number.
    </p>
  </aside>

  <theorem xml:id="thm_criticalpts">
    <title>Relative Extrema and Critical Points</title>
    <statement>
      <p>
        Let a function <m>f</m> be defined on an open interval <m>I</m> containing <m>c</m>,
        and let <m>f</m> have a relative extremum at the point <m>(c,f(c))</m>.
        Then <m>c</m> is a critical number of <m>f</m>.
      </p>
    </statement>
  </theorem>

  <!-- <figure xml:id="vid_graphs_extreme_val_crit_pnts">
    <caption>Video presentation of <xref ref="def_criticalnum"/> and <xref ref="thm_criticalpts"/></caption>
    <video youtube="WsBGpi006X0"/>
  </figure> -->

  <p>
    Be careful to understand that this theorem states
    <q>Relative extrema on open intervals occur at critical points.</q>
    It does not say <q>All critical numbers produce relative extrema.</q> For instance,
    consider <m>f(x) = x^3</m>.
    Since <m>\fp(x) = 3x^2</m>,
    it is straightforward to determine that <m>x=0</m> is a critical number of <m>f</m>.
    However, <m>f</m> has no relative extrema,
    as illustrated in <xref ref="fig_extreme4">Figure</xref>.
  </p>

  <figure xml:id="fig_extreme4">
    <caption>A graph of <m>f(x)=x^3</m> which has a critical value of <m>x=0</m>, but no relative extrema</caption>
      <!-- START figures/fig_extreme4.tex -->
    <image xml:id="img_extreme4" width="47%">
      <description></description>
      <latex-image>

      \begin{tikzpicture}
      \begin{axis}[xmin=-1.1,xmax=1.1,
			ymin=-1.1,ymax=1.1]
      \addplot+[domain=-1:1] {x^3};
      \end{axis}
      \end{tikzpicture}

      </latex-image>
    </image>
      <!-- figures/fig_extreme4.tex END -->
  </figure>

  <p>
    <xref ref="thm_extreme_val">Theorem</xref>
    states that a continuous function on a closed interval will have both an absolute maximum and an absolute minimum.
    Common sense tells us <q>extrema occur either at the endpoints or somewhere in between.</q>
    It is easy to check for extrema at endpoints,
    but there are infinitely many points to check that are <q>in between.</q>
    <xref ref="thm_criticalpts">Theorem</xref> tells us we need only check at the critical points that are in between the endpoints.
    We combine these concepts to offer a strategy for finding extrema.
  </p>

  <insight xml:id="idea_extrema">
    <title>Finding Extrema on a Closed Interval</title>
    <p>
      Let <m>f</m> be a continuous function defined on a closed interval <m>[a,b]</m>.
      To find the maximum and minimum values of <m>f</m> on <m>[a,b]</m>:
          <idx><h>extrema</h><h>finding</h></idx>

      <ol>
        <li>
          <p>
            Evaluate <m>f</m> at the endpoints <m>a</m> and <m>b</m> of the interval.
          </p>
        </li>

        <li>
          <p>
            Find the critical numbers of <m>f</m> in <m>[a,b]</m>.
          </p>
        </li>

        <li>
          <p>
            Evaluate <m>f</m> at each critical number.
          </p>
        </li>

        <li>
          <p>
            The absolute maximum of <m>f</m> is the largest of these values,
            and the absolute minimum of <m>f</m> is the least of these values.
          </p>
        </li>
      </ol>
    </p>
  </insight>

  <p>
    We practice these ideas in the next examples.
  </p>

  <example xml:id="ex_extval4">
    <title>Finding extreme values</title>
    <statement>
      <p>
        Find the extreme values of <m>f(x) = 2x^3+3x^2-12x</m> on <m>[0,3]</m>,
        graphed in <xref ref="fig_extval4">Figure</xref>.
      </p>

      <figure xml:id="fig_extval4">
        <caption>A graph of <m>f(x) = 2x^3+3x^2-12x</m> on <m>[0,3]</m> as in <xref ref="ex_extval4">Example</xref></caption>
          <!-- START figures/fig_extval4.tex -->
        <image xml:id="img_extval4" width="47%">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[xmin=-.4,xmax=3.3,
          ymin=-7.5,ymax=45.5]
          \addplot+[-,domain=0:3] {2*x^3+3*x^2-12*x};
          \addplot[soliddot] coordinates {(0,0) (3,45)};
          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
          <!-- figures/fig_extval4.tex END -->
      </figure>
    </statement>
    <solution>
      <!-- <video xml:id="vid_graphs_extreme_val_ex_1" width="98%" youtube="LyhHlreZvhc"/> -->
      <p>
        We follow the steps outlined in <xref ref="idea_extrema">Key Idea</xref>.
        We first evaluate <m>f</m> at the endpoints:
        <md>
          <mrow>f(0)\amp=0\amp f(3)\amp=45</mrow>
        </md>.
      </p>

      <p>
        Next, we find the critical values of <m>f</m> on <m>[0,3]</m>.
        <m>\fp(x) = 6x^2+6x-12 = 6(x+2)(x-1)</m>;
        therefore the critical values of <m>f</m> are <m>x=-2</m> and <m>x=1</m>.
        Since <m>x=-2</m> does not lie in the interval <m>[0,3]</m>,
        we ignore it.
        Evaluating <m>f</m> at the only critical number in our interval gives:
        <m>f(1) = -7</m>.
      </p>

      <p>
        <xref ref="table_ext4">Figure</xref>
        gives <m>f</m> evaluated at the <q>important</q>
        <m>x</m> values in <m>[0,3]</m>.
        We can easily see the maximum and minimum values of <m>f</m>:
        the maximum value is <m>45</m> and the minimum value is <m>-7</m>.
      </p>

      <figure xml:id="table_ext4">
        <caption>Finding the extreme values of <m>f(x)= 2x^3+3x^2-12x</m> in <xref ref="ex_extval4">Example</xref></caption>
        <tabular>
          <row bottom="medium">
            <cell><m>x</m></cell>
            <cell><m>f(x)</m></cell>
          </row>
          <row>
            <cell><m>0</m></cell>
            <cell><m>0</m></cell>
          </row>
          <row>
            <cell><m>1</m></cell>
            <cell><m>-7</m></cell>
          </row>
          <row>
            <cell><m>3</m></cell>
            <cell><m>45</m></cell>
          </row>
        </tabular>
      </figure>

    </solution>
  </example>

  <p>
    Note that all this was done without the aid of a graph;
    this work followed an analytic algorithm and did not depend on any visualization.
    <xref ref="fig_extval4">Figure</xref>
    shows <m>f</m> and we can confirm our answer,
    but it is important to understand that these answers can be found without graphical assistance.
  </p>

  <p>
    We practice again.
  </p>

  <example xml:id="ex_extval5">
    <title>Finding extreme values</title>
    <statement>
      <p>
        Find the maximum and minimum values of <m>f</m> on <m>[-4,2]</m>, where
        <me>
          f(x) = \begin{cases}(x-1)^2 \amp  x\leq 0 \\ x+1 \amp  x \gt 0\end{cases}
        </me>.

      </p>
    </statement>
    <solution>
      <!-- <video xml:id="vid_graphs_extreme_val_ex_2" width="98%" youtube="zn&#45;-ShSSMqk"/> -->

      <p>
        Here <m>f</m> is piecewise-defined,
        but we can still apply <xref ref="idea_extrema">Key Idea</xref>
        as it is continuous on <m>[-4,2]</m>
        (one should check to verify that <m>\lim\limits_{x\to 0}f(x) =f(0)</m>).
      </p>

      <p>
        Evaluating <m>f</m> at the endpoints gives:
        <md>
          <mrow>f(-4)\amp=25\amp f(2)\amp=3</mrow>
        </md>.
      </p>

      <p>
        We now find the critical numbers of <m>f</m>.
        We have to define <m>\fp</m> in a piecewise manner; it is
        <me>
          \fp(x) =\begin{cases}2(x-1) \amp  x \lt  0 \\ 1 \amp  x \gt 0\end{cases}
        </me>.
      </p>

      <p>
        Note that while <m>f</m> is defined for all of <m>[-4,2]</m>,
        <m>\fp</m> is not,
        as the derivative of <m>f</m> does not exist when <m>x=0</m>.
        (From the left, the derivative approaches <m>-2</m>;
        from the right the derivative is <m>1</m>.)
        Thus one critical number of <m>f</m> is <m>x=0</m>.
      </p>

      <p>
        We now set <m>\fp(x) = 0</m>.
        When <m>x \gt 0</m>, <m>\fp(x)</m> is never 0.
        When <m>x\lt 0</m>,
        <m>\fp(x)</m> is also never 0, so we find no critical values from setting <m>\fp(x)=0</m>.
      </p>

      <p>
        So we have three important <m>x</m>-values to consider:
        <m>x= -4, 2</m> and <m>0</m>.
        Evaluating <m>f</m> at each gives, respectively, <m>25</m>,
        <m>3</m> and <m>1</m>, shown in <xref ref="table_ext5">Figure</xref>.

        Thus the absolute minimum of <m>f</m> is 1,
        the absolute maximum of <m>f</m> is <m>25</m>.
        Our answer is confirmed by the graph of <m>f</m> in <xref ref="fig_extval5">Figure</xref>.
      </p>

      <sidebyside widths="47% 47%" valign="bottom" margins="0%">

        <figure xml:id="table_ext5">
          <caption>Finding the extreme values of a piecewise-defined function in <xref ref="ex_extval5">Example</xref></caption>
          <tabular>
            <row bottom="medium">
              <cell><m>x</m></cell>
              <cell><m>f(x)</m></cell>
            </row>
            <row>
              <cell><m>-4</m></cell>
              <cell><m>25</m></cell>
            </row>
            <row>
              <cell><m>0</m></cell>
              <cell><m>1</m></cell>
            </row>
            <row>
              <cell><m>2</m></cell>
              <cell><m>3</m></cell>
            </row>
          </tabular>
        </figure>

        <figure xml:id="fig_extval5">
          <caption>A graph of <m>f(x)</m> on <m>[-4,2]</m> as in <xref ref="ex_extval5">Example</xref></caption>
            <!-- START figures/fig_extval5.tex -->
          <image xml:id="img_extval5">
            <description></description>
            <latex-image>

            \begin{tikzpicture}
            \begin{axis}[xmin=-4.5,xmax=2.5,
            ymin=-.9,ymax=25.5]
            \addplot+[-,domain=-4:0] {(x-1)^2};
            \addplot[firstcurvestyle,-,domain=0:2] {x+1};
            \addplot[soliddot] coordinates {(-4,25) (2,3)};
            \end{axis}
            \end{tikzpicture}

            </latex-image>
          </image>
            <!-- figures/fig_extval5.tex END -->
        </figure>
      </sidebyside>
    </solution>
  </example>

  <example xml:id="ex_extval6">
    <title>Finding extreme values</title>
    <statement>
      <p>
        Find the extrema of <m>f(x) = \cos\mathopen{}\left(x^2\right)\mathclose{}</m> on <m>[-2,2]</m>,
          graphed in <xref ref="fig_extval6">Figure</xref>.
      </p>
    </statement>
    <solution>
      <!-- <video xml:id="vid_graphs_extreme_val_ex_3" width="98%" youtube="sT_3kVSsbz4"/> -->
      <p>
        We again use <xref ref="idea_extrema">Key Idea</xref>.
        Evaluating <m>f</m> at the endpoints of the interval gives:
        <m>f(-2) = f(2) = \cos(4) \approx -0.6536</m>.
        We now find the critical values of <m>f</m>.
      </p>

      <p>
        Applying the <xref ref="thm_chain_rule" text="title"/>,
        we find <m>\fp(x) = -2x\sin\mathopen{}\left(x^2\right)\mathclose{}</m>.
        Set <m>\fp(x) = 0</m> and solve for <m>x</m> to find the critical values of <m>f</m>.
      </p>

      <p>
        We have <m>\fp(x) = 0</m> when <m>x = 0</m> and when <m>\sin\mathopen{}\left(x^2\right)\mathclose{}</m>.
        In general, <m>\sin(t) = 0</m> when
        <m>t = \ldots -2\pi, -\pi, 0, \pi, \ldots</m> Thus <m>\sin\mathopen{}\left(x^2\right)\mathclose{} = 0</m> when
        <m>x^2 = 0, \pi, 2\pi, \ldots</m> (<m>x^2</m> is always nonnegative so we ignore <m>-\pi</m>,
        etc.) So <m>\sin\mathopen{}\left(x^2\right)\mathclose{}=0</m> when <m>x= 0, \pm \sqrt{\pi}, \pm\sqrt{2\pi}, \ldots</m>.
        The only values to fall in the given interval of <m>[-2,2]</m> are <m>0</m> and <m>\pm\sqrt{\pi}</m>,
        where <m>\sqrt{\pi} \approx 1.77</m>.
      </p>

      <p>
        We again construct a table of important values in <xref ref="table_ext6">Figure</xref>.
        In this example we have five values to consider:
        <m>x= 0, \pm 2, \pm\sqrt{\pi}</m>.
        From the table it is clear that the maximum value of <m>f</m> on <m>[-2,2]</m> is <m>1</m>;
        the minimum value is <m>-1</m>.
        The graph in <xref ref="fig_extval6">Figure</xref> confirms our results.
      </p>

      <sidebyside widths="47% 47%" valign="bottom" margins="0%">

        <figure xml:id="table_ext6">
          <caption>Finding the extrema of <m>f(x)= \cos\mathopen{}\left(x^2\right)\mathclose{}</m> in <xref ref="ex_extval6">Example</xref></caption>
          <tabular>
            <row bottom="medium">
              <cell><m>x</m></cell>
              <cell><m>f(x)</m></cell>
            </row>
            <row>
              <cell><m>-2</m></cell>
              <cell><m>-0.65</m></cell>
            </row>
            <row>
              <cell><m>-\sqrt{\pi}</m></cell>
              <cell><m>-1</m></cell>
            </row>
            <row>
              <cell><m>0</m></cell>
              <cell><m>1</m></cell>
            </row>
            <row>
              <cell><m>\sqrt{\pi}</m></cell>
              <cell><m>-1</m></cell>
            </row>
            <row>
              <cell><m>2</m></cell>
              <cell><m>-0.65</m></cell>
            </row>
          </tabular>
        </figure>

        <figure xml:id="fig_extval6">
          <caption>A graph of <m>f(x)=\cos\mathopen{}\left(x^2\right)\mathclose{}</m> on <m>[-2,2]</m> as in <xref ref="ex_extval6">Example</xref></caption>
            <!-- START figures/fig_extval6.tex -->
          <image xml:id="img_extval6">
            <description></description>
            <latex-image>

            \begin{tikzpicture}
            \begin{axis}[xmin=-2.2,xmax=2.2,
            ymin=-1.1,ymax=1.1]
            \addplot+[-,samples=40,smooth, domain=-2:2] {cos(deg(x^2))};
            \addplot[soliddot] coordinates{(-2,-0.65)(2,-0.65)};
            \end{axis}
            \end{tikzpicture}

            </latex-image>
          </image>
            <!-- figures/fig_extval6.tex END -->
        </figure>
      </sidebyside>
    </solution>
  </example>

  <p>
    We consider one more example.
  </p>

  <example xml:id="ex_extval7">
    <title>Finding extreme values</title>
    <statement>
      <p>
        Find the extreme values of <m>f(x) = \sqrt{1-x^2}</m>,
        graphed in <xref ref="fig_extval7">Figure</xref>(a).
      </p>
    </statement>
    <solution>
      <p>
        A closed interval is not given,
        so we find the extreme values of <m>f</m> on its domain.
        <m>f</m> is defined whenever <m>1-x^2\geq 0</m>;
        thus the domain of <m>f</m> is <m>[-1,1]</m>.
        Evaluating <m>f</m> at either endpoint returns 0.
      </p>

      <sidebyside widths="47% 47%" valign="bottom" margins="0%">
        <figure xml:id="fig_extval7">
          <caption>A graph of <m>f(x)=\sqrt{1-x^2}</m> on <m>[-1,1]</m> as in <xref ref="ex_extval7">Example</xref></caption>
            <!-- START figures/fig_extval7.tex -->
          <image xml:id="img_extval7">
            <description></description>
            <latex-image>

            \begin{tikzpicture}
            \begin{axis}[xmin=-1.2,xmax=1.2,
            ymin=-1.2,ymax=1.2,
            axis equal]
            \addplot+[-,domain=0:180] ({cos(x)},{sin(x)});
            \addplot[soliddot] coordinates{(-1,0) (1,0)};
            \end{axis}
            \end{tikzpicture}

            </latex-image>
          </image>
            <!-- figures/fig_extval7.tex END -->
        </figure>

        <figure xml:id="table_ext7">
          <caption>Finding the extrema of the half-circle in <xref ref="ex_extval7">Example</xref></caption>
          <tabular>
            <row bottom="medium">
              <cell><m>x</m></cell>
              <cell><m>f(x)</m></cell>
            </row>
            <row>
              <cell><m>-1</m></cell>
              <cell><m>0</m></cell>
            </row>
            <row>
              <cell><m>0</m></cell>
              <cell><m>1</m></cell>
            </row>
            <row>
              <cell><m>1</m></cell>
              <cell><m>0</m></cell>
            </row>
          </tabular>
        </figure>

      </sidebyside>

      <p>
        Using the <xref ref="thm_chain_rule" text="title"/>, we find <m>\fp(x) = -x\big/\sqrt{1-x^2}</m>.
        The critical points of <m>f</m> are found when
        <m>\fp(x) = 0</m> or when <m>\fp</m> is undefined.
        It is straightforward to find that <m>\fp(x) = 0</m> when <m>x=0</m>,

        and <m>\fp</m> is undefined when <m>x=\pm 1</m>,
        the endpoints of the interval
        (which <em>are</em> in the domain of <m>f</m>.)
        The table of important values is given in <xref ref="table_ext7">Figure</xref>.
        The maximum value is <m>1</m>,
        and the minimum value is <m>0</m>.
      </p>
    </solution>
  </example>

  <aside>
    <title>Circle Revisited</title>
    <p>
      We implicitly found the derivative of <m>x^2+y^2=1</m>,
      the unit circle,
      in <xref ref="sec_imp_deriv">Section</xref>
      <xref ref="ex_implicit7">Example</xref> as <m>\lz{y}{x} = -x/y</m>.
      In <xref ref="ex_extval7">Example</xref>,
      half of the unit circle is given as <m>y=f(x) = \sqrt{1-x^2}</m>.
      We found <m>\fp(x) = -x\big/\sqrt{1-x^2}</m>.
      Recognize that the denominator of this fraction is <m>y</m>;
      that is, we again found <m>\fp(x) = \lz{y}{x} = -x/y</m>.
    </p>
  </aside>

  <p>
    We have seen that continuous functions on closed intervals always have a maximum and minimum value,
    and we have also developed a technique to find these values.
    In <xref ref="sec_mvt">Section</xref>,
    we further our study of the information we can glean from <q>nice</q>
    functions with the Mean Value Theorem.
    On a closed interval, we can find the
    <em>average rate of change</em> of a function
    (as we did at the beginning of <xref ref="chapter_derivatives">Chapter</xref>).
    We will see that differentiable functions always have a point at which their <em>instantaneous</em>
    rate of change is same as the <em>average</em> rate of change.
    This is surprisingly useful, as we'll see.
  </p>

  <exercises>
    <subexercises>
      <title>Terms and Concepts</title>
      <exercise>
        <webwork>
          <statement>
            <p>
              Describe what an <q>extreme value</q>
              of a function is in your own words.
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
          <solution>
            <p>
              Answers will vary.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <statement>
          <p>
            Sketch the graph of a function <m>f</m> on <m>(-1,1)</m> that has both a maximum and minimum value.
          </p>
        </statement>
        <answer>
          <p>
            Answers will vary.
          </p>
        </answer>
      </exercise>

      <exercise>
        <webwork>
          <statement>
            <p>
              Describe the difference between absolute and relative maxima in your own words.
            </p>
            <p>
              <var form="essay"/>
            </p>
          </statement>
          <solution>
            <p>
              Answers will vary.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <statement>
          <p>
            Sketch the graph of a function <m>f</m> where <m>f</m> has a relative maximum at <m>x=1</m> and <m>\fp(1)</m> is undefined.
          </p>
        </statement>
        <answer>
          <p>
            Answers will vary.
          </p>
        </answer>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>
          <statement>
            <p>
              <var name="$false" form="popup"/>
              If <m>c</m> is a critical value of a function <m>f</m>,
              then <m>f</m> has either a relative maximum or relative minimum at <m>x=c</m>.
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $zero = Real(0);
            Context()->strings->add('undefined'=>{});
            Context()->strings->add('not defined'=>{alias=>'undefined'});
            $undefined = String("undefined");
          </pg-code>
          <statement>
            <p>
              Fill in the blanks:
              The critical points of a function <m>f</m> are found where <m>\fp(x)</m> is equal to <var name="$zero" width="10"/>
              or where <m>\fp(x)</m> is <var name="$undefined" width="10"/>.
            </p>
          </statement>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Problems</title>
      <exercisegroup cols="2">
        <introduction>
          <p>
            Identify each of the marked points as being an absolute maximum or minimum,
            a relative maximum or minimum, or none of the above.
          </p>
        </introduction>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-0.5,-2.5,6.5,3.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(2,4,6){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(-2,2){$gr->moveTo(-0.04,$i);$gr->lineTo(0.04,$i,'black',2);$gr->lb(new Label(-0.05,$i,$i,'black','right','middle','large'));};
              @x=(0.1,1,2,3,4,5,6);
              @y=(-2,3,1,2,1,-1,2.5);
              for my $i(0..2){
                $left[$i]=Formula("(x-$x[2*$i+1])^2/($x[2*$i]-$x[2*$i+1])^2*($y[2*$i]-$y[2*$i+1])+$y[2*$i+1]");
                $right[$i]=Formula("(x-$x[2*$i+1])^2/($x[2*$i+2]-$x[2*$i+1])^2*($y[2*$i+2]-$y[2*$i+1])+$y[2*$i+1]");
                add_functions($gr,"$left[$i] for x in &lt;$x[2*$i],$x[2*$i+1]> using color:blue and weight:2");
                add_functions($gr,"$right[$i] for x in &lt;$x[2*$i+1],$x[2*$i+2]> using color:blue and weight:2");
              };
              for my $i (0) {$gr->stamps(open_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','left','top','large'));
              };
              for my $i (3) {$gr->stamps(open_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','left','bottom','large'));
              };
              for my $i (1,4,6) {$gr->stamps(closed_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','left','bottom','large'));
              };
              for my $i (2,5) {$gr->stamps(closed_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','left','top','large'));
              };
              for my $A ('A'..'G') {Context()->strings->add($A=>{})};
              $absmax = List("B");
              $absmin = List("None");
              $relmax = List("B");
              $relmin = List("C","F");
            </pg-code>
            <statement>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter the <em>absolute maxima</em> points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$absmax" width="10"/>
              </p>
              <instruction>
                Enter the <em>absolute minima</em> points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$absmin" width="10"/>
              </p>
              <instruction>
                Enter the <em>relative maxima</em> points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$relmax" width="10"/>
              </p>
              <instruction>
                Enter the <em>relative minima</em> points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$relmin" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-0.5,-2.5,5.5,2.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(2,4){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(-2,2){$gr->moveTo(-0.04,$i);$gr->lineTo(0.04,$i,'black',2);$gr->lb(new Label(-0.05,$i,$i,'black','right','middle','large'));};
              @x=(1,2,3,4,5);
              @y=(-2,1,2,1,-1);
              $f[0]=Formula("(x-$x[0])^2/($x[1]-$x[0])^2*($y[1]-$y[0])+$y[0]");
              $f[1]=Formula("(x-$x[1])/($x[2]-$x[1])*($y[2]-$y[1])+$y[1]");
              $f[2]=Formula("(x-$x[3])^2/($x[2]-$x[3])^2*($y[2]-$y[3])+$y[3]");
              $f[3]=Formula("(x-$x[3])/($x[4]-$x[3])*($y[4]-$y[3])+$y[3]");
              for my $i(0..3) {add_functions($gr,"$f[$i] for x in &lt;$x[$i],$x[$i+1]> using color:blue and weight:2");};
              for my $i (0,1,2) {$gr->stamps(closed_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','right','bottom','large'));
              };
              for my $i (3,4) {$gr->stamps(closed_circle($x[$i],$y[$i],'blue'));
                $gr->lb(new Label($x[$i],$y[$i],$ALPHABET[$i],'black','left','bottom','large'));
              };
              for my $A ('A'..'E') {Context()->strings->add($A=>{})};
              $absmax = List("C");
              $absmin = List("A");
              $relmax = List("C");
              $relmin = List("A");
            </pg-code>
            <statement>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter the absolute maxima points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$absmax" width="10"/>
              </p>
              <instruction>
                Enter the absolute minima points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$absmin" width="10"/>
              </p>
              <instruction>
                Enter the relative maxima points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$relmax" width="10"/>
              </p>
              <instruction>
                Enter the relative minima points here, using commas to separate them if there is more than one. If there are none, enter <c>NONE</c>.
              </instruction>
              <p>
                <var name="$relmin" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="2">
        <introduction>
          <p>
            Evaluate <m>\fp(x)</m> at the points indicated in the graph.
          </p>
        </introduction>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-5.5,-0.5,5.5,2.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-5,5){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(1,2){$gr->moveTo(-0.19,$i);$gr->lineTo(0.19,$i,'black',2);$gr->lb(new Label(-0.2,$i,$i,'black','right','middle','large'));};
              $f=Formula("2/(x^2+1)");
              add_functions($gr,"$f for x in &lt;-5,5> using color:blue and weight:2");
              $gr->stamps(closed_circle(0,2,'blue'));
              $gr->lb(new Label(0,2,'(0,2)','black','left','bottom','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(0)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-4,-1,4,6.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-2,2){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(2,4,6){$gr->moveTo(-0.19,$i);$gr->lineTo(0.19,$i,'black',2);$gr->lb(new Label(-0.2,$i,$i,'black','right','middle','large'));};
              $f=Formula("x^2*sqrt(6-x^2)");
              add_functions($gr,"$f for x in &lt;-2.449489,2.449489> using color:blue and weight:2");
              $gr->stamps(closed_circle(0,0,'blue'));
              $gr->lb(new Label(0,0,'(0,0)','black','left','top','large'));
              $gr->stamps(closed_circle(2,5.656854,'blue'));
              $gr->lb(new Label(2,4*sqrt(2),'(2,4sqrt(2))','black','center','bottom','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(0)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(2)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-0.5,-1.4,6.5,1.4,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(2,4,6){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(-1,1){$gr->moveTo(-0.19,$i);$gr->lineTo(0.19,$i,'black',2);$gr->lb(new Label(-0.2,$i,$i,'black','right','middle','large'));};
              $f=Formula("sin(x)");
              add_functions($gr,"$f for x in &lt;0,6.2831852> using color:blue and weight:2");
              $gr->stamps(closed_circle(1.570796,1,'blue'));
              $gr->lb(new Label(pi/2,1,'(pi/2,1)','black','left','bottom','large'));
              $gr->stamps(closed_circle(4.712389,-1,'blue'));
              $gr->lb(new Label(3*pi/2,-1,'(3pi/2,-1)','black','right','top','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(\pi/2)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(3\pi/2)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-2.5,-2,4.5,11,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-2,2,4){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(5,10){$gr->moveTo(-0.09,$i);$gr->lineTo(0.09,$i,'black',2);$gr->lb(new Label(-0.1,$i,$i,'black','right','middle','large'));};
              $f=Formula("x^2*sqrt(4-x)");
              add_functions($gr,"$f for x in &lt;-2,3.999999> using color:blue and weight:2");
              $gr->stamps(closed_circle(0,0,'blue'));
              $gr->lb(new Label(0,0,'(0,0)','black','left','top','large'));
              $gr->stamps(closed_circle(16/5,512*sqrt(5)/125,'blue'));
              $gr->lb(new Label(16/5,512*sqrt(5)/125,'(16/5,512sqrt(5)/125)','black','right','bottom','large'));
              $gr->stamps(closed_circle(4,0,'blue'));
              $gr->lb(new Label(4,0,'(4,0)','black','right','bottom','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(0)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(16/5)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(4)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$dne" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-1,-0.5,11,6.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(5,10){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(2,4,6){$gr->moveTo(-0.09,$i);$gr->lineTo(0.09,$i,'black',2);$gr->lb(new Label(-0.1,$i,$i,'black','right','middle','large'));};
              Context()->flags->set(reduceConstants=>0);
              $f=Formula("1+(x-2)^(2/3)/x");
              $g=Formula("1+(2-x)^(2/3)/x");
              add_functions($gr,"$g for x in &lt;0.1,2> using color:blue and weight:2");
              add_functions($gr,"$f for x in &lt;2,11> using color:blue and weight:2");
              $gr->stamps(closed_circle(2,1,'blue'));
              $gr->lb(new Label(2,1,'(2,1)','black','left','top','large'));
              $gr->stamps(closed_circle(6,1+2**(1/3)/3,'blue'));
              $gr->lb(new Label(6,1+2**(1/3)/3,'(6,1+cbrt(2)/3)','black','center','top','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(2)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$dne" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(6)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-2.5,-0.5,2.5,3.5,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-2,2){$gr->moveTo($i,-0.04);$gr->lineTo($i,0.04,'black',2);$gr->lb(new Label($i,-0.05,$i,'black','center','top','large'));};
              for my$i(1,2,3){$gr->moveTo(-0.09,$i);$gr->lineTo(0.09,$i,'black',2);$gr->lb(new Label(-0.1,$i,$i,'black','right','middle','large'));};
              Context()->flags->set(reduceConstants=>0);
              parser::Root->Enable;
              $f=Formula("root(3,x^4-2x^2+1)");
              $g=Formula("-root(3,-(x^4-2x^2+1))");
              add_functions($gr,"$f for x in &lt;-2.5,-1> using color:blue and weight:2");
              add_functions($gr,"$g for x in &lt;-1,1> using color:blue and weight:2");
              add_functions($gr,"$f for x in &lt;1,2.5> using color:blue and weight:2");
              $gr->stamps(closed_circle(-1,0,'blue'));
              $gr->lb(new Label(-1,0,'(-1,0)','black','left','top','large'));
              $gr->stamps(closed_circle(1,0,'blue'));
              $gr->lb(new Label(1,0,'(1,0)','black','left','top','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(-1)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$dne" width="10"/>
              </p>
              <instruction>
                Enter <m>f^{\prime}(1)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$dne" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-1.1,-0.6,1.1,1.1,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-1,-0.5,0.5,1){$gr->moveTo($i,-0.02);$gr->lineTo($i,0.02,'black',2);$gr->lb(new Label($i,-0.03,$i,'black','center','top','large'));};
              for my$i(-0.5,0.5,1){$gr->moveTo(-0.04,$i);$gr->lineTo(0.04,$i,'black',2);$gr->lb(new Label(-0.05,$i,$i,'black','right','middle','large'));};
              $f=Formula("x^2");
              $g=Formula("x^5");
              add_functions($gr,"$f for x in &lt;-1,0> using color:blue and weight:2");
              add_functions($gr,"$g for x in &lt;0,1> using color:blue and weight:2");
              $gr->stamps(closed_circle(0,0,'blue'));
              $gr->lb(new Label(0,0,'(0,0)','black','left','top','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = \begin{cases}x^2,\amp x\leq0\\x^5,\amp x\gt0\end{cases}</m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(0)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$zero" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork>
            <pg-code>
              $gr=init_graph(-1.1,-0.6,1.1,1.1,axes=>[0,0],size=>[282,282]);
              $gr->lb('reset');
              for my$i(-1,-0.5,0.5,1){$gr->moveTo($i,-0.02);$gr->lineTo($i,0.02,'black',2);$gr->lb(new Label($i,-0.03,$i,'black','center','top','large'));};
              for my$i(-0.5,0.5,1){$gr->moveTo(-0.04,$i);$gr->lineTo(0.04,$i,'black',2);$gr->lb(new Label(-0.05,$i,$i,'black','right','middle','large'));};
              $f=Formula("x^2");
              $g=Formula("x");
              add_functions($gr,"$f for x in &lt;-1,0> using color:blue and weight:2");
              add_functions($gr,"$g for x in &lt;0,1> using color:blue and weight:2");
              $gr->stamps(closed_circle(0,0,'blue'));
              $gr->lb(new Label(0,0,'(0,0)','black','left','top','large'));
              $zero=Real(0);
              $dne = String("DNE");
            </pg-code>
            <statement>
              <p>
                <m>f(x) = \begin{cases}x^2,\amp x\leq0\\x,\amp x\gt0\end{cases}</m>
              </p>
              <sidebyside>
                <image pg-name="$gr"/>
              </sidebyside>
              <instruction>
                Enter <m>f^{\prime}(0)</m>. If the derivative does not exist at the indicated point, enter <c>DNE</c> for <q>does not exist</q>.
              </instruction>
              <p>
                <var name="$dne" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="2">
        <introduction>
          <p>
            Find the extreme values of the function on the given interval.
          </p>
        </introduction>
        <exercise>
          <webwork seed="1">
            <pg-code>
              ($b,$c) = (-9..-1,1..9)[NchooseK(18,2)];
              ($l,$h) = (1..4)[NchooseK(4,2)];
              if($envir{problemSeed}==1){$b=1;$c=4;$l=1;$h=2};
              $low = int(-$b/2) - $l;
              $high = int(-$b/2) + $h;
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("Fraction");
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>-$b/2)));
              $min = Fraction(min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>-$b/2)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $r = random(-9,-1,1);
              $s = random(1,9,1);
              $d = non_zero_random(-9,9,1);
              $high = $s+random(1,2,1);
              if($envir{problemSeed}==1){$r=-2;$s=5;$d=3;$high=6};
              $low = Real(0);
              $b = Fraction(-3*($r+$s)/2);
              $c = 3*$r*$s;
              $f = Formula("x^3+$b x^2+$c x+$d")->reduce;
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$r),$f->eval(x=>$s)));
              $min = Fraction(min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$r),$f->eval(x=>$s)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $c = random(2,4,1);
              $trig = list_random('sin','cos');
              ($lowd,$highd) = (3,4,6)[NchooseK(3,2)];
              if ($trig eq 'sin') {
                if (list_random(0,1)) {$low = Formula("pi/$lowd"); $high = Formula("(($highd-1)pi)/$highd")}
                else {$low = Formula("(($lowd+1)pi)/$lowd"); $high = Formula("((2*$highd-1)pi)/$highd")}
              } else {
                if (list_random(0,1)) {$low = Formula("-pi/$lowd"); $high = Formula("pi/$highd")}
                else {$low = Formula("(($lowd-1)pi)/$lowd"); $high = Formula("(($highd+1)pi)/$highd")}
              }
              if($envir{problemSeed}==1){$c=3;$trig='sin';$low=Formula("pi/4");$high=Formula("(2pi)/3")};
              $f = Formula("$c $trig(x)");
              $max = max($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$c * $f->eval(x=>$low->eval(x=>0)) / abs($f->eval(x=>$low->eval(x=>0))));
              $min = min($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$c * $f->eval(x=>$low->eval(x=>0)) / abs($f->eval(x=>$low->eval(x=>0))));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>\left[<var name="$low"/>,<var name="$high"/>\right]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $n = list_random(2,4,6);
              $r = random(1,4,1);
              if($envir{problemSeed}==1){$n=2;$r=2;};
              $low = -$r;
              $high = $r;
              $f = Formula("x^$n sqrt($r^2-x^2)");
              $a = -sqrt($n*$r**2/($n+1));
              $b = sqrt($n*$r**2/($n+1));
              $max = max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a),$f->eval(x=>$b),$f->eval(x=>0));
              $min = min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a),$f->eval(x=>$b),$f->eval(x=>0));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $a = list_random(2,3,5,6,7);
              $low = random(1,int(sqrt($a)),1);
              $high = random(int(sqrt($a))+1,int(sqrt($a))+6);
              if($envir{problemSeed}==1){$a=3;$low=1;$high=5;};
              $f = Formula("x+$a/x");
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>sqrt($a))));
              $min = min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>sqrt($a)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $n = random(2,4,2);
              $a = random(1,9,1);
              $low = random(-9,-1,1);
              $high = random(1,9,1);
              if($envir{problemSeed}==1){$n=2;$a=5;$low=-3;$high=5;};
              $f = Formula("x^$n/(x^$n+$a)");
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>0)));
              $min = Fraction(min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>0)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              #$trig = list_random('sin','cos');
              $trig='cos'; #if($envir{problemSeed}==1){$trig='cos'};
              $low = Formula("0");
              $high = Formula("pi");
              $f = Formula("e^x $trig(x)");
              $a = ($trig eq 'cos') ? Formula("3pi/4") : Formula("pi/4");
              $max = Fraction(max($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$f->eval(x=>$a->eval(x=>0))));
              $min = Fraction(min($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$f->eval(x=>$a->eval(x=>0))));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              #$trig = list_random('sin','cos');
              $trig='sin'; #if($envir{problemSeed}==1){$trig='sin'};
              $low = Formula("0");
              $high = Formula("pi");
              $f = Formula("e^x $trig(x)");
              $a = ($trig eq 'cos') ? Formula("3pi/4") : Formula("pi/4");
              $max = Fraction(max($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$f->eval(x=>$a->eval(x=>0))));
              $min = Fraction(min($f->eval(x=>$low->eval(x=>0)),$f->eval(x=>$high->eval(x=>0)),$f->eval(x=>$a->eval(x=>0))));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $n = random(1,4,1);
              $high = random(3,9,1);
              if($envir{problemSeed}==1){$n=1;$high=4;};
              $low = Compute("1");
              $a = exp(1/$n);
              $f = Formula("ln(x)/x^$n")->reduce;
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a)));
              $min = Fraction(min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>

        <exercise>
          <webwork seed="1">
            <pg-code>
              Context("Fraction");
              $d = random(2,5,1);
              do {$n = random(1,2*$d-1,1)} until (gcd($n,$d) == 1);
              $m = random(int($n/$d)+1,int($n/$d)+5,1);
              $high = random(2,4,1);
              if($envir{problemSeed}==1){$d=3;$n=2;$m=1;$high=2;};
              $low = Compute("0");
              $a = ($r/$n)^(1/($n-$r));
              $f = Formula("x^($n/$d) - x^$m")->reduce;
              $max = Fraction(max($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a)));
              $min = Fraction(min($f->eval(x=>$low),$f->eval(x=>$high),$f->eval(x=>$a)));
            </pg-code>
            <statement>
              <p>
                <m>f(x) = <var name="$f"/></m> on <m>[<var name="$low"/>,<var name="$high"/>]</m>
              </p>
              <instruction>
                Enter the maximimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$max" width="10"/>
              </p>
              <instruction>
                Enter the minimimum value here, or enter <c>NONE</c> if there isn't one.
              </instruction>
              <p>
                <var name="$min" width="10"/>
              </p>
            </statement>
          </webwork>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Review</title>
      <exercise>
        <webwork seed="1">
          <pg-code>
            Context()->variables->add(y=>'Real');
            ($m,$n) = (1..4)[NchooseK(4,2)];
            if($envir{problemSeed}==1){$m=1;$n=2};
            $left = Formula("x^2y^$m-y^$n x")->reduce;
            @y=(random(0.1,5,0.1),random(0.1,5,0.1),random(0.1,5,0.1),random(0.1,5,0.1),random(0.1,5,0.1));
            @x=map{($_**$n + list_random(-1,1)*sqrt($_**(2*$n) + 4*$_**$m))/(2*$_**$m)}(@y);
            @xy=map{[$x[$_],$y[$_]]}(0..4);
            $dydx = Formula("(y^$n-2xy^$m)/($m x^2 y^($m-1) - $n x y^($n-1))")->reduce;
            $dydx->{test_points}=~~@xy;
          </pg-code>
          <statement>
            <p>
              Find <m>\lz{y}{x}</m>, where <m><var name="$left"/>=1</m>.
            </p>
            <p>
              <var name="$dydx" width="80"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <pg-code>
            Context("Fraction");
            Context()->variables->add(y=>'Real');
            parser::Assignment->Allow;
            do {
              $n = random(2,4,1);
              ($x0,$y0) = (-3..-1,1..3)[NchooseK(6,2)];
              $pm=list_random('+','-');
            } until ($x0 != $n*$y0**($n-1));
            if($envir{problemSeed}==1){$n=2;$x0=1;$y0=2;$pm='+'};
            $left = Formula("x^$n+y^$n $pm xy");
            $c = $left->eval(x=>$x0,y=>$y0);
            if ($pm eq '+') {$m = Fraction(-$n*$x0**($n-1)-$y0,$n*$y0**($n-1)+$x0)}
            else {$m = Fraction(-$n*$x0**($n-1)+$y0,$n*$y0**($n-1)-$x0)};
            $t=Formula("y=$m(x-$x0)+$y0")->reduce;
          </pg-code>
          <statement>
            <p>
              Find the equation of the line tangent to the graph of
              <m><var name="$left"/>=<var name="$c"/></m> at the point <m>(<var name="$x0"/>,<var name="$y0"/>)</m>.
            </p>
            <p>
              <var name="$t" width="80"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <pg-code>
            $n = random(3,4,1);
            $b = non_zero_random(-2,2,1);
            if($envir{problemSeed}==1){$n=3;$b=1;};
            $f = Formula("x^$n+$b x")->reduce;
            $l = $f->D('x');
          </pg-code>
          <statement>
            <p>
              Let <m>f(x) = <var name="$f"/></m>. Find <m>\lim\limits_{s\to 0} \frac{f(x+s)-f(x)}{s}</m>.
            </p>
            <p>
              <var name="$l" width="80"/>
            </p>
          </statement>
        </webwork>
      </exercise>
    </subexercises>
  </exercises>
</section>
