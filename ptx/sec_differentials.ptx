<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="sec_differentials">
  <title>Differentials</title>

  <figure xml:id="vid_deriv_apps_diff_intro">
    <caption>Video introduction to <xref ref="sec_differentials"/></caption>
    <video youtube="YmODT2PolKY"/>
  </figure>

  <p>
    In <xref ref="sec_interp_deriv">Section</xref>
    we explored the meaning and use of the derivative.
    This section starts by revisiting some of those ideas.
  </p>

  <p>
    Recall that the derivative of a function <m>f</m> can be used to find the slopes of lines tangent to the graph of <m>f</m>.
    At <m>x=c</m>,
    the tangent line to the graph of <m>f</m> has equation
    <me>
      y = \fp(c)(x-c)+f(c)
    </me>.
  </p>

  <p>
    The tangent line can be used to find good approximations of <m>f(x)</m> for values of <m>x</m> near <m>c</m>.
  </p>

  <p>
    For instance, we can approximate
    <m>\sin(1.1)</m> using the tangent line to the graph of
    <m>f(x)=\sin(x)</m> at <m>x=\pi/3 \approx 1.05</m>.
    Recall that <m>\sin(\pi/3) = \sqrt{3}/2 \approx 0.866</m>,
    and <m>\fp(\pi/3)=\cos(\pi/3) = 1/2</m>.
    Thus the tangent line to <m>f(x) = \sin(x)</m> at <m>x=\pi/3</m> is:
    <me>
      \ell(x) = \frac12(x-\pi/3)+0.866
    </me>.
  </p>

  <figure xml:id="fig_diffal1">
    <caption>Graphing <m>f(x) = \sin(x)</m> and its tangent line at <m>x=\pi/3</m> in order to estimate <m>\sin(1.1)</m>.</caption>
    <sidebyside widths="47% 47%">
      <figure xml:id="fig_diffal1a">
        <caption/>
        <image xml:id="img_diffal1a">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[
          xtick=\empty,
          extra x ticks={1.047},
          extra x tick labels={$\frac{\pi}{3}$},
          ytick = {0,0.5,1},
          extra y ticks={0.866},
          extra y tick labels={$\frac{\sqrt{3}}{2}$},
          ymin=-.1,ymax=1.1,
          xmin=-.1,xmax=2.36,
          ]
          \addplot+[domain=0:2.1, rightarrow] {sin(deg(x))};
          \addplot [tangentline, domain=-.1:1.5] {.5*(x-1.047197551)+0.866025};
          \addplot [soliddot] coordinates {(1.047,0.866)} node [below right] {\small $(\pi/3,\sqrt{3}/3)$};
          \draw (axis cs:1.04,.86) rectangle (axis cs:1.122,.9);
          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
      </figure>

      <figure xml:id="fig_diffal1b">
        <caption/>
        <image xml:id="img_diffal1b">
          <description></description>
          <latex-image>

          \begin{tikzpicture}
          \begin{axis}[
          xtick=\empty,%
          extra x ticks={1.047,1.1},
          extra x tick labels={$\frac{\pi}{3}$,$1.1$},
          extra y ticks={0.866},
          extra y tick labels={$\frac{\sqrt{3}}{2}$},
          ytick={0.86,0.87,0.88,0.89},
          %extra y ticks={0.866},
          %extra y tick labels={$\frac{\sqrt{3}}{2}$},
          xdiscontinuity,
          ydiscontinuity,
          ymin=.86,ymax=.9,%
          xmin=1.04,xmax=1.122,
          ]
          \addplot+[domain=1.04:1.12] {sin(deg(x))};
          \addplot [tangentline,domain=1.04:1.115] {.5*(x-1.0471)+0.866025};
          \addplot [soliddot] coordinates{(1.047,0.866)} node [below right] {\small $\left(\pi/3,\sqrt{3}/3\right)$};
          \addplot [soliddot,guideline] coordinates {(1.1,.8925)} node [pin={180:{$\ell(1.1)\approx \sin(1.1)$}}] {};
          \addplot [soliddot] coordinates {(1.1,.8912)} node [pin={0:{$\sin(1.1)$}}] {};

          \end{axis}
          \end{tikzpicture}

          </latex-image>
        </image>
      </figure>
    </sidebyside>
  </figure>

  <p>
    In <xref ref="fig_diffal1a">Figure</xref>,
    we see a graph of <m>f(x) = \sin(x)</m> graphed along with its tangent line at <m>x=\pi/3</m>.
    The small rectangle shows the region that is displayed in <xref ref="fig_diffal1b">Figure</xref>.
    In this figure, we see how we are approximating
    <m>\sin(1.1)</m> with the tangent line, evaluated at <m>1.1</m>.
    Together, the two figures show how close these values are.
  </p>

  <p>
    Using this line to approximate <m>\sin(1.1)</m>, we have:
    <md>
      <mrow>\ell(1.1) \amp = \frac{1}{2}(1.1-\pi/3)+0.866</mrow>
      <mrow>\amp = \frac12(0.053)+0.866 = 0.8925</mrow>
    </md>.
  </p>

  <p>
    (We leave it to the reader to see how good of an approximation this is.)
  </p>

  <figure xml:id="vid_deriv_apps_diff_ex_1">
    <caption>Approximating the value of <m>\sin(1.1)</m></caption>
    <video youtube="mQRelmurD-w"/>
  </figure>


  <p>
    We now generalize this concept.
    Given <m>f(x)</m> and an <m>x</m>-value <m>c</m>,
    the tangent line is <m>\ell(x) = \fp(c)(x-c)+f(c)</m>.
    Clearly, <m>f(c) = \ell(c)</m>.
    Let <m>\dx</m> be a small number,
    representing a small change in the <m>x</m>-value.
    We assert that:
    <me>
      f(c+\dx) \approx \ell(c+\dx)
    </me>,
    since the tangent line to a function approximates well the values of that function near <m>x=c</m>.
  </p>

  <p>
    As the <m>x</m>-value changes from <m>c</m> to <m>c+\dx</m>,
    the <m>y</m>-value of <m>f</m> changes from <m>f(c)</m> to <m>f(c+\dx)</m>.
    We call this change of <m>y</m>-value <m>\dy</m>.
    That is:
    <me>
      \dy = f(c+\dx)-f(c)
    </me>.
  </p>

  <p>
    Replacing <m>f(c+\dx)</m> with its tangent line approximation, we have
    <mdn>
      <mrow number="no">\dy \amp \approx \ell(c+\dx) - f(c)</mrow>
      <mrow number="no">\amp = \fp(c)\big((c+\dx)-c\big)+f(c) - f(c)</mrow>
      <mrow xml:id="eq_differential">\amp =\fp(c)\dx</mrow>
    </mdn>.
  </p>

  <p>
    This final equation is important;
    it becomes the basis of <xref ref="def_differential">Definition</xref> and <xref ref="idea_differential">Key Idea</xref>.
    In short, it says that when the <m>x</m>-value changes from <m>c</m> to <m>c+\Delta x</m>,
    the <m>y</m> value of a function <m>f</m> changes by about <m>\fp(c)\Delta x</m>.
  </p>

  <p>
    We introduce two new variables,
    <m>dx</m> and <m>dy</m> in the context of a formal definition.
  </p>

  <definition xml:id="def_differential">
    <title>Differentials of <m>x</m> and <m>y</m></title>
    <statement>
      <p>
        Let <m>y=f(x)</m> be differentiable.
        The <term>differential</term> of <m>x</m>,
        denoted <m>dx</m>, is any nonzero real number
        (usually taken to be a small number).

        <idx><h>differential</h></idx>

        <idx><h>derivative</h><h>differential</h></idx>

        The <term>differential</term> of <m>y</m>, denoted <m>dy</m>, is
        <me>
          dy = \fp(x)dx
        </me>.
      </p>
    </statement>
  </definition>

  <figure xml:id="vid_deriv_apps_diff_defn">
    <caption>Video presentation of <xref ref="def_differential"/></caption>
    <video youtube="y9lTgdHD8wI"/>
  </figure>


  <p>
    We can solve for <m>\fp(x)</m> in the above equation:
    <m>\fp(x) = dy/dx</m>.
    This states that the derivative of <m>f</m> with respect to <m>x</m> is the differential of <m>y</m> divided by the differential of <m>x</m>;
    this is <em>not</em> the alternate notation for the derivative,
    <m>\lz{y}{x}</m>.
    This latter notation was chosen because of the fraction-like qualities of the derivative,
    but again,
    it is one symbol and not a fraction.
  </p>

  <p>
    It is helpful to organize our new concepts and notations in one place.
  </p>

  <insight xml:id="idea_differential">
    <title>Differential Notation</title>
    <p>
      Let <m>y = f(x)</m> be a differentiable function.

      <idx><h>differential</h><h>notation</h></idx>

    </p>

    <p>
      <ol>
        <li>
          <p>
            Let <m>\dx</m> represent a small,
            nonzero change in <m>x</m> value.
          </p>
        </li>

        <li>
          <p>
            Let <m>dx</m> represent a small,
            nonzero change in <m>x</m> value (i.e., <m>\dx = dx</m>).
          </p>
        </li>

        <li>
          <p>
            Let <m>\dy</m> be the change in <m>y</m> value as <m>x</m> changes by <m>\dx</m>; hence
            <me>
              \dy = f(x+\dx)-f(x)
            </me>.
          </p>
        </li>

        <li>
          <p>
            Let <m>dy = \fp(x)dx</m> which,
            by <xref ref="eq_differential">Equation</xref>,
            is an <em>approximation</em> of the change in <m>y</m>-value as <m>x</m> changes by <m>\dx</m>;
            <m>dy \approx \dy</m>.
          </p>
        </li>
      </ol>
    </p>
  </insight>

  <p xml:id="vidint_deriv_apps_diff_dx_eq_delta_x">
    When students first encounter differentials,
    they are often left wondering why <m>dy</m> and <m>\Delta y</m> are different,
    while <m>dx</m> and <m>\Delta x</m> are the same.
    This next video attempts to offer an explanation.
  </p>

  <figure xml:id="vid_deriv_apps_diff_dx_eq_delta_x">
    <caption>Why is it that <m>dx = \Delta x</m>?</caption>
    <video youtube="XxpcZw702nA"/>
  </figure>

  <p>
    What is the value of differentials?
    Like many mathematical concepts,
    differentials provide both practical and theoretical benefits.
    We explore both here.
  </p>

  <example xml:id="ex_diffal1">
    <title>Finding and using differentials</title>
    <statement>
      <p>
        Consider <m>f(x) = x^2</m>.
        Knowing <m>f(3) = 9</m>, approximate <m>f(3.1)</m>.
      </p>
    </statement>
    <solution>
      <video width="90%" youtube="KCDezzvfDKA" xml:id="vid_deriv_apps_diff_ex_2"/>

      <p>
        The <m>x</m>-value is changing from <m>x=3</m> to <m>x=3.1</m>;
        therefore, we see that <m>dx=0.1</m>.
        If we know how much the <m>y</m>-value changes from <m>f(3)</m> to <m>f(3.1)</m> (i.e., if we know <m>\dy</m>),
        we will know exactly what <m>f(3.1)</m> is (since we already know <m>f(3)</m>).
        We can approximate <m>\dy</m> with <m>dy</m>.
        <md>
          <mrow>\dy \amp \approx dy</mrow>
          <mrow>\amp = \fp(3)dx</mrow>
          <mrow>\amp = 2\cdot 3\cdot 0.1 = 0.6</mrow>
        </md>.
      </p>

      <p>
        We expect the <m>y</m>-value to change by about <m>0.6</m>,
        so we approximate <m>f(3.1) \approx 9.6</m>.
      </p>

      <p>
        We leave it to the reader to verify this,
        but the preceding discussion links the differential to the tangent line of <m>f(x)</m> at <m>x=3</m>.
        One can verify that the tangent line,
        evaluated at <m>x=3.1</m>, also gives <m>y=9.6</m>.
      </p>
    </solution>
  </example>

  <p>
    Of course, it is easy to compute the actual answer (by hand or with a calculator):
    <m>3.1^2 = 9.61</m>. (Before we get too cynical and say
    <q>Then why bother?</q>,
    note our approximation is <em>really</em> good!)
  </p>

  <p>
    So why bother?
  </p>

  <p>
    In <q>most</q> real life situations,
    we do not know the function that describes a particular behavior.
    Instead, we can only take measurements of how things change <mdash/> measurements of the derivative.
  </p>

  <p>
    Imagine water flowing down a winding channel.
    It is easy to measure the speed and direction (i.e., the
    <em>velocity</em>) of water at any location.
    It is very hard to create a function that describes the overall flow,
    hence it is hard to predict where a floating object placed at the beginning of the channel will end up.
    However, we can <em>approximate</em>
    the path of an object using differentials.
    Over small intervals,
    the path taken by a floating object is essentially linear.
    Differentials allow us to approximate the true path by piecing together lots of short,
    linear paths.
    This technique is called Euler's Method,
    studied in introductory Differential Equations courses.
  </p>
  <aside>
    <title>PID controllers</title>
    <p>
      Another place differentials are used is in a PID controller,
      which stands for <q>Proportional Integral Derivative</q>.
      A PID controller uses concepts of both derivative and integral calculus to very accurately control a process
      (such as maintaining a stable temperature on an espresso machine).
    </p>
  </aside>
  <p>
    We use differentials once more to approximate the value of a function.
    Even though calculators are very accessible,
    it is neat to see how these techniques can sometimes be used to easily compute something that looks rather hard.
  </p>

  <example xml:id="ex_diffal2">
    <title>Using differentials to approximate a function value</title>
    <statement>
      <p>
        Approximate <m>\sqrt{4.5}</m>.
      </p>
    </statement>
    <solution>
      <video width="90%" youtube="nFaq1O_wWso" xml:id="vid_deriv_apps_diff_ex_3"/>

      <p>
        We expect <m>\sqrt{4.5} \approx 2</m>, yet we can do better.
        Let <m>f(x) = \sqrt{x}</m>, and let <m>c=4</m>.
        Thus <m>f(4) = 2</m>.
        We can compute <m>\fp(x) = 1/(2\sqrt{x})</m>, so <m>\fp(4) = 1/4</m>.
      </p>

      <p>
        We approximate the difference between <m>f(4.5)</m> and <m>f(4)</m> using differentials,
        with <m>dx = 0.5</m>:
        <md>
          <mrow>f(4.5)-f(4) \amp = \dy \approx dy</mrow>
          <mrow>\amp = \fp(4)\cdot dx</mrow>
          <mrow>\amp = 1/4 \cdot 1/2</mrow>
          <mrow>\amp = 1/8</mrow>
          <mrow>\amp = 0.125</mrow>
        </md>.
      </p>

      <p>
        The approximate change in <m>f</m> from <m>x=4</m> to <m>x=4.5</m> is <m>0.125</m>,
        so we approximate <m>\sqrt{4.5} \approx 2.125</m>.
      </p>
    </solution>
  </example>

  <p>
    Differentials are important when we discuss <em>integration</em>.
    When we study that topic, we will use notation such as
    <me>
      \int f(x)\,dx
    </me>
    quite often.
    While we don't discuss here what all of that notation means,
    note the existence of the differential <m>dx</m>.
    Proper handling of <em>integrals</em>
    comes with proper handling of differentials.
  </p>

  <p>
    In light of that, we practice finding differentials in general.
  </p>

  <example xml:id="ex_diffal3">
    <title>Finding differentials</title>
    <statement>
      <p>
        In each of the following, find the differential <m>dy</m>.
      </p>

      <p>
        <ol cols="3">
          <li><m>y = \sin(x)</m></li>

          <li><m>y = e^x\left(x^2+2\right)</m></li>

          <li><m>y = \sqrt{x^2+3x-1}</m></li>
        </ol>
      </p>
    </statement>
    <solution>
      <p>
        <ol>
          <li>
            <p>
              <m>y = \sin(x)</m>: As <m>f(x) = \sin(x)</m>, <m>\fp(x) = \cos(x)</m>.
              Thus
              <me>
                dy = \cos(x)dx
              </me>.
            </p>
          </li>

          <li>
            <p>
              <m>y = e^x\left(x^2+2\right)</m>: Let <m>f(x) = e^x\left(x^2+2\right)</m>.
              We need <m>\fp(x)</m>,
              requiring the <xref ref="thm_ProductRule"/>.
            </p>

            <p>
              We have <m>\fp(x) = e^x\left(x^2+2\right) + 2xe^x</m>, so
              <me>
                dy = \left(e^x\left(x^2+2\right) + 2xe^x\right)dx
              </me>.
            </p>
          </li>

          <li>
            <p>
              <m>y = \sqrt{x^2+3x-1}</m>: Let <m>f(x) = \sqrt{x^2+3x-1}</m>;
              we need <m>\fp(x)</m>,
              requiring the <xref ref="thm_chain_rule"/>.
            </p>

            <p>
              We have <m>\fp(x) = \frac{1}{2}\left(x^2+3x-1\right)^{-\frac{1}{2}}(2x+3) = \frac{2x+3}{2\sqrt{x^2+3x-1}}</m>.
              Thus
              <me>
                dy = \frac{(2x+3)dx}{2\sqrt{x^2+3x-1}}
              </me>.
            </p>
          </li>
        </ol>
      </p>
    </solution>
  </example>

  <p>
    Finding the differential <m>dy</m> of <m>y=f(x)</m> is really no harder than finding the derivative of <m>f</m>;
    we just <em>multiply</em> <m>\fp(x)</m> by <m>dx</m>.
    It is important to remember that we are not simply adding the symbol
    <q><m>dx</m></q> at the end.
  </p>

  <p>
    We have seen a practical use of differentials as they offer a good method of making certain approximations.
    Another use is <em>error propagation.</em>
    Suppose a length is measured to be <m>x</m>,
    although the actual value is <m>x+\dx</m>
    (where <m>\dx</m> is the error, which we hope is small).
    This measurement of <m>x</m> may be used to compute some other value;
    we can think of this latter value as <m>f(x)</m> for some function <m>f</m>.
    As the true length is <m>x+\dx</m>,
    one really should have computed <m>f(x+\dx)</m>.
    The difference between <m>f(x)</m> and
    <m>f(x+\dx)</m> is the propagated error.
  </p>

  <p>
    How close are <m>f(x)</m> and <m>f(x+\dx)</m>?
    This is a difference in <q>y</q> values:
    <me>
      f(x+\dx)-f(x) = \dy \approx dy
    </me>.
  </p>

  <p>
    We can approximate the propagated error using differentials.
  </p>

  <example xml:id="ex_diffal4">
    <title>Using differentials to approximate propagated error</title>
    <statement>
      <p>
        A steel ball bearing is to be manufactured with a diameter of
        <quantity>
          <mag>2</mag><unit base="meter" prefix="centi"/>
        </quantity>.
        The manufacturing process has a tolerance of <m>\pm 0.1</m><quantity>
          <unit base="meter" prefix="milli"/>
        </quantity>
        in the diameter.
        Given that the density of steel is about
        <quantity>
          <mag>7.85</mag><unit base="gram"/><per base="meter" prefix="centi" exp="3"/>
        </quantity>, estimate the propagated error in the mass of the ball bearing.
      </p>
    </statement>
    <solution>
      <video width="90%" youtube="0_tSaBZZR1s" xml:id="vid_deriv_apps_diff_prop_error"/>

<!--ToDo: apex-mbx used math mode for the equation below, with \text around each term. Is this better?-->
      <p>
        The mass of a ball bearing is found using the equation
        <q>mass = volume <times/> density.</q>
        In this situation the mass function is a product of the radius of the ball bearing,
        hence it is <m>m = 7.85\frac43\pi r^3</m>.
        The differential of the mass is
        <me>
          dm = 31.4\pi r^2 dr
        </me>.
      </p>

      <p>
        The radius is to be
        <quantity>
          <mag>1</mag><unit base="meter" prefix="centi"/>
        </quantity>; the manufacturing tolerance in the radius is <m>\pm 0.05</m><quantity>
          <unit base="meter" prefix="milli"/>
        </quantity>, or <m>\pm 0.005</m><quantity>
          <unit base="meter" prefix="centi"/>
        </quantity>.
        The propagated error is approximately:
        <md>
          <mrow>\Delta m \amp  \approx dm</mrow>
          <mrow>\amp = 31.4\pi (1)^2 (\pm 0.005)</mrow>
          <mrow>\amp = \pm 0.493\text{g}</mrow>
        </md>
      </p>

      <p>
        Is this error significant?
        It certainly depends on the application,
        but we can get an idea by computing the
        <em>relative error</em>.
        The ratio between amount of error to the total mass is
        <md>
          <mrow>\frac{dm}{m} \amp = \pm \frac{0.493}{7.85\frac43\pi}</mrow>
          <mrow>\amp =\pm \frac{0.493}{32.88}</mrow>
          <mrow>\amp =\pm 0.015</mrow>
        </md>,
        or <m>\pm 1.5\%</m>.
      </p>

      <p>
        We leave it to the reader to confirm this,
        but if the diameter of the ball was supposed to be
        <quantity>
          <mag>10</mag><unit base="meter" prefix="centi"/>
        </quantity>, the same manufacturing tolerance would give a propagated error in mass of <m>\pm12.33</m><quantity>
          <unit base="gram"/>
        </quantity>, which corresponds to a
        <em>percent error</em> of <m>\pm0.188\%</m>.
        While the amount of error is much greater (<m>12.33 \gt 0.493</m>),
        the percent error is much lower.
      </p>
    </solution>
  </example>

  <exercises>
<!-- Group 1: T/F and Text -->
    <exercisegroup>

      <introduction>
        <p>
          Terms and Concepts
        </p>
      </introduction>

      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>
          <statement>
            <p>
              Given a differentiable function <m>y=f(x)</m>,
              we are generally free to choose a value for <m>dx</m>,
              which then determines the value of <m>dy</m>.
            </p>

            <p>
              <var name="$true" form="popup"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>
          <statement>

            <!-- <todo>In this question and the next, the book shows delta but this renders as d</todo> -->

            <p>
              The symbols <q><m>dx</m></q> and <q><m>\dx</m></q>
              represent the same concept.
            </p>

            <p>
              <var name="$true" form="popup"/>
            </p>

          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>

          <statement>
            <p>
              The symbols <q><m>dy</m></q> and <q>\dy</q>
              represent the same concept.
            </p>

            <p>
              <var name="$false" form="popup"/>
            </p>
<!--Not clear in text how this is false but above is true -->
            <p>
              T/F: The symbols <q><m>dy</m></q> and <q><m>\dy</m></q>
              represent the same concept.
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>
          <statement>
            <p>
              Differentials are important in the study of integration.
            </p>

            <p>
              <var name="$true" form="popup"/>
            </p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
          </pg-code>
          <statement>
            <p>
              How are differentials and tangent lines related?
            </p>

            <p>
              <var form="essay"/>
            </p>
          </statement>
        </webwork>
      </exercise>

<!--ToDo: WeBWorK code for this new problem-->
      <exercise>
        <webwork>
          <pg-code>
            $true=PopUp(['?','True','False'],1);
            $false=PopUp(['?','True','False'],2);
          </pg-code>
          <statement>
            <p>
              In real life,
              differentials are used to approximate function values when the function itself is not known.
            </p>

            <p>
              <var name="$true" form="popup"/>
            </p>
          </statement>
        </webwork>
      </exercise>

    </exercisegroup>
<!-- Group 2: Approximate with differentials -->
    <exercisegroup xml:id="lastdefcount1">

      <introduction>
        <p>
          In the following exercises,
          use differentials to approximate the given value by hand.
        </p>
      </introduction>
<!-- Exercises 6 & 7: Square function -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^2");
            $df = $f->D('x');
            $x0 = Compute("2");
            $dx = Compute("0.05");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--4.2-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m><var name="$x1"/>^2</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m><var name="$x0"/>^2=<var name="$y"/></m>,
              we have <m><var name="$x1"/>^2 \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^2");
            $df = $f->D('x');
            $x0 = Compute("6");
            $dx = Compute("-0.07");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--35.16-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m><var name="$x1"/>^2</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m><var name="$x0"/>^2=<var name="$y"/></m>,
              we have <m><var name="$x1"/>^2 \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
<!-- Exercises 8 & 9: Cube function -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^3");
            $df = $f->D('x');
            $x0 = Compute("5");
            $dx = Compute("0.1");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--132.5-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m><var name="$x1"/>^3</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m><var name="$x0"/>^3=<var name="$y"/></m>,
              we have <m><var name="$x1"/>^3 \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^3");
            $df = $f->D('x');
            $x0 = Compute("7");
            $dx = Compute("-0.2");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--313.6-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m><var name="$x1"/>^3</m>
            </p>

              <p>
                <var name="$r" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                Use <m>y = <var name="$f"/></m>;
                <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
                and <m>dx = <var name="$dx"/></m>.
                Thus <m>dy = <var name="$dy"/></m>; knowing
                <m><var name="$x0"/>^3=<var name="$y"/></m>,
                we have <m><var name="$x1"/>^3 \approx <var name="$r"/></m>.
              </p>
            </solution>
        </webwork>
      </exercise>
<!-- Exercises 10 & 11: Square root function -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^0.5");
            $df = $f->D('x');
            $x0 = Compute("16");
            $dx = Compute("0.5");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--4.0625-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\sqrt{<var name="$x1"/>}</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\sqrt{<var name="$x0"/>}=<var name="$y"/></m>,
              we have <m>\sqrt{<var name="$x1"/>} \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^0.5");
            $df = $f->D('x');
            $x0 = Compute("25");
            $dx = Compute("-1");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--4.9-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\sqrt{<var name="$x1"/>}</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\sqrt{<var name="$x0"/>}=<var name="$y"/></m>,
              we have <m>\sqrt{<var name="$x1"/>} \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
<!-- Exercises 12 & 13: Cube root -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^(1/3)");
            $df = $f->D('x');
            $x0 = Compute("64");
            $dx = Compute("-1");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0)); <!--3.98-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\sqrt[3]{<var name="$x1"/>}</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\sqrt[3]{<var name="$x0"/>}=<var name="$y"/></m>,
              we have <m>\sqrt[3]{<var name="$x1"/>} \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("x^(1/3)");
            $df = $f->D('x');
            $x0 = Compute("8");
            $dx = Compute("0.5");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0));   <!--2.04-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\sqrt[3]{<var name="$x1"/>}</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\sqrt[3]{<var name="$x0"/>}=<var name="$y"/></m>,
              we have <m>\sqrt[3]{<var name="$x1"/>} \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
<!-- Exercise 14: sin(x) -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->flags->set(ReducedConstants=>0);
            $f = Compute("sin(x)");
            $df = $f->D('x');
            $x0 = Compute("pi");
            $dx = Compute("3 - pi");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0));   <!--0.1416-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\sin(<var name="$x1"/>)</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\sin(<var name="$x0"/>)=<var name="$y"/></m>,
              we have <m>\sin(<var name="$x1"/>) \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
<!-- Exercise 15: cos(x) -->
<!-- Note: problem was removed in APEX V4-->
      <exercise>
        <webwork>
          <pg-code>
            Context()->flags->set(ReducedConstants=>0);
            $f = Compute("cos(x)");
            $df = $f->D('x');
            $x0 = Compute("pi/2");
            $dx = Compute("1.5 - pi/2");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0));   <!--0.07080-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>\cos(<var name="$x1"/>)</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>\cos(<var name="$x0"/>)=<var name="$y"/></m>,
              we have <m>\cos(<var name="$x1"/>) \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
<!-- Exercise 16: e^x -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("e^x");
            $df = $f->D('x');
            $x0 = Compute("0");
            $dx = Compute("0.1");
            $x1 = Compute($x0 + $dx);
            $dy = Compute($df->eval(x=>$x0)*$dx);
            $y = Compute($f->eval(x=>$x0));
            $r = Compute($dy + $f->eval(x=>$x0));   <!--1.100-->
          </pg-code>
          <statement>
            <p>
              Use differentials to approximate the value of <m>e^{<var name="$x1"/>}</m>
            </p>

            <p>
              <var name="$r" width="10"/>
            </p>
          </statement>
          <solution>
            <p>
              Use <m>y = <var name="$f"/></m>;
              <m>dy = <var name="$df"/>\cdot dx</m> with <m>x=<var name="$x0"/></m>
              and <m>dx = <var name="$dx"/></m>.
              Thus <m>dy = <var name="$dy"/></m>; knowing
              <m>e^{<var name="$x0"/>}=<var name="$y"/></m>,
              we have <m>e^{<var name="$x1"/>} \approx <var name="$r"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>

    </exercisegroup>
<!-- Exercise 17 - 29: Compute differential -->
    <exercisegroup>

      <introduction>
        <p>
          In the following exercises, compute the differential <m>dy</m>.
        </p>
      </introduction>

      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("x^2+3x-5");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>y=x^2+3x-5</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 18 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("x^7-x^5");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>y=x^7-x^5</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 19 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("1/(4x^2)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\frac{1}{4x^2}</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 20 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("(2x + sin(x))^2");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=(2x+\sin(x) )^2</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 21 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("x^2*e^(3x)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=x^2e^{3x}</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 22       -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("4/x^4");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\frac{4}{x^4}</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 23 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("2x/(tan(x)+1)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\frac{2x}{\tan(x) + 1}</m>.
            </p>

            <p>
              <var name="$A" width="40"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 24 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("ln(5x)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\ln(5x)</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 25 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("e^x*sin(x)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=e^x\sin(x)</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 26 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("cos(sin(x))");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\cos(\sin(x) )</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 27 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("(x+1)/(x+2)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=\frac{x+1}{x+2}</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 28 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("3^x*ln(x)");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=3^x\ln(x)</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 29 -->
      <exercise>
        <webwork>
          <pg-code>
            Context()->variables->add(dx=>"Real");
            $f = Compute("x*ln(x)-x");
            $df = $f->D('x');
            $A = Formula("$df dx");
          </pg-code>
          <statement>
            <p>
              Compute the differential <m>dy</m>, where <m>\ds y=x\ln(x) -x</m>.
            </p>

            <p>
              <var name="$A" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>

<!--ToDo: WeBWorK code for this new problem -->
    <exercise>
      <statement>
        <p>
          Compute the differential <m>dy</m>, where <m>y = \ln\big(\sec x\big)</m>.
        </p>
      </statement>
      <answer>
        <p>
          <m>dy = \big(\tan x\big)dx</m>
        </p>
      </answer>
    </exercise>

    </exercisegroup>
    <exercisegroup>
<!-- Exercise 30: Propogated error in a plastic sphere -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("4/3*pi*x^3");
            $df = $f->D('x');
            $x0 = Compute("1/2");
            $dx = Compute("0.1/2");
            $err = $df->eval(x=>$x0) * $dx;
            $err = NumberWithUnits("$err cm^3");    <!--pi/20-->
          </pg-code>
          <statement>
            <p>
              A set of plastic spheres are to be made with a diameter of 1 cm.
              If the manufacturing process is accurate to 1 mm,
              what is the propagated error in volume of the spheres?
            </p>

            <p>
              <var name="$err" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 31: Propagated error dropping a stone into a hole -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("16*x^2");
            $df = $f->D('x');
            $dx = Compute("2/10");
            $x0_a = Compute("2");
            $x0_b = Compute("5");

            $err_a = $df->eval(x=>$x0_a) * $dx;
            $err_a = NumberWithUnits("$err_a ft");  <!--12.8 ft-->
            $err_b = $df->eval(x=>$x0_b) * $dx;
            $err_b = NumberWithUnits("$err_b ft"); <!--32 ft-->
          </pg-code>
          <statement>
            <p>
              The distance, in feet,
              a stone drops in <m>t</m> seconds is given by <m>d(t) = 16t^2</m>.
              The depth of a hole is to be approximated by dropping a rock and listening for it to hit the bottom.
              What is the propagated error if the time measurement is accurate to
              <m>2/10^{\text{ ths } }</m> of a second and the measured time is:
            </p>

            <p>
              <ol>
                <li>
                  <p>
                    2 seconds?
                  </p>

                  <p>
                    <var name="$err_a" width="20"/>
                  </p>
                </li>

                <li>
                  <p>
                    5 seconds?
                  </p>

                  <p>
                    <var name="$err_b" width="20"/>
                  </p>
                </li>
              </ol>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 32: Propagated error in cross-sectional area of a log -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("pi*x^2");
            $df = $f->D('x');
            $r = Compute("15/2");
            $dr = Compute("1/8");
            $err = $df->eval(x=>$r) * $dr;    <!--15pi/8-->
            $err = NumberWithUnits("$err in^2");
          </pg-code>
          <statement>
            <p>
              What is the propagated error in the measurement of the cross sectional area of a circular log if the diameter is measured at <m>15''</m>,
              accurate to <m>1/4''</m>?
            </p>

            <p>
              <var name="$err" width="20"/>
            </p>
          </statement>
        </webwork>
      </exercise>
<!-- Exercise 33: Propagated error in SA of wall -->
      <exercise>
        <webwork>
          <pg-code>
            $f = Compute("8*x");
            $df = $f->D('x');
            $dx = Compute("1/24");
            $x = Compute("10 + 7/12");
            $err = $df->eval(x=>$x) * $dx;
            $err = NumberWithUnits("$err ft^2");
          </pg-code>
          <statement>
            <p>
              A wall is to be painted that is <m>8'</m> high and is measured to be <m>10',\, 7''</m> long.
              Find the propagated error in the measurement of the wall's surface area if the measurement is accurate to <m>1/2''</m>.
            </p>

            <p>
              <var name="$err" width="10"/>
            </p>
          </statement>
        </webwork>
      </exercise>

    </exercisegroup>
    <exercisegroup>

      <introduction>
        <p>
          The following exercises explore some issues related to surveying in which distances are approximated using other measured distances and measured angles.
          <em>(Hint: Convert all angles to radians before computing.)</em>
        </p>
      </introduction>
<!-- Exercise 34: Error in length of wall -->
      <exercise xml:id="exer_04_04_ex_35">
        <!-- <webwork>
          <pg-macros><macro-file>contextPercent.pl</macro-file></pg-macros>
          <pg-code>
            Context("Percent");
            $theta = Compute("85.2*pi/180");
            $dtheta = Compute("1*pi/180");
            $f = Compute("25*tan(x)");
            $df = $f->D('x');
            $l = $f->eval(x=>$theta);
            $err = $df->eval(x=>$theta) * $dtheta;
            $err_pct = Compute("$err/$l");-->  <!--20.92%-->
            <!--$l = NumberWithUnits("$l ft");-->  <!--297.8 ft-->
            <!--$err = NumberWithUnits("$err ft");-->  <!--62.32 ft%-->
          <!--</pg-code> -->
          <statement>
            <p>
              The length <m>l</m> of a long wall is to be approximated.
              The angle <m>\theta</m>, as shown in the diagram
              (not to scale),
              is measured to be <m>85.2^\circ</m>,
              accurate to <m>1^\circ</m>.
              Assume that the triangle formed is a right triangle.
            </p>

            <sidebyside width="33%">
              <image xml:id="img_diffal1X">
                <description></description>
                <latex-image>
                \begin{tikzpicture}

                \draw [ultra thick] (1,-1) -- node [pos=.5,right] { \(l=\)?} (1,1);
                \draw [dashed] (1,1) -- (-1,-1) node [xshift=10pt,yshift=5pt] { \(\theta\)} -- node [pos=.5,below] { \(25'\)} (1,-1);

                \end{tikzpicture}
                </latex-image>
              </image>
            </sidebyside>

            <p>
              <ol>
                <li>
                  <p>
                    What is the measured length <m>l</m> of the wall?
                  </p>

                  <!-- <p>
                    <var name="$l" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the propagated error?
                  </p>

                  <!-- <p>
                    <var name="$err" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the percent error?
                  </p>

                  <!-- <p>
                    <var name="$err_pct" width="20"/>
                  </p> -->
                </li>
              </ol>
            </p>
          </statement>
        <!-- </webwork> -->
      </exercise>
<!-- Exercise 35: Length of the wall with a different angle and distance -->
      <exercise xml:id="exer_04_04_ex_36">
        <!-- <webwork>
          <pg-macros><macro-file>contextPercent.pl</macro-file></pg-macros>
          <pg-code>
            Context("Percent");
            $theta = Compute("71.5*pi/180");
            $dtheta = Compute("1*pi/180");
            $f = Compute("100*tan(x)");
            $df = $f->D('x');
            $l = $f->eval(x=>$theta);
            $err = $df->eval(x=>$theta) * $dtheta;
            $err_pct = Compute("$err/$l");-->  <!--0.058002-->
            <!--$l = NumberWithUnits("$l ft");-->  <!--298.87 ft-->
            <!--$err = NumberWithUnits("$err ft");-->  <!--17.335 ft%-->
          <!--</pg-code> -->
          <statement>
            <p>
              Answer the questions of <xref ref="exer_04_04_ex_35">Exercise</xref>,
              but with a measured angle of <m>71.5^\circ</m>,
              accurate to <m>1^\circ</m>, measured from a point <m>100'</m> from the wall.
            </p>

            <p>
              <ol>
                <li>
                  <p>
                    What is the measured length <m>l</m> of the wall?
                  </p>

                  <!-- <p>
                    <var name="$l" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the propagated error?
                  </p>

                  <!-- <p>
                    <var name="$err" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the percent error?
                  </p>

                  <!-- <p>
                    <var name="$err_pct" width="20"/>
                  </p> -->
                </li>
              </ol>
            </p>
          </statement>
        <!-- </webwork> -->
      </exercise>
<!-- Exercise 36: Length of the wall if an isosceles triangle -->
      <exercise xml:id="exer_04_04_ex_34">
        <!-- <webwork>
          <pg-macros><macro-file>contextPercent.pl</macro-file></pg-macros>
          <pg-code>
            Context("Percent");
            $theta = Compute("143*pi/180");
            $dtheta = Compute("1*pi/180");
            $f = Compute("100*tan(x/2)");
            $df = $f->D('x');
            $l = $f->eval(x=>$theta);
            $err = $df->eval(x=>$theta) * $dtheta;
            $err_pct = Compute("$err/$l");-->  <!--2.900%-->
            <!--$l = NumberWithUnits("$l ft"); --> <!--298.87 ft-->
            <!--$err = NumberWithUnits("$err ft");-->  <!--8.6675 ft-->
          <!--</pg-code> -->
          <statement>
            <p>
              The length <m>l</m> of a long wall is to be calculated by measuring the angle <m>\theta</m> shown in the diagram
              (not to scale).
              Assume the formed triangle is an isosceles triangle.
              The measured angle is <m>143^\circ</m>,
              accurate to <m>1^\circ</m>.
            </p>

            <sidebyside width="33%">
              <image xml:id="img_diffal1X1">
                <description></description>
                <latex-image>

                \begin{tikzpicture}

                \draw [ultra thick] (1,-1) -- node [pos=.5,right] { \(l=\)?} (1,1);
                \draw [dashed] (1,1) -- (-1,0) node [xshift=10pt] { \(\theta\)} -- (1,-1);
                \draw (-.5,0) -- node [pos=.5,draw=white,fill=white] { \(50'\)} (1,0);

                \end{tikzpicture}

                </latex-image>
              </image>
            </sidebyside>

            <p>
              <ol>
                <li>
                  <p>
                    What is the measured length of the wall?
                  </p>

                  <!-- <p>
                    <var name="$l" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the propagated error?
                  </p>

                  <!-- <p>
                    <var name="$err" width="20"/>
                  </p> -->
                </li>

                <li>
                  <p>
                    What is the percent error?
                  </p>

                  <!-- <p>
                    <var name="$err_pct" width="20"/>
                  </p> -->
                </li>
              </ol>
            </p>
          </statement>
        <!-- </webwork> -->
      </exercise>
<!-- Exercise 37: Compare errors in wall measurements from previous exercises -->
      <exercise>
        <!-- <webwork>
          <pg-code>-->
          <!--Change these to reference the actual problems using xref -->
          <!--  $A=PopUp(['?','Exercise 34','Exercise 35','Exercise 36'],3);
          </pg-code> -->
          <statement>
            <p>
              The length of the walls in <xref ref="exer_04_04_ex_35">Exercises</xref>
              <mdash/> <xref ref="exer_04_04_ex_34"/> are essentially the same.
              Which setup gives the most accurate result?
            </p>

            <!-- <p>
              <var name="$A" form="popup"/>
            </p> -->
          </statement>
        <!-- </webwork> -->
      </exercise>
<!-- Exercise 38: Length of wall if the distance has the error instead of the angle -->
      <exercise>
        <!-- <webwork>
          <pg-macros><macro-file>contextPercent.pl</macro-file></pg-macros>
          <pg-code>
            Context("Percent");
            $theta = Compute("143*pi/180");
            $d = Compute("50");
            $dd = Compute("1/2");
            $f = Compute("2*x*tan($theta/2)");
            $df = $f->D('x');
            $l = $f->eval(x=>$d);
            $err = $df->eval(x=>$d) * $dd;
            $err_pct = Compute("$err/$l");-->  <!--1.000%-->
            <!--$l = NumberWithUnits("$l ft");-->  <!--298.87 ft-->
            <!--$err = NumberWithUnits("$err ft");-->  <!--2.9887 ft-->
          <!--</pg-code> -->
          <statement>
            <p>
              Consider the setup in <xref ref="exer_04_04_ex_34">Exercise</xref>.
              This time, assume the angle measurement of
              <m>143^\circ</m> is exact but the measured <m>50'</m> from the wall is accurate to <m>6''</m>.
            </p>

            <p>
              What is the approximate percent error?
              <!-- <var name="$err_pct" width="20"/> -->
            </p>
          </statement>
        <!-- </webwork> -->
      </exercise>

    </exercisegroup>
  </exercises>
</section>
